function isNullOrEmpty(n){return typeof n=="undefined"||n===null||n===""||n==="null"||n===undefined}function minutesToTime(n){var t=Math.floor(n/60),i=n%(60*(t?t:1)),r="AM";return n>=720&&n!=1440&&(r="PM"),t>12&&(t=t-12),t==0&&(t="12"),i<10&&(i="0"+i),t+":"+i+" "+r}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function checkSupportedBrowser(){var i=(Modernizr.cssgradients||Modernizr.borderradius||Modernizr.boxshadow)&&Modernizr.canvas&&jQuery.support.ajax,n,t;i||document.cookie.indexOf(browserCookieName)==-1&&(typeof unsupportedBrowserMessage=="string"&&unsupportedBrowserMessage.length>0&&alert(unsupportedBrowserMessage),n=(new Date).addHours(8),t=browserCookieName+"=true;expires="+n.toGMTString()+";path=/",document.cookie=t)}function getUrlVars(){for(var t=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t}function getVariableUrlVars(n){var t,i,u,r;if(!n)return null;for(t=[],u=n.slice(n.indexOf("?")+1).split("&"),r=0;r<u.length;r++)i=u[r].split("="),t.push(i[0]),t[i[0]]=i[1];return t}function hasDuplicates(n,t,i){return i.indexOf(n)!==i.lastIndexOf(n)}function parseIsoDate(n){var h=/^([+-]?\d{4})(?:(?:-?(\d{2})-?(\d{2}))|-?W(\d{2})(?:-?(\d))?|-?(\d{3})|-(\d{2}))(?:[T ](\d{2})(?::?(\d{2}))?(?::?(\d{2}))?(?:[,.](\d+))?)?(?:(Z)?(?:([+-]\d{2}))?(?::?(\d{2}))?)?$/,t=String(n).match(h),c,r,i,l,f,e,s,w,b;if(t===null&&(t=n.toISOString().match(h)),t===null)return undefined;c=Number(t[1]);typeof t[2]!="undefined"?(r=Number(t[2])-1,i=Number(t[3])):typeof t[4]!="undefined"?(l=Number(t[4])-1,i=Number(t[5]),typeof i=="undefined"&&(i=0),i+=l*7,r=0):typeof t[6]!="undefined"?(i=Number(t[6]),r=0):(r=Number(t[7])-1,i=1);var a=0,u=0,o=0,v=0;if(typeof t[8]!="undefined"){if(a=Number(t[8]),typeof t[9]!="undefined"){if(u=Number(t[9]),typeof t[10]!="undefined")o=Number(t[10]),typeof t[11]!="undefined"&&(f=Number(t[11]),v=f/100);else if(typeof t[11]!="undefined"){var y=t[11].length,p=Math.pow(10,y),f=Number(t[11])/p;o=f*60}}else if(typeof t[11]!="undefined"){var y=t[11].length,p=Math.pow(10,y),f=Number(t[11])/p;u=f*60}s=(new Date).getTimezoneOffset();typeof t[12]!="undefined"&&typeof t[13]=="undefined"?e=0:typeof t[12]=="undefined"&&typeof t[13]=="undefined"?e=s*-1:(w=Number(t[13]),b=Number(t[14]||0),e=w*60+b);u=Number(u)-(e+s)}else var a=0,u=0,o=0,f=0,v=0;return new Date(c,r,i,a,u,o,v)}function setGlobalizeDefaults(n){var f,t,r,s,e,h,c,o,l,a,i,u;n&&typeof n=="object"&&(f={},n.Name&&(f.name=n.Name),n.EnglishName&&(f.englishName=n.EnglishName),n.NativeName&&(f.nativeName=n.NativeName),f.isRTL=n.TextInfo.IsRightToLeft||!1,n.TwoLetterISOLanguageName&&(f.language=n.TwoLetterISOLanguageName),t=n.NumberFormat,t&&typeof t=="object"&&(r={},s=t.NumberNegativePattern||0,s>negativeNumberPatterns.length&&(s=0),r.pattern=negativeNumberPatterns[s],r.decimals=t.NumberDecimalDigits||2,t.NumberGroupSeparator&&(r[","]=t.NumberGroupSeparator),t.NumberDecimalSeparator&&(r["."]=t.NumberDecimalSeparator),t.NumberGroupSizes&&(r.groupSizes=t.NumberGroupSizes),t.PositiveSign&&(r["+"]=t.PositiveSign),t.NegativeSign&&(r["-"]=t.NegativeSign),t.NaNSymbol&&(r.NaN=t.NaNSymbol),t.NegativeInfinitySymbol&&(r.negativeInfinity=t.NegativeInfinitySymbol),t.PositiveInfinitySymbol&&(r.positiveInfinity=t.PositiveInfinitySymbol),e={},h=t.PercentNegativePattern||0,h>negativePercentPatterns.length&&(h=0),c=t.PercentPositivePattern||0,c>positivePercentPatterns.length&&(c=0),e.pattern=[negativePercentPatterns[h],positivePercentPatterns[c]],e.decimals=t.PercentDecimalDigits||2,e.groupSizes=t.PercentGroupSizes,e[","]=t.PercentGroupSeparator,e["."]=t.PercentDecimalSeparator,e.symbol=t.PercentSymbol,e&&e.length&&(r.percent=e),o={},l=t.CurrencyNegativePattern||0,l>negativeCurrencyPatterns.length&&(l=0),a=t.CurrencyPositivePattern||0,a>positiveCurrencyPatterns.length&&(a=0),o.pattern=[negativeCurrencyPatterns[l],positiveCurrencyPatterns[a]],o.decimals=t.CurrencyDecimalDigits||2,o.groupSizes=t.CurrencyGroupSizes,o[","]=t.CurrencyGroupSeparator,o["."]=t.CurrencyDecimalSeparator,o.symbol=t.CurrencySymbol,o&&o.length&&(r.currency=o),r&&r.length&&(f.numberFormat=r)),i=n.DateTimeFormat,i&&typeof i=="object"&&(u={},u.name=i.NativeCalendarName,u["/"]=i.DateSeparator,u[":"]=i.TimeSeparator,u.firstDay=i.FirstDayOfWeek,u.days={names:i.DayNames,namesAbbr:i.AbbreviatedDayNames,namesShort:i.ShortestDayNames},u.months={names:i.MonthNames,namesAbbr:i.AbbreviatedMonthNames},u.AM=[i.AMDesignator],u.PM=[i.PMDesignator],u.eras=[{name:"A.D.",start:null,offset:0}],u.patterns={d:i.ShortDatePattern,D:i.LongDatePattern,t:i.ShortTimePattern,T:i.LongTimePattern,f:i.LongDatePattern+" "+i.ShortTimePattern,F:i.FullDateTimePattern,M:i.MonthDayPattern,Y:i.YearMonthPattern,S:i.SortableDateTimePattern},f.calendars={},f.calendars.standard=u),Globalize.addCultureInfo(n.Name,f),Globalize.culture(n.Name))}function sanitizeFormData(n){if(n){if(n.constructor===Array)for(i=0;i<n.length;i++)n[i].constructor===String&&(n[i]=n[i].replace(/(<([^>]+)>)/ig,""));return n.constructor===String&&(n=n.replace(/(<([^>]+)>)/ig,"")),n}}function setFocus(n){n&&$(n).first().trigger("focus")}function makeAnnouncement(n){n&&$("#aria-announcements").text(n)}function showOrHideElement(n,t){n.length>1?t.show("fast"):t.hide("fast")}function handleAjaxError(n,t,i,r,u){n.status!=0&&$("#notificationHost").notificationCenter("addNotification",{message:r?r:n.statusText,type:"error"});u!=null&&typeof u=="function"&&u()}function dynamicSort(n){var t=1;return n[0]==="-"&&(t=-1,n=n.substr(1)),function(i,r){var u=i[n]()<r[n]()?-1:i[n]()>r[n]()?1:0;return u*t}}function sanitizeNumber(n){return decMark=Globalize.NumberDecimalSeparator===","?/[^0-9,]+/g:/[^0-9.]+/g,n?n.replace(decMark,"").trim():0}function formatString(n){return n!==null&&n!==undefined?n.replace(/(:|;|\.|\,|\!|\?|\@|\#|\$|\%|\^|\&|\*|\(|\)|\[|\]|\{|\}|\\|\/)/g,"\\$1"):null}function escapeHtml(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML}function decodeHtml(n){var t=document.createElement("SPAN");return t.innerHTML=n,t.innerText}function guidGenerator(){var n=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function parseANumber(n){return n=n||0,isNaN(n)?Globalize.parseFloat(n):parseFloat(n)}function autosize(n){setTimeout(function(){n.style.cssText="height:auto; padding:0";n.style.cssText="height:"+n.scrollHeight+"px"},0)}function UpdatePetitionsWaivers(n){return new function(){ko.mapping.fromJS(n.data,{},this);this.Period=ko.computed(function(){var n=isNullOrEmpty(this.StartDate())?" ":this.StartDate(),t=isNullOrEmpty(this.EndDate())?"Unlimited":this.EndDate();return isNullOrEmpty(this.Term())?n+" - "+t:this.Term()},this)}}function DegreePlan(n){ko.mapping.fromJS(n,planMapping,this);var t=this;this.isProxyUser=ko.observable().subscribeTo("isProxyUser",!0)}function Term(n){ko.mapping.fromJS(n,planMapping,this);var t=this;this.availableSectionsRetrieved=ko.observable(!1);this.coursesSelected=ko.computed(function(){if(typeof t.PlannedCourses=="undefined")return!1;for(var n=0;n<t.PlannedCourses().length;n++)if(t.PlannedCourses()[n].selected()===!0)return!0;return!1});this.isProtectInactive=ko.computed(function(){if(typeof t.PlannedCourses=="undefined")return!0;for(var n=0;n<t.PlannedCourses().length;n++)if(t.PlannedCourses()[n].selected()===!0&&t.PlannedCourses()[n].IsProtected()===!1)return!1;return!0});this.isUnprotectInactive=ko.computed(function(){if(typeof t.PlannedCourses=="undefined")return!0;for(var n=0;n<t.PlannedCourses().length;n++)if(t.PlannedCourses()[n].selected()===!0&&t.PlannedCourses()[n].IsProtected()===!0)return!1;return!0});this.isDenyInactive=ko.computed(function(){if(typeof t.PlannedCourses=="undefined")return!0;for(var n=0;n<t.PlannedCourses().length;n++)if(t.PlannedCourses()[n].selected()===!0&&(t.PlannedCourses()[n].ApprovalStatus()===null||t.PlannedCourses()[n].ApprovalStatus()==="Approved"||t.PlannedCourses()[n].ApprovalStatus()===""))return!1;return!0});this.isApproveInactive=ko.computed(function(){if(typeof t.PlannedCourses=="undefined")return!0;for(var n=0;n<t.PlannedCourses().length;n++)if(t.PlannedCourses()[n].selected()===!0&&(t.PlannedCourses()[n].ApprovalStatus()===null||t.PlannedCourses()[n].ApprovalStatus()===""||t.PlannedCourses()[n].ApprovalStatus()==="Denied"))return!1;return!0});this.showingFilters=ko.observable(!1);this.filterHeaderClickHandler=function(n,t){$("#filters-menu li a.filter-header-link").each(function(){$(this).is(t.currentTarget)||($("ul",$(this).parent()).stop().slideUp(100),$(this).data("collapsed","true"),$(this).removeClass("filter-header-link-expanded").addClass("filter-header-link-collapsed"))});var i=$(t.currentTarget).next("ul.filters-menu-filter");typeof $(t.currentTarget).data("collapsed")=="undefined"||$(t.currentTarget).data("collapsed")==="true"?($(t.currentTarget).data("collapsed","false"),i.stop().slideDown(100,function(){i.css("overflow","auto")}),$(t.currentTarget).removeClass("filter-header-link-collapsed").addClass("filter-header-link-expanded")):($(t.currentTarget).data("collapsed","true"),i.stop().slideUp(100),$(t.currentTarget).removeClass("filter-header-link-expanded").addClass("filter-header-link-collapsed"))};this.availabilityFilters=ko.observableArray();this.locationFilters=ko.observableArray();this.dayOfWeekFilters=ko.observableArray();this.timeOfDayFilters=ko.observableArray();this.facultyFilters=ko.observableArray();this.topicFilters=ko.observableArray();this.atLeastOneFilterSelected=function(){return t.availabilityFilters().length>0||t.locationFilters().length>0||t.dayOfWeekFilters().length>0||t.timeOfDayFilters().length>0||t.facultyFilters().length>0||t.topicFilters().length>0};this.filtersDisplay=function(n){for(var i,f,u=0,t="",r=0;r<n.length;r++)n[r].Selected()===!0&&u++;switch(u){case 0:t=typeof stringFilterNoValueSelected!="undefined"?stringFilterNoValueSelected:"All";break;case 1:case 2:for(i=0;i<n.length;i++)t=n[i].Selected()===!0?t+n[i].Description()+"\n":t;break;default:f=n.length-1;t=n[0].Description()+"\n"+Ellucian.Student.PlanViewModelMessages.moreFilters.format(f)}return t};this.availabilityFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.availabilityFilters())}).extend({throttle:10});this.locationFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.locationFilters())}).extend({throttle:10});this.dayOfWeekFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.dayOfWeekFilters())}).extend({throttle:10});this.timeOfDayFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.timeOfDayFilters())}).extend({throttle:10});this.facultyFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.facultyFilters())}).extend({throttle:10});this.topicFiltersDisplay=ko.computed(function(){return t.filtersDisplay(t.topicFilters())}).extend({throttle:10});this.GetCourseBubbleClass=function(){return t.IsTermCompleted()&&t.IsAcademicHistoryAvailable()?"dp-coursebubble dp-coursebubble-complete":"dp-coursebubble dp-coursebubble-planned"};this.printSchedule=function(){var n=printScheduleUrl+"?termId="+t.Code(),i=window.open(n);return window.focus&&i.focus(),!1};this.printScheduleForAdvisor=function(){var n=printScheduleUrl+"?termId="+t.Code()+"&studentId="+advisingViewModelJson.Advisee.Id+"&isAdvisor=true",i=window.open(n);return window.focus&&i.focus(),!1};this.saveIcal=function(){var n=saveAsIcalUrl+"?termId="+t.Code();window.location=n};this.unscheduledSections=ko.computed(function(){var r=[],n,i,u;if(typeof t.PlannedSectionsWithNoMeetingTimes=="undefined")return r;for(n=0;n<t.PlannedSectionsWithNoMeetingTimes().length;n++)(i=t.PlannedSectionsWithNoMeetingTimes()[n],ko.utils.unwrapObservable(i.IsDropped)!==!0)&&(u=ko.utils.unwrapObservable(i.AcademicHistory),ko.utils.unwrapObservable(u.Section)===null&&r.push(i));return r}).extend({throttle:50});this.unscheduledRegisteredSections=ko.computed(function(){var r=[],n,i,u;if(typeof t.PlannedSectionsWithNoMeetingTimes=="undefined")return r;for(n=0;n<t.PlannedSectionsWithNoMeetingTimes().length;n++)(i=t.PlannedSectionsWithNoMeetingTimes()[n],ko.utils.unwrapObservable(i.IsDropped)!==!0)&&(u=ko.utils.unwrapObservable(i.AcademicHistory),ko.utils.unwrapObservable(u.Section)!==null&&r.push(i));return r}).extend({throttle:50})}function Course(n){ko.mapping.fromJS(n,planMapping,this);var t=this;this.selected=ko.observable(!1);this.AvailableSections=ko.observableArray();this.DisplayingDetails=ko.observable(!0);this.DisplayingAvailableSections=ko.observable(!1);this.AvailableSectionsPage=ko.observable(0);this.AvailableSectionsPageDisplay=ko.computed(function(){return t.AvailableSectionsPage()+1});this.availableSectionsPerPage=6;this.availableSectionsPageCount=ko.computed(function(){var n=t.AvailableSections().length/t.availableSectionsPerPage;return n>1?Math.ceil(n):1});this.PagedAvailableSections=function(){var u,f;if(typeof t.AvailableSections()=="undefined"||t.AvailableSections()===null||t.AvailableSections().length===0)return[];var n=t.AvailableSectionsPage()*t.availableSectionsPerPage,i=n+t.availableSectionsPerPage-1,r=t.AvailableSections().length;for(n>r-1&&(n=0,i=i>r?r-1:this.availableSectionsPerPage-1),i>r-1&&(i=r-1),u=0,f=0;f<n;)f+=t.availableSectionsPerPage,u++;return t.AvailableSectionsPage(u),t.AvailableSections.slice(n,i+1)};this.AvailableSectionsFirstPage=function(){this.AvailableSectionsPage(0)};this.AvailableSectionsPreviousPage=function(){t.AvailableSectionsPage()>0&&t.AvailableSectionsPage(t.AvailableSectionsPage()-1)};this.AvailableSectionsNextPage=function(){var n=t.AvailableSectionsPage()+1;t.AvailableSectionsPage()<t.availableSectionsPageCount()-1&&t.AvailableSectionsPage(n)};this.AvailableSectionsLastPage=function(){t.AvailableSectionsPage()<t.availableSectionsPageCount()-1&&t.AvailableSectionsPage(t.availableSectionsPageCount()-1)};this.AvailableSectionsJumpPage=function(n){n>=1&&n<=t.availableSectionsPageCount()&&t.AvailableSectionsPage(n-1)};this.HandlePageInput=function(n,i){i&&typeof i.srcElement!="undefined"&&i.srcElement?t.AvailableSectionsJumpPage(i.srcElement.value):i&&typeof i.currentTarget!="undefined"&&i.currentTarget&&t.AvailableSectionsJumpPage(i.currentTarget.value)};this.AvailableSectionsCanPageFirst=function(){return t.AvailableSectionsPage()===0?!1:!0};this.AvailableSectionsCanPagePrevious=function(){return t.AvailableSectionsPage()===0?!1:!0};this.AvailableSectionsCanPageNext=function(){return t.AvailableSectionsPage()<t.availableSectionsPageCount()-1};this.AvailableSectionsCanPageLast=function(){return t.AvailableSectionsPage()<t.availableSectionsPageCount()-1};this.GetGradingTypeText=function(){var n=Ellucian.Course.SectionDetails.stringGradedGrading,i;try{return i=t.GetGradingType().toString(),i===Ellucian.Course.SectionDetails.stringAuditGradingCode&&(n=Ellucian.Course.SectionDetails.stringAuditGrading),i===Ellucian.Course.SectionDetails.stringPassFailGradingCode&&(n=Ellucian.Course.SectionDetails.stringPassFailGrading),n}catch(r){return n}};this.GetCoreqPrereqWarningText=function(n){var i="",f,e,o,r,s,u;n||(n="\n");try{if(typeof t.Warnings=="function"&&t.Warnings().length>0)for(f=0;f<t.Warnings().length;f++)try{i.length>0&&(i+=n);i+=t.Warnings()[f]}catch(h){}}catch(c){}try{if(ko.utils.unwrapObservable(t.Requisite)!==null&&(e=ko.utils.unwrapObservable(t.Requisite),e.DisplayText()!==null&&e.DisplayText()!==""))try{i.length>0&&(i+=n);i+=e.DisplayText()}catch(h){}}catch(c){}try{if(t.CorequisiteCourses().length>0)for(o=0;o<t.CorequisiteCourses().length;o++)if(r=t.CorequisiteCourses()[o],r!==null)if(r.IsRequired){if(r.DisplayMessage()!==null&&r.DisplayMessage()!=="")try{i.length>0&&(i+=n);i+=r.DisplayMessage()}catch(h){}}else if(r.DisplayMessage()!==null&&r.DisplayMessage()!=="")try{i.length>0&&(i+=n);i+=r.DisplayMessage()}catch(h){}}catch(c){}try{if(t.Section!==null&&t.Section.CorequisiteSections().length>0)for(s=0;s<t.Section.CorequisiteSections().length;s++)if(u=t.Section.CorequisiteSections()[s],u!==null)if(u.IsRequired){if(u.DisplayMessage()!==null&&u.DisplayMessage()!=="")try{i.length>0&&(i+=n);i+=u.DisplayMessage()}catch(h){}}else if(u.DisplayMessage()!==null&&u.DisplayMessage()!=="")try{i.length>0&&(i+=n);i+=u.DisplayMessage()}catch(h){}}catch(c){}return i};this.ShowMeetingInfo=ko.observable(!1);this.ToggleMeetingInfo=function(){t.ShowMeetingInfo()===!0?t.ShowMeetingInfo(!1):t.ShowMeetingInfo(!0)};this.MeetingInfoStyle=ko.computed(function(){return t.ShowMeetingInfo()===!0?"esg-icon--up":"esg-icon--down"});this.courseListItemStyle=ko.computed(function(){return t.AcademicHistory.HasSection()?"schedule-listitem-registeredsection":"schedule-listitem-plannedsection"});this.courseBannerStyle=ko.computed(function(){return t.IsInProgress()||t.IsPreregistered()?"schedule-listitem-registeredsectionbanner":t.IsPlanned()||t.IsWaitlisted()?"schedule-listitem-plannedsectionbanner":t.IsCompleted()?"schedule-listitem-registeredsectionbanner":t.IsWithdrawn()||t.IsDropped()?"schedule-listitem-withdrawnsectionbanner":void 0});this.courseBannerIcon=ko.computed(function(){var n={};return(t.IsInProgress()||t.IsPreregistered())&&(n.icon="check",n.color="success-dark"),(t.IsPlanned()||t.IsWaitlisted())&&(n.icon="check",n.color="warning-dark"),t.IsCompleted()&&(n.icon="check",n.color="success-dark"),(t.IsWithdrawn()||t.IsDropped())&&(n.icon="error",n.color="error-dark"),n});this.courseBannerText=ko.computed(function(){return t.IsInProgress()?scheduleStatusRegistered:t.IsPreregistered()?scheduleStatusPreregistered:t.IsCompleted()?scheduleStatusCompleted:t.IsWithdrawn()?scheduleStatusWithdrawn:t.IsPlanned()?scheduleStatusPlanned:t.IsWaitlisted()?scheduleStatusWaitlisted:t.IsDropped()?scheduleStatusDropped:void 0});this.coursePrintStyle=ko.computed(function(){return t.IsInProgress()||t.IsCompleted()||t.IsPreregistered()?"schedule-details-table-registered":"schedule-details-table-planned"});this.showDropButton=ko.computed(function(){return!t.AcademicHistory.IsGraded()&&!t.IsWithdrawn()&&!t.IsDropped()?!0:!1});this.showWaitlistButton=ko.computed(function(){return t.Section===null?!1:typeof t.Section=="function"&&t.Section()===null?!1:t.Section.IsActive()&&t.Section.WaitlistAvailable()&&t.SectionWaitlistStatus()===Ellucian.DegreePlans.Resources.ScheduleWaitlistStatusNotWaitlisted&&t.Section.Available()!==null&&(t.Section.Available()<=0||t.Section.Waitlisted()>0)?!0:!1});this.CanSkipWaitlist=ko.observable(!1).subscribeTo("userCanSkipWaitlist",!0);this.showRegisterButton=ko.computed(function(){if(t.Section===null||typeof t.Section=="function"&&t.Section()===null)return!1;var n=typeof t.CanSkipWaitlist()!="undefined"?t.CanSkipWaitlist():!1;return t.Section.IsActive()&&(t.SectionWaitlistStatus()===Ellucian.DegreePlans.Resources.ScheduleWaitlistStatusPermissionToRegister||(t.Section.Available()>0||t.Section.Available()===null)&&(t.Section.Waitlisted()===0||n)||!(t.Section.Available()>0||t.Section.Available()===null)&&t.Section.Waitlisted()===0&&t.CanExceedSeatCapacity())?!0:!1});this.showDropWaitlistButton=ko.computed(function(){return t.SectionWaitlistStatus()===Ellucian.DegreePlans.Resources.ScheduleWaitlistStatusActive||t.SectionWaitlistStatus()===Ellucian.DegreePlans.Resources.ScheduleWaitlistStatusPermissionToRegister?!0:!1});this.displayCreditsCeus=ko.computed(function(){return t.AcademicHistory!==null&&t.AcademicHistory.AcademicCreditId()?t.AcademicHistory.CreditsCeusDisplay():t.CreditsCeusDisplay()})}function Filter(n){var t=this;this.Value=ko.observable(n.Value);this.Description=ko.observable(n.Description);this.Selected=ko.observable(n.Selected);this.Count=ko.observable(n.Count)}function requisiteModel(n){ko.mapping.fromJS(n,planMapping,this);var t=this}function corequisiteCourseModel(n){ko.mapping.fromJS(n,planMapping,this);var t=this}function corequisiteSectionModel(n){ko.mapping.fromJS(n,planMapping,this);var t=this;this.alertStyle=ko.pureComputed(function(){return t.IsRequired()===!0?"esg-alert--warning":"esg-alert--info"});this.iconStyle=ko.pureComputed(function(){return t.IsRequired()===!0?"esg-icon--warning-dark":"esg-icon--info-dark"});this.icon=ko.pureComputed(function(){return t.IsRequired()===!0?"#icon-warning":"#icon-info"});this.bubbleStyle=ko.pureComputed(function(){return t.IsRequired()===!0?"dp-warning-bubble":"dp-info-bubble"})}function DropReasonsConfigurationModel(n){ko.mapping.fromJS(n,planMapping,this);var t=this}function StudentPetitionsWaiversViewModel(){var n=this;this.isLoaded=ko.observable(!1);this.StudentWaivers=ko.observableArray();this.StudentPetitions=ko.observableArray();this.StudentConsents=ko.observableArray();this.hasPetitions=ko.observable(!1);this.hasConsents=ko.observable(!1);this.hasWaivers=ko.observable(!1);this.hasPetitions=ko.computed(function(){return n.StudentPetitions().length>0});this.hasConsents=ko.computed(function(){return n.StudentConsents().length>0});this.hasWaivers=ko.computed(function(){return n.StudentWaivers().length>0})}function planArchiveViewModel(n){var t=this;this.isLoading=ko.observable(!1);this.isLoaded=ko.observable(!1);this.archives=ko.observableArray();this.hasArchives=ko.computed(function(){return t.archives().length>0});this.ReportLinkHandler=function(n){window.location=getPlanArchiveReportUrl+"?archiveId="+n.Id};this.offScreenText=function(n){return n&&n.CreatedDate&&n.CreatedBy&&stringArchivePlanOffScreenFor&&stringArchivePlanOffScreenBy?stringArchivePlanOffScreenFor+n.CreatedDate+stringArchivePlanOffScreenBy+n.CreatedBy:null};this.noArchivedPlansMessage=n===!0?Ellucian.DegreePlans.Resources.NoArchivedPlansStudentMessage:Ellucian.Advisors.Resources.NoArchivesMessage}var jsonContentType,browserCookieName,transitionEvent,tableFilters,planMapping,BaseViewModel,Ellucian,forceEnableRegistrationButtons;(function(){(function(n){var r=this||eval("this"),i=r.document,f=r.navigator,t=r.jQuery,u=r.JSON;t||"undefined"==typeof jQuery||(t=jQuery),function(n){"function"==typeof define&&define.amd?define(["exports","require"],n):"object"==typeof exports&&"object"==typeof module?n(module.exports||exports):n(r.ko={})}(function(e,o){function b(n,t){return null===n||typeof n in d?n===t:!1}function g(t,i){var r;return function(){r||(r=s.a.setTimeout(function(){r=n;t()},i))}}function nt(n,t){var i;return function(){clearTimeout(i);i=s.a.setTimeout(n,t)}}function tt(n,t){t&&"change"!==t?"beforeChange"===t?this.pc(n):this.gb(n,t):this.qc(n)}function it(n,t){null!==t&&t.s&&t.s()}function rt(n,t){var i=this.qd,r=i[h];r.ra||(this.Qb&&this.mb[t]?(i.uc(t,n,this.mb[t]),this.mb[t]=null,--this.Qb):r.I[t]||i.uc(t,n,r.J?{da:n}:i.$c(n)),n.Ja&&n.gd())}var s="undefined"!=typeof e?e:{},d,l,v,a,y,h,p,k,w;s.b=function(n,t){for(var i=n.split("."),r=s,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};s.L=function(n,t,i){n[t]=i};s.version="3.5.1";s.b("version",s.version);s.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};s.a=function(){function o(n,t){for(var i in n)h.call(n,i)&&t(i,n[i])}function v(n,t){if(t)for(var i in t)h.call(t,i)&&(n[i]=t[i]);return n}function y(n,t){return n.__proto__=t,n}function p(n,t,i,r){var u=n[t].match(l)||[];s.a.D(i.match(l),function(n){s.a.Na(u,n,r)});n[t]=u.join(" ")}var h=Object.prototype.hasOwnProperty,w={__proto__:[]}instanceof Array,k="function"==typeof Symbol,c={},b={};c[f&&/Firefox\/2/i.test(f.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");o(c,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)b[t[i]]=n});var d={propertychange:!0},e=i&&function(){for(var t=3,r=i.createElement("div"),u=r.getElementsByTagName("i");r.innerHTML="<!--[if gt IE "+ ++t+"]><i><\/i><![endif]-->",u[0];);return 4<t?t:n}(),l=/\S+/g,a;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n[r],r,n)},A:"function"==typeof Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t)}:function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},Lb:function(t,i,r){for(var u=0,f=t.length;u<f;u++)if(i.call(r,t[u],u,t))return t[u];return n},Pa:function(n,t){var i=s.a.A(n,t);0<i?n.splice(i,1):0===i&&n.shift()},wc:function(n){var t=[];return n&&s.a.D(n,function(n){0>s.a.A(t,n)&&t.push(n)}),t},Mb:function(n,t,i){var u=[],r,f;if(n)for(r=0,f=n.length;r<f;r++)u.push(t.call(i,n[r],r));return u},jb:function(n,t,i){var u=[],r,f;if(n)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r)&&u.push(n[r]);return u},Nb:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},Na:function(n,t,i){var r=s.a.A(s.a.bc(n),t);0>r?i&&n.push(t):i||n.splice(r,1)},Ba:w,extend:v,setPrototypeOf:y,Ab:w?y:v,P:o,Ga:function(n,t,i){if(!n)return n;var u={};for(var r in n)h.call(n,r)&&(u[r]=t.call(i,n[r],r,n));return u},Tb:function(n){for(;n.firstChild;)s.removeNode(n.firstChild)},Yb:function(n){n=s.a.la(n);for(var r=(n[0]&&n[0].ownerDocument||i).createElement("div"),t=0,u=n.length;t<u;t++)r.appendChild(s.oa(n[t]));return r},Ca:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?s.oa(r):r);return u},va:function(n,t){if(s.a.Tb(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},Xc:function(n,t){var r=n.nodeType?[n]:n;if(0<r.length){for(var f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)s.removeNode(r[i])}},Ua:function(n,t){if(n.length){for(t=8===t.nodeType&&t.parentNode||t;n.length&&n[0].parentNode!==t;)n.splice(0,1);for(;1<n.length&&n[n.length-1].parentNode!==t;)n.length--;if(1<n.length){var i=n[0],r=n[n.length-1];for(n.length=0;i!==r;)n.push(i),i=i.nextSibling;n.push(r)}}return n},Zc:function(n,t){7>e?n.setAttribute("selected",t):n.selected=t},Db:function(t){return null===t||t===n?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(n,t){return n=n||"",t.length>n.length?!1:n.substring(0,t.length)===t},vd:function(n,t){if(n===t)return!0;if(11===n.nodeType)return!1;if(t.contains)return t.contains(1!==n.nodeType?n.parentNode:n);if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(n)&16);for(;n&&n!=t;)n=n.parentNode;return!!n},Sb:function(n){return s.a.vd(n,n.ownerDocument.documentElement)},kd:function(n){return!!s.a.Lb(n,s.a.Sb)},R:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},Ac:function(n){return s.onError?function(){try{return n.apply(this,arguments)}catch(t){throw s.onError&&s.onError(t),t;}}:n},setTimeout:function(n,t){return setTimeout(s.a.Ac(n),t)},Gc:function(n){setTimeout(function(){s.onError&&s.onError(n);throw n;},0)},B:function(n,i,r){var u=s.a.Ac(r),f,e;if(r=d[i],s.options.useOnlyNativeEvents||r||!t)if(r||"function"!=typeof n.addEventListener)if("undefined"!=typeof n.attachEvent)f=function(t){u.call(n,t)},e="on"+i,n.attachEvent(e,f),s.a.K.za(n,function(){n.detachEvent(e,f)});else throw Error("Browser doesn't support addEventListener or attachEvent");else n.addEventListener(i,u,!1);else a||(a="function"==typeof t(n).on?"on":"bind"),t(n)[a](i,u)},Fb:function(n,u){if(!n||!n.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;if("input"===s.a.R(n)&&n.type&&"click"==u.toLowerCase()?(f=n.type,f="checkbox"==f||"radio"==f):f=!1,s.options.useOnlyNativeEvents||!t||f)if("function"==typeof i.createEvent)if("function"==typeof n.dispatchEvent)f=i.createEvent(b[u]||"HTMLEvents"),f.initEvent(u,!0,!0,r,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if(f&&n.click)n.click();else if("undefined"!=typeof n.fireEvent)n.fireEvent("on"+u);else throw Error("Browser doesn't support triggering events");else t(n).trigger(u)},f:function(n){return s.O(n)?n():n},bc:function(n){return s.O(n)?n.v():n},Eb:function(n,t,i){var r;t&&("object"==typeof n.classList?(r=n.classList[i?"add":"remove"],s.a.D(t.match(l),function(t){r.call(n.classList,t)})):"string"==typeof n.className.baseVal?p(n.className,"baseVal",t,i):p(n,"className",t,i))},Bb:function(t,i){var r=s.a.f(i),u;(null===r||r===n)&&(r="");u=s.h.firstChild(t);!u||3!=u.nodeType||s.h.nextSibling(u)?s.h.va(t,[t.ownerDocument.createTextNode(r)]):u.data=r;s.a.Ad(t)},Yc:function(n,t){if(n.name=t,7>=e)try{var r=n.name.replace(/[&<>'"]/g,function(n){return"&#"+n.charCodeAt(0)+";"});n.mergeAttributes(i.createElement("<input name='"+r+"'/>"),!1)}catch(u){}},Ad:function(n){9<=e&&(n=1==n.nodeType?n:n.parentNode,n.style&&(n.style.zoom=n.style.zoom))},wd:function(n){if(e){var t=n.style.width;n.style.width=0;n.style.width=t}},Pd:function(n,t){n=s.a.f(n);t=s.a.f(t);for(var r=[],i=n;i<=t;i++)r.push(i);return r},la:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},Da:function(n){return k?Symbol(n):n},Zd:6===e,$d:7===e,W:e,Lc:function(n,t){for(var r=s.a.la(n.getElementsByTagName("input")).concat(s.a.la(n.getElementsByTagName("textarea"))),f="string"==typeof t?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;0<=i;i--)f(r[i])&&u.push(r[i]);return u},Nd:function(n){return"string"==typeof n&&(n=s.a.Db(n))?u&&u.parse?u.parse(n):new Function("return "+n)():null},hc:function(n,t,i){if(!u||!u.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return u.stringify(s.a.f(n),t,i)},Od:function(n,t,r){var v,e,h,f,u,c;r=r||{};var l=r.params||{},a=r.includeFields||this.Jc,v=n;if("object"==typeof n&&"form"===s.a.R(n))for(v=n.action,e=a.length-1;0<=e;e--)for(h=s.a.Lc(n,a[e]),f=h.length-1;0<=f;f--)l[h[f].name]=h[f].value;t=s.a.f(t);u=i.createElement("form");u.style.display="none";u.action=v;u.method="post";for(c in t)n=i.createElement("input"),n.type="hidden",n.name=c,n.value=s.a.hc(s.a.f(t[c])),u.appendChild(n);o(l,function(n,t){var r=i.createElement("input");r.type="hidden";r.name=n;r.value=t;u.appendChild(r)});i.body.appendChild(u);r.submitter?r.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();s.b("utils",s.a);s.b("utils.arrayForEach",s.a.D);s.b("utils.arrayFirst",s.a.Lb);s.b("utils.arrayFilter",s.a.jb);s.b("utils.arrayGetDistinctValues",s.a.wc);s.b("utils.arrayIndexOf",s.a.A);s.b("utils.arrayMap",s.a.Mb);s.b("utils.arrayPushAll",s.a.Nb);s.b("utils.arrayRemoveItem",s.a.Pa);s.b("utils.cloneNodes",s.a.Ca);s.b("utils.createSymbolOrString",s.a.Da);s.b("utils.extend",s.a.extend);s.b("utils.fieldsIncludedWithJsonPost",s.a.Jc);s.b("utils.getFormFields",s.a.Lc);s.b("utils.objectMap",s.a.Ga);s.b("utils.peekObservable",s.a.bc);s.b("utils.postJson",s.a.Od);s.b("utils.parseJson",s.a.Nd);s.b("utils.registerEventHandler",s.a.B);s.b("utils.stringifyJson",s.a.hc);s.b("utils.range",s.a.Pd);s.b("utils.toggleDomNodeCssClass",s.a.Eb);s.b("utils.triggerEvent",s.a.Fb);s.b("utils.unwrapObservable",s.a.f);s.b("utils.objectForEach",s.a.P);s.b("utils.addOrRemoveItem",s.a.Na);s.b("utils.setTextContent",s.a.Bb);s.b("unwrap",s.a.f);Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i;return 1===arguments.length?function(){return t.apply(n,arguments)}:(i=Array.prototype.slice.call(arguments,1),function(){var r=i.slice(0);return r.push.apply(r,arguments),t.apply(n,r)})});s.a.g=new function(){var f=0,t="__ko__"+(new Date).getTime(),r={},i,u;return s.a.W?(i=function(i,u){var e=i[t];if(!e||"null"===e||!r[e]){if(!u)return n;e=i[t]="ko"+f++;r[e]={}}return r[e]},u=function(n){var i=n[t];return i?(delete r[i],n[t]=null,!0):!1}):(i=function(n,i){var r=n[t];return!r&&i&&(r=n[t]={}),r},u=function(n){return n[t]?(delete n[t],!0):!1}),{get:function(n,t){var r=i(n,!1);return r&&r[t]},set:function(t,r,u){(t=i(t,u!==n))&&(t[r]=u)},Ub:function(n,t,r){return n=i(n,!0),n[t]||(n[t]=r)},clear:u,Z:function(){return f+++t}}};s.b("utils.domData",s.a.g);s.b("utils.domData.clear",s.a.g.clear);s.a.K=new function(){function i(t,i){var u=s.a.g.get(t,r);return u===n&&i&&(u=[],s.a.g.set(t,r,u)),u}function u(n){var t=i(n,!1),r;if(t)for(t=t.slice(0),r=0;r<t.length;r++)t[r](n);s.a.g.clear(n);s.a.K.cleanExternalData(n);e[n.nodeType]&&f(n.childNodes,!0)}function f(n,t){for(var r=[],f,i=0;i<n.length;i++)if((!t||8===n[i].nodeType)&&(u(r[r.length]=f=n[i]),n[i]!==f))for(;i--&&-1==s.a.A(r,n[i]););}var r=s.a.g.Z(),o={1:!0,8:!0,9:!0},e={1:!0,9:!0};return{za:function(n,t){if("function"!=typeof t)throw Error("Callback must be a function");i(n,!0).push(t)},yb:function(t,u){var f=i(t,!1);f&&(s.a.Pa(f,u),0==f.length&&s.a.g.set(t,r,n))},oa:function(n){return s.u.G(function(){o[n.nodeType]&&(u(n),e[n.nodeType]&&f(n.getElementsByTagName("*")))}),n},removeNode:function(n){s.oa(n);n.parentNode&&n.parentNode.removeChild(n)},cleanExternalData:function(n){t&&"function"==typeof t.cleanData&&t.cleanData([n])}}};s.oa=s.a.K.oa;s.removeNode=s.a.K.removeNode;s.b("cleanNode",s.oa);s.b("removeNode",s.removeNode);s.b("utils.domNodeDisposal",s.a.K);s.b("utils.domNodeDisposal.addDisposeCallback",s.a.K.za);s.b("utils.domNodeDisposal.removeDisposeCallback",s.a.K.yb),function(){var h=[0,"",""],u=[1,"<table>","<\/table>"],f=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],e=[1,"<select multiple='multiple'>","<\/select>"],c={thead:u,tbody:u,tfoot:u,tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:f,th:f,option:e,optgroup:e},o=8>=s.a.W;s.a.ua=function(n,u){var f,e;if(t){if(t.parseHTML)f=t.parseHTML(n,u)||[];else if((f=t.clean([n],u))&&f[0]){for(e=f[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{(f=u)||(f=i);var e=f.parentWindow||f.defaultView||r,v=s.a.Db(n).toLowerCase(),l=f.createElement("div"),a;for(a=(v=v.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&c[v[1]]||h,v=a[0],a="ignored<div>"+a[1]+n+a[2]+"<\/div>","function"==typeof e.innerShiv?l.appendChild(e.innerShiv(a)):(o&&f.body.appendChild(l),l.innerHTML=a,o&&l.parentNode.removeChild(l));v--;)l=l.lastChild;f=s.a.la(l.lastChild.childNodes)}return f};s.a.Md=function(n,t){var i=s.a.ua(n,t);return i.length&&i[0].parentElement||s.a.Yb(i)};s.a.fc=function(i,r){if(s.a.Tb(i),r=s.a.f(r),null!==r&&r!==n)if("string"!=typeof r&&(r=r.toString()),t)t(i).html(r);else for(var f=s.a.ua(r,i.ownerDocument),u=0;u<f.length;u++)i.appendChild(f[u])}}();s.b("utils.parseHtmlFragment",s.a.ua);s.b("utils.setHtml",s.a.fc);s.aa=function(){function i(n,t){var r;if(n)if(8==n.nodeType)r=s.aa.Uc(n.nodeValue),null!=r&&t.push({ud:n,Kd:r});else if(1==n.nodeType)for(var r=0,u=n.childNodes,f=u.length;r<f;r++)i(u[r],t)}var t={};return{Xb:function(n){if("function"!=typeof n)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[i]=n,"<!--[ko_memo:"+i+"]-->"},bd:function(i,r){var u=t[i];if(u===n)throw Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete t[i]}},cd:function(n,t){var f=[],u,o,r,e;for(i(n,f),u=0,o=f.length;u<o;u++)r=f[u].ud,e=[r],t&&s.a.Nb(e,t),s.aa.bd(f[u].Kd,e),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},Uc:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:null}}}();s.b("memoization",s.aa);s.b("memoization.memoize",s.aa.Xb);s.b("memoization.unmemoize",s.aa.bd);s.b("memoization.parseMemoText",s.aa.Uc);s.b("memoization.unmemoizeDomNodeAndDescendants",s.aa.cd);s.na=function(){function f(){if(n)for(var i=n,r=0,f;t<n;)if(f=u[t++]){if(t>i){if(5e3<=++r){t=n;s.a.Gc(Error("'Too much recursion' after processing "+r+" task groups."));break}i=n}try{f()}catch(e){s.a.Gc(e)}}}function e(){f();t=n=u.length=0}var o,u=[],n=0,h=1,t=0;return o=r.MutationObserver?function(n){var t=i.createElement("div");return new MutationObserver(n).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(e):i&&"onreadystatechange"in i.createElement("script")?function(n){var t=i.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null;i.documentElement.removeChild(t);t=null;n()};i.documentElement.appendChild(t)}:function(n){setTimeout(n,0)},{scheduler:o,zb:function(t){return n||s.na.scheduler(e),u[n++]=t,h++},cancel:function(i){i=i-(h-n);i>=t&&i<n&&(u[i]=null)},resetForTesting:function(){var i=n-t;return t=n=u.length=0,i},Sd:f}}();s.b("tasks",s.na);s.b("tasks.schedule",s.na.zb);s.b("tasks.runEarly",s.na.Sd);s.Ta={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return s.$({read:n,write:function(r){clearTimeout(i);i=s.a.setTimeout(function(){n(r)},t)}})},rateLimit:function(n,t){var r,i,u;"number"==typeof t?r=t:(r=t.timeout,i=t.method);n.Hb=!1;u="function"==typeof i?i:"notifyWhenChangesStop"==i?nt:g;n.ub(function(n){return u(n,r,t)})},deferred:function(t,i){if(!0!==i)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.Hb||(t.Hb=!0,t.ub(function(i){var u,r=!1;return function(){if(!r){s.na.cancel(u);u=s.na.zb(i);try{r=!0;t.notifySubscribers(n,"dirty")}finally{r=!1}}}}))},notify:function(n,t){n.equalityComparer="always"==t?null:b}};d={undefined:1,boolean:1,number:1,string:1};s.b("extenders",s.Ta);s.ic=function(n,t,i){this.da=n;this.lc=t;this.mc=i;this.Ib=!1;this.fb=this.Jb=null;s.L(this,"dispose",this.s);s.L(this,"disposeWhenNodeIsRemoved",this.l)};s.ic.prototype.s=function(){this.Ib||(this.fb&&s.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};s.ic.prototype.l=function(n){this.Jb=n;s.a.K.za(n,this.fb=this.s.bind(this))};s.T=function(){s.a.Ab(this,l);l.qb(this)};l={qb:function(n){n.U={change:[]};n.sc=1},subscribe:function(n,t,i){var r=this,u;return i=i||"change",u=new s.ic(r,t?n.bind(t):n,function(){s.a.Pa(r.U[i],u);r.hb&&r.hb(i)}),r.Qa&&r.Qa(i),r.U[i]||(r.U[i]=[]),r.U[i].push(u),u},notifySubscribers:function(n,t){var u,i,r;if(t=t||"change","change"===t&&this.Gb(),this.Wa(t)){u="change"===t&&this.ed||this.U[t].slice(0);try{for(s.u.xc(),i=0;r=u[i];++i)r.Ib||r.lc(n)}finally{s.u.end()}}},ob:function(){return this.sc},Dd:function(n){return this.ob()!==n},Gb:function(){++this.sc},ub:function(n){var t=this,h=s.O(t),f,e,r,i,u,o;t.gb||(t.gb=t.notifySubscribers,t.notifySubscribers=tt);o=n(function(){t.Ja=!1;h&&i===t&&(i=t.nc?t.nc():t());var n=e||u&&t.sb(r,i);u=e=f=!1;n&&t.gb(r=i)});t.qc=function(n,r){r&&t.Ja||(u=!r);t.ed=t.U.change.slice(0);t.Ja=f=!0;i=n;o()};t.pc=function(n){f||(r=n,t.gb(n,"beforeChange"))};t.rc=function(){u=!0};t.gd=function(){t.sb(r,t.v(!0))&&(e=!0)}},Wa:function(n){return this.U[n]&&this.U[n].length},Bd:function(n){if(n)return this.U[n]&&this.U[n].length||0;var t=0;return s.a.P(this.U,function(n,i){"dirty"!==n&&(t+=i.length)}),t},sb:function(n,t){return!this.equalityComparer||!this.equalityComparer(n,t)},toString:function(){return"[object Object]"},extend:function(n){var t=this;return n&&s.a.P(n,function(n,i){var r=s.Ta[n];"function"==typeof r&&(t=r(t,i)||t)}),t}};s.L(l,"init",l.qb);s.L(l,"subscribe",l.subscribe);s.L(l,"extend",l.extend);s.L(l,"getSubscriptionsCount",l.Bd);s.a.Ba&&s.a.setPrototypeOf(l,Function.prototype);s.T.fn=l;s.Qc=function(n){return null!=n&&"function"==typeof n.subscribe&&"function"==typeof n.notifySubscribers};s.b("subscribable",s.T);s.b("isSubscribable",s.Qc);s.S=s.u=function(){function t(t){r.push(n);n=t}function i(){n=r.pop()}var r=[],n,u=0;return{xc:t,end:i,cc:function(t){if(n){if(!s.Qc(t))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,t,t.fd||(t.fd=++u))}},G:function(n,r,u){try{return t(),n.apply(r,u||[])}finally{i()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}();s.b("computedContext",s.S);s.b("computedContext.getDependenciesCount",s.S.qa);s.b("computedContext.getDependencies",s.S.Va);s.b("computedContext.isInitial",s.S.Ya);s.b("computedContext.registerDependency",s.S.cc);s.b("ignoreDependencies",s.Yd=s.u.G);v=s.a.Da("_latestValue");s.ta=function(n){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(s.u.cc(t),t[v])}return t[v]=n,s.a.Ba||s.a.extend(t,s.T.fn),s.T.fn.qb(t),s.a.Ab(t,a),s.options.deferUpdates&&s.Ta.deferred(t,!0),t};a={equalityComparer:b,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate");this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};s.a.Ba&&s.a.setPrototypeOf(a,s.T.fn);y=s.ta.Ma="__ko_proto__";a[y]=s.ta;s.O=function(n){if((n="function"==typeof n&&n[y])&&n!==a[y]&&n!==s.o.fn[y])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!n};s.Za=function(n){return"function"==typeof n&&(n[y]===a[y]||n[y]===s.o.fn[y]&&n.Nc)};s.b("observable",s.ta);s.b("isObservable",s.O);s.b("isWriteableObservable",s.Za);s.b("isWritableObservable",s.Za);s.b("observable.fn",a);s.L(a,"peek",a.v);s.L(a,"valueHasMutated",a.xa);s.L(a,"valueWillMutate",a.ya);s.Ha=function(n){if(n=n||[],"object"!=typeof n||!("length"in n))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return n=s.ta(n),s.a.Ab(n,s.Ha.fn),n.extend({trackArrayChanges:!0})};s.Ha.fn={remove:function(n){for(var u,i=this.v(),r=[],f="function"!=typeof n||s.O(n)?function(t){return t===n}:n,t=0;t<i.length;t++)if(u=i[t],f(u)){if(0===r.length&&this.ya(),i[t]!==u)throw Error("Array modified during remove; cannot remove item");r.push(u);i.splice(t,1);t--}return r.length&&this.xa(),r},removeAll:function(t){if(t===n){var i=this.v(),r=i.slice(0);return this.ya(),i.splice(0,i.length),this.xa(),r}return t?this.remove(function(n){return 0<=s.a.A(t,n)}):[]},destroy:function(n){var r=this.v(),u="function"!=typeof n||s.O(n)?function(t){return t===n}:n,t,i;for(this.ya(),t=r.length-1;0<=t;t--)i=r[t],u(i)&&(i._destroy=!0);this.xa()},destroyAll:function(t){return t===n?this.destroy(function(){return!0}):t?this.destroy(function(n){return 0<=s.a.A(t,n)}):[]},indexOf:function(n){var t=this();return s.a.A(t,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.ya(),this.v()[i]=t,this.xa())},sorted:function(n){var t=this().slice(0);return n?t.sort(n):t.sort()},reversed:function(){return this().slice(0).reverse()}};s.a.Ba&&s.a.setPrototypeOf(s.Ha.fn,s.ta.fn);s.a.D("pop push reverse shift sort splice unshift".split(" "),function(n){s.Ha.fn[n]=function(){var t=this.v(),i;return this.ya(),this.zc(t,n,arguments),i=t[n].apply(t,arguments),this.xa(),i===t?this:i}});s.a.D(["slice"],function(n){s.Ha.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});s.Pc=function(n){return s.O(n)&&"function"==typeof n.remove&&"function"==typeof n.push};s.b("observableArray",s.Ha);s.b("isObservableArray",s.Pc);s.Ta.trackArrayChanges=function(t,i){function a(){function n(){if(u){var i=[].concat(t.v()||[]),n;t.Wa("arrayChange")&&((!r||1<u)&&(r=s.a.Pb(h,i,t.Ob)),n=r);h=i;r=null;u=0;n&&n.length&&t.notifySubscribers(n,"arrayChange")}}f?n():(f=!0,o=t.subscribe(function(){++u},null,"spectate"),h=[].concat(t.v()||[]),r=null,e=t.subscribe(n))}if(t.Ob={},i&&"object"==typeof i&&s.a.extend(t.Ob,i),t.Ob.sparse=!0,!t.zc){var f=!1,r=null,e,o,u=0,h,c=t.Qa,l=t.hb;t.Qa=function(n){c&&c.call(t,n);"arrayChange"===n&&a()};t.hb=function(i){l&&l.call(t,i);"arrayChange"!==i||t.Wa("arrayChange")||(e&&e.s(),o&&o.s(),o=e=null,f=!1,h=n)};t.zc=function(n,t,i){function c(n,t,i){return l[l.length]={status:n,value:t,index:i}}if(f&&!u){var l=[],e=n.length,h=i.length,o=0;switch(t){case"push":o=e;case"unshift":for(t=0;t<h;t++)c("added",i[t],o+t);break;case"pop":o=e-1;case"shift":e&&c("deleted",n[o],o);break;case"splice":t=Math.min(Math.max(0,0>i[0]?e+i[0]:i[0]),e);for(var e=1===h?e:Math.min(t+(i[1]||0),e),h=t+h-2,o=Math.max(e,h),a=[],v=[],y=2;t<o;++t,++y)t<e&&v.push(c("deleted",n[t],t)),t<h&&a.push(c("added",i[y],t));s.a.Kc(v,a);break;default:return}r=l}}}};h=s.a.Da("_state");s.o=s.$=function(t,i,r){function f(){if(0<arguments.length){if("function"==typeof e)e.apply(u.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return u.ra||s.u.cc(f),(u.ka||u.J&&f.Xa())&&f.ha(),u.X}if("object"==typeof t?r=t:(r=r||{},t&&(r.read=t)),"function"!=typeof r.read)throw Error("Pass a function that returns the value of the ko.computed");var e=r.write,u={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:r.read,nb:i||r.owner,l:r.disposeWhenNodeIsRemoved||r.l||null,Sa:r.disposeWhen||r.Sa,Rb:null,I:{},V:0,Ic:null};return f[h]=u,f.Nc="function"==typeof e,s.a.Ba||s.a.extend(f,s.T.fn),s.T.fn.qb(f),s.a.Ab(f,c),r.pure?(u.wb=!0,u.J=!0,s.a.extend(f,ut)):r.deferEvaluation&&s.a.extend(f,ft),s.options.deferUpdates&&s.Ta.deferred(f,!0),u.l&&(u.jc=!0,u.l.nodeType||(u.l=null)),u.J||r.deferEvaluation||f.ha(),u.l&&f.ja()&&s.a.K.za(u.l,u.Rb=function(){f.s()}),f};var c={equalityComparer:b,qa:function(){return this[h].V},Va:function(){var n=[];return s.a.P(this[h].I,function(t,i){n[i.Ka]=i.da}),n},Vb:function(n){if(!this[h].V)return!1;var t=this.Va();return-1!==s.a.A(t,n)?!0:!!s.a.Lb(t,function(t){return t.Vb&&t.Vb(n)})},uc:function(n,t,i){if(this[h].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[h].I[n]=i;i.Ka=this[h].V++;i.La=t.ob()},Xa:function(){var t,n,i=this[h].I;for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&(n=i[t],this.Ia&&n.da.Ja||n.da.Dd(n.La)))return!0},Jd:function(){this.Ia&&!this[h].rb&&this.Ia(!1)},ja:function(){var n=this[h];return n.ka||0<n.V},Rd:function(){this.Ja?this[h].ka&&(this[h].sa=!0):this.Hc()},$c:function(n){if(n.Hb){var t=n.subscribe(this.Jd,this,"dirty"),i=n.subscribe(this.Rd,this);return{da:n,s:function(){t.s();i.s()}}}return n.subscribe(this.Hc,this)},Hc:function(){var n=this,t=n.throttleEvaluation;t&&0<=t?(clearTimeout(this[h].Ic),this[h].Ic=s.a.setTimeout(function(){n.ha(!0)},t)):n.Ia?n.Ia(!0):n.ha(!0)},ha:function(n){var t=this[h],i=t.Sa,r=!1;if(!t.rb&&!t.ra){if(t.l&&!s.a.Sb(t.l)||i&&i()){if(!t.jc){this.s();return}}else t.jc=!1;t.rb=!0;try{r=this.zd(n)}finally{t.rb=!1}return r}},zd:function(t){var i=this[h],r=!1,f=i.wb?n:!i.V,r={qd:this,mb:i.I,Qb:i.V},u;return s.u.xc({pd:r,od:rt,o:this,Ya:f}),i.I={},i.V=0,u=this.yd(i,r),i.V?r=this.sb(i.X,u):(this.s(),r=!0),r&&(i.J?this.Gb():this.notifySubscribers(i.X,"beforeChange"),i.X=u,this.notifySubscribers(i.X,"spectate"),!i.J&&t&&this.notifySubscribers(i.X),this.rc&&this.rc()),f&&this.notifySubscribers(i.X,"awake"),r},yd:function(n,t){try{var i=n.Wc;return n.nb?i.call(n.nb):i()}finally{s.u.end();t.Qb&&!n.J&&s.a.P(t.mb,it);n.sa=n.ka=!1}},v:function(n){var t=this[h];return(t.ka&&(n||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(n){s.T.fn.ub.call(this,n);this.nc=function(){return this[h].J||(this[h].sa?this.ha():this[h].ka=!1),this[h].X};this.Ia=function(n){this.pc(this[h].X);this[h].ka=!0;n&&(this[h].sa=!0);this.qc(this,!n)}},s:function(){var t=this[h];!t.J&&t.I&&s.a.P(t.I,function(n,t){t.s&&t.s()});t.l&&t.Rb&&s.a.K.yb(t.l,t.Rb);t.I=n;t.V=0;t.ra=!0;t.sa=!1;t.ka=!1;t.J=!1;t.l=n;t.Sa=n;t.Wc=n;this.Nc||(t.nb=n)}},ut={Qa:function(n){var i=this,t=i[h],r;!t.ra&&t.J&&"change"==n&&(t.J=!1,t.sa||i.Xa()?(t.I=null,t.V=0,i.ha()&&i.Gb()):(r=[],s.a.P(t.I,function(n,t){r[t.Ka]=n}),s.a.D(r,function(n,r){var f=t.I[n],u=i.$c(f.da);u.Ka=r;u.La=f.La;t.I[n]=u}),i.Xa()&&i.ha()&&i.Gb()),t.ra||i.notifySubscribers(t.X,"awake"))},hb:function(t){var i=this[h];i.ra||"change"!=t||this.Wa("change")||(s.a.P(i.I,function(n,t){t.s&&(i.I[n]={da:t.da,Ka:t.Ka,La:t.La},t.s())}),i.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var n=this[h];return n.J&&(n.sa||this.Xa())&&this.ha(),s.T.fn.ob.call(this)}},ft={Qa:function(n){"change"!=n&&"beforeChange"!=n||this.v()}};s.a.Ba&&s.a.setPrototypeOf(c,s.T.fn);p=s.ta.Ma;c[p]=s.o;s.Oc=function(n){return"function"==typeof n&&n[p]===c[p]};s.Fd=function(n){return s.Oc(n)&&n[h]&&n[h].wb};s.b("computed",s.o);s.b("dependentObservable",s.o);s.b("isComputed",s.Oc);s.b("isPureComputed",s.Fd);s.b("computed.fn",c);s.L(c,"peek",c.v);s.L(c,"dispose",c.s);s.L(c,"isActive",c.ja);s.L(c,"getDependenciesCount",c.qa);s.L(c,"getDependencies",c.Va);s.xb=function(n,t){return"function"==typeof n?s.o(n,t,{pure:!0}):(n=s.a.extend({},n),n.pure=!0,s.o(n,t))};s.b("pureComputed",s.xb),function(){function i(u,f,e){if(e=e||new t,u=f(u),"object"!=typeof u||null===u||u===n||u instanceof RegExp||u instanceof Date||u instanceof String||u instanceof Number||u instanceof Boolean)return u;var o=u instanceof Array?[]:{};return e.save(u,o),r(u,function(t){var r=f(u[t]),s;switch(typeof r){case"boolean":case"number":case"string":case"function":o[t]=r;break;case"object":case"undefined":s=e.get(r);o[t]=s!==n?s:i(r,f,e)}}),o}function r(n,t){if(n instanceof Array){for(var i=0;i<n.length;i++)t(i);"function"==typeof n.toJSON&&t("toJSON")}else for(i in n)t(i)}function t(){this.keys=[];this.values=[]}s.ad=function(n){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return i(n,function(n){for(var t=0;s.O(n)&&10>t;t++)n=n();return n})};s.toJSON=function(n,t,i){return n=s.ad(n),s.a.hc(n,t,i)};t.prototype={constructor:t,save:function(n,t){var i=s.a.A(this.keys,n);0<=i?this.values[i]=t:(this.keys.push(n),this.values.push(t))},get:function(t){return t=s.a.A(this.keys,t),0<=t?this.values[t]:n}}}();s.b("toJS",s.ad);s.b("toJSON",s.toJSON);s.Wd=function(n,t,i){function r(t){var r=s.xb(n,i).extend({ma:"always"}),u=r.subscribe(function(n){n&&(u.s(),t(n))});return r.notifySubscribers(r.v()),u}return"function"!=typeof Promise||t?r(t.bind(i)):new Promise(r)};s.b("when",s.Wd),function(){s.w={M:function(t){switch(s.a.R(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?s.a.g.get(t,s.c.options.$b):7>=s.a.W?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?s.w.M(t.options[t.selectedIndex]):n;default:return t.value}},cb:function(t,i,r){switch(s.a.R(t)){case"option":"string"==typeof i?(s.a.g.set(t,s.c.options.$b,n),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=i):(s.a.g.set(t,s.c.options.$b,i),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof i?i:"");break;case"select":(""===i||null===i)&&(i=n);for(var u=-1,f=0,o=t.options.length,e;f<o;++f)if(e=s.w.M(t.options[f]),e==i||""===e&&i===n){u=f;break}(r||0<=u||i===n&&1<t.size)&&(t.selectedIndex=u,6===s.a.W&&s.a.setTimeout(function(){t.selectedIndex=u},0));break;default:(null===i||i===n)&&(i="");t.value=i}}}}();s.b("selectExtensions",s.w);s.b("selectExtensions.readValue",s.w.M);s.b("selectExtensions.writeValue",s.w.cb);s.m=function(){function t(n){var c,r,t;n=s.a.Db(n);123===n.charCodeAt(0)&&(n=n.slice(1,-1));n+="\n,";var a=[],l=n.match(i),o,u=[],h=0;if(1<l.length){for(c=0;r=l[c];++c){if(t=r.charCodeAt(0),44===t){if(0>=h){a.push(o&&u.length?{key:o,value:u.join("")}:{unknown:o||u.join("")});o=h=0;u=[];continue}}else if(58===t){if(!h&&!o&&1===u.length){o=u.pop();continue}}else if(47===t&&1<r.length&&(47===r.charCodeAt(1)||42===r.charCodeAt(1)))continue;else 47===t&&c&&1<r.length?(t=l[c-1].match(f))&&!e[t[0]]&&(n=n.substr(n.indexOf(r)+1),l=n.match(i),c=-1,r="/"):40===t||123===t||91===t?++h:41===t||125===t||93===t?--h:o||u.length||34!==t&&39!==t||(r=r.slice(1,-1));u.push(r)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return a}var r=["true","false","null","undefined"],u=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,e={"in":1,"return":1,"typeof":1},n={};return{Ra:[],wa:n,ac:t,vb:function(i,f){function e(t,i){var a,f;if(!l){if(f=s.getBindingHandler(t),f&&f.preprocess&&!(i=f.preprocess(i,t,e)))return;(f=n[t])&&(a=i,0<=s.a.A(r,a)?a=!1:(f=a.match(u),a=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:a),f=a);f&&o.push("'"+("string"==typeof n[t]?n[t]:t)+"':function(_z){"+a+"=_z}")}c&&(i="function(){return "+i+" }");h.push("'"+t+"':"+i)}f=f||{};var h=[],o=[],c=f.valueAccessors,l=f.bindingParams,a="string"==typeof i?t(i):i;return s.a.D(a,function(n){e(n.key||n.unknown,n.value)}),o.length&&e("_ko_property_writers","{"+o.join(",")+" }"),h.join(",")},Id:function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return!0;return!1},eb:function(n,t,i,r,u){n&&s.O(n)?!s.Za(n)||u&&n.v()===r||n(r):(n=t.get("_ko_property_writers"))&&n[i]&&n[i](r)}}}();s.b("expressionRewriting",s.m);s.b("expressionRewriting.bindingRewriteValidators",s.m.Ra);s.b("expressionRewriting.parseObjectLiteral",s.m.ac);s.b("expressionRewriting.preProcessBindings",s.m.vb);s.b("expressionRewriting._twoWayBindings",s.m.wa);s.b("jsonExpressionRewriting",s.m);s.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.m.vb),function(){function n(n){return 8==n.nodeType&&e.test(r?n.text:n.nodeValue)}function t(n){return 8==n.nodeType&&h.test(r?n.text:n.nodeValue)}function u(i,r){for(var u=i,f=1,e=[];u=u.nextSibling;){if(t(u)&&(s.a.g.set(u,o,!0),f--,0===f))return e;e.push(u);n(u)&&f++}if(!r)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function f(n,t){var i=u(n,t);return i?0<i.length?i[i.length-1].nextSibling:n.nextSibling:null}var r=i&&"<!--test-->"===i.createComment("test").text,e=r?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=r?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0},o="__ko_matchedEndComment__";s.h={ea:{},childNodes:function(t){return n(t)?u(t):t.childNodes},Ea:function(t){if(n(t)){t=s.h.childNodes(t);for(var i=0,r=t.length;i<r;i++)s.removeNode(t[i])}else s.a.Tb(t)},va:function(t,i){if(n(t)){s.h.Ea(t);for(var u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u)}else s.a.va(t,i)},Vc:function(t,i){var r;n(t)?(r=t.nextSibling,t=t.parentNode):r=t.firstChild;r?i!==r&&t.insertBefore(i,r):t.appendChild(i)},Wb:function(t,i,r){r?(r=r.nextSibling,n(t)&&(t=t.parentNode),r?i!==r&&t.insertBefore(i,r):t.appendChild(i)):s.h.Vc(t,i)},firstChild:function(i){if(n(i))return!i.nextSibling||t(i.nextSibling)?null:i.nextSibling;if(i.firstChild&&t(i.firstChild))throw Error("Found invalid end comment, as the first child of "+i);return i.firstChild},nextSibling:function(i){if(n(i)&&(i=f(i)),i.nextSibling&&t(i.nextSibling)){var r=i.nextSibling;if(t(r)&&!s.a.g.get(r,o))throw Error("Found end comment without a matching opening comment, as child of "+i);return null}return i.nextSibling},Cd:n,Vd:function(n){return(n=(r?n.text:n.nodeValue).match(e))?n[1]:null},Sc:function(i){var o,r,u,e;if(c[s.a.R(i)]&&(o=i.firstChild,o))do if(1===o.nodeType){if(r=o.firstChild,u=null,r)do u?u.push(r):n(r)?(e=f(r,!0),e?r=e:u=[r]):t(r)&&(u=[r]);while(r=r.nextSibling);if(r=u)for(u=o.nextSibling,e=0;e<r.length;e++)u?i.insertBefore(r[e],u):i.appendChild(r[e])}while(o=o.nextSibling)}}}();s.b("virtualElements",s.h);s.b("virtualElements.allowedBindings",s.h.ea);s.b("virtualElements.emptyNode",s.h.Ea);s.b("virtualElements.insertAfter",s.h.Wb);s.b("virtualElements.prepend",s.h.Vc);s.b("virtualElements.setDomNodeChildren",s.h.va),function(){s.ga=function(){this.nd={}};s.a.extend(s.ga.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return null!=n.getAttribute("data-bind")||s.j.getComponentNameForNode(n);case 8:return s.h.Cd(n);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t),i=i?this.parseBindingsString(i,t,n):null;return s.j.tc(i,n,t,!1)},getBindingAccessors:function(n,t){var i=this.getBindingsString(n,t),i=i?this.parseBindingsString(i,t,n,{valueAccessors:!0}):null;return s.j.tc(i,n,t,!0)},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return s.h.Vd(n);default:return null}},parseBindingsString:function(n,t,i,r){var u,f,e,h,c;try{return u=this.nd,f=n+(r&&r.valueAccessors||""),(e=u[f])||(c="with($context){with($data||{}){return{"+s.m.vb(n,r)+"}}}",h=new Function("$context","$element",c),e=u[f]=h),e(t,i)}catch(o){throw o.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+o.message,o;}}});s.ga.instance=new s.ga}();s.b("bindingProvider",s.ga),function(){function v(n){var t=(n=s.a.g.get(n,f))&&n.N;t&&(n.N=null,t.Tc())}function o(n,t,i){this.node=n;this.yc=t;this.kb=[];this.H=!1;t.N||s.a.K.za(n,v);i&&i.N&&(i.N.kb.push(n),this.Kb=i)}function d(n){return function(){return n}}function l(n){return n()}function y(n){return s.a.Ga(s.u.G(n),function(t,i){return function(){return n()[i]}})}function g(n,t,i){return"function"==typeof n?y(n.bind(null,t,i)):s.a.Ga(n,d)}function nt(n,t){return y(this.getBindings.bind(this,n,t))}function p(n,t){var i=s.h.firstChild(t),r,u,f;if(i){if(u=s.ga.instance,f=u.preprocessNode,f){for(;r=i;)i=s.h.nextSibling(r),f.call(u,r);i=s.h.firstChild(t)}for(;r=i;)i=s.h.nextSibling(r),w(n,r)}s.i.ma(t,s.i.H)}function w(n,t){var i=n,r=1===t.nodeType;r&&s.h.Sc(t);(r||s.ga.instance.nodeHasBindings(t))&&(i=b(t,null,n).bindingContextForDescendants);i&&!k[s.a.R(t)]&&p(i,t)}function tt(n){var i=[],r={},t=[];return s.a.P(n,function u(f){if(!r[f]){var e=s.getBindingHandler(f);e&&(e.after&&(t.push(f),s.a.D(e.after,function(i){if(n[i]){if(-1!==s.a.A(t,i))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+t.join(", "));u(i)}}),t.length--),i.push({key:f,Mc:e}));r[f]=!0}}),i}function b(t,i,r){var o=s.a.g.Ub(t,f,{}),w=o.hd,e,h,y,v,p;if(!i){if(w)throw Error("You cannot apply bindings multiple times to the same element.");o.hd=!0}if(w||(o.context=r),o.Zb||(o.Zb={}),i&&"function"!=typeof i)e=i;else{var b=s.ga.instance,k=b.getBindingAccessors||nt,c=s.$(function(){return(e=i?i(r,t):k.call(b,t,r))&&(r[u]&&r[u](),r[a]&&r[a]()),e},null,{l:t});e&&c.ja()||(c=null)}return h=r,e&&(v=function(){return s.a.Ga(c?c():e,l)},p=c?function(n){return function(){return l(c()[n])}}:function(n){return e[n]},v.get=function(n){return e[n]&&l(p(n))},v.has=function(n){return n in e},s.i.H in e&&s.i.subscribe(t,s.i.H,function(){var i=e[s.i.H](),n;i&&(n=s.h.childNodes(t),n.length&&i(n,s.Ec(n[0])))}),s.i.pa in e&&(h=s.i.Cb(t,r),s.i.subscribe(t,s.i.pa,function(){var n=e[s.i.pa]();n&&s.h.firstChild(t)&&n(t)})),o=tt(e),s.a.D(o,function(i){var f=i.Mc.init,o=i.Mc.update,r=i.key;if(8===t.nodeType&&!s.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof f&&s.u.G(function(){var i=f(t,p(r),v,h.$data,h);if(i&&i.controlsDescendantBindings){if(y!==n)throw Error("Multiple bindings ("+y+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");y=r}});"function"==typeof o&&s.$(function(){o(t,p(r),v,h.$data,h)},null,{l:t})}catch(u){throw u.message='Unable to process binding "'+r+": "+e[r]+'"\nMessage: '+u.message,u;}})),o=y===n,{shouldBindDescendants:o,bindingContextForDescendants:o&&h}}function h(t,i){return t&&t instanceof s.fa?t:new s.fa(t,n,n,i)}var u=s.a.Da("_subscribable"),e=s.a.Da("_ancestorBindingInfo"),a=s.a.Da("_dataDependency"),k,c,f;s.c={};k={script:!0,textarea:!0,template:!0};s.getBindingHandler=function(n){return s.c[n]};c={};s.fa=function(t,i,r,f,o){function y(){var t=b?v():v,n=s.a.f(t);return i?(s.a.extend(h,i),e in i&&(h[e]=i[e])):(h.$parents=[],h.$root=n,h.ko=s),h[u]=l,p?n=h.$data:(h.$rawData=t,h.$data=n),r&&(h[r]=n),f&&f(h,i,n),i&&i[u]&&!s.S.o().Vb(i[u])&&i[u](),w&&(h[a]=w),h.$data}var h=this,p=t===c,v=p?n:t,b="function"==typeof v&&!s.O(v),l,w=o&&o.dataDependency;o&&o.exportDependencies?y():(l=s.xb(y),l.v(),l.ja()?l.equalityComparer=null:h[u]=n)};s.fa.prototype.createChildContext=function(n,t,i,r){if(!r&&t&&"object"==typeof t&&(r=t,t=r.as,i=r.extend),t&&r&&r.noChildContext){var u="function"==typeof n&&!s.O(n);return new s.fa(c,this,null,function(r){i&&i(r);r[t]=u?n():n},r)}return new s.fa(n,this,t,function(n,t){n.$parentContext=t;n.$parent=t.$data;n.$parents=(t.$parents||[]).slice(0);n.$parents.unshift(n.$parent);i&&i(n)},r)};s.fa.prototype.extend=function(n,t){return new s.fa(c,this,null,function(t){s.a.extend(t,"function"==typeof n?n(t):n)},t)};f=s.a.g.Z();o.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};o.prototype.sd=function(n){s.a.Pa(this.kb,n);!this.kb.length&&this.H&&this.Cc()};o.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=null,s.a.K.yb(this.node,v),s.i.ma(this.node,s.i.pa),this.Tc())};s.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(n,t,i,r,u){var e=s.a.g.Ub(n,f,{});return e.Fa||(e.Fa=new s.T),u&&u.notifyImmediately&&e.Zb[t]&&s.u.G(i,r,[n]),e.Fa.subscribe(i,r,t)},ma:function(t,i){var r=s.a.g.get(t,f);if(r&&(r.Zb[i]=!0,r.Fa&&r.Fa.notifySubscribers(t,i),i==s.i.H))if(r.N)r.N.Cc();else if(r.N===n&&r.Fa&&r.Fa.Wa(s.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");},Cb:function(n,t){var i=s.a.g.Ub(n,f,{});return i.N||(i.N=new o(n,i,t[e])),t[e]==i?t:t.extend(function(n){n[e]=i})}};s.Td=function(n){return(n=s.a.g.get(n,f))&&n.context};s.ib=function(n,t,i){return 1===n.nodeType&&s.h.Sc(n),b(n,t,h(i))};s.ld=function(n,t,i){return i=h(i),s.ib(n,g(t,i,n),i)};s.Oa=function(n,t){1!==t.nodeType&&8!==t.nodeType||p(h(n),t)};s.vc=function(n,u,f){if(!t&&r.jQuery&&(t=r.jQuery),2>arguments.length){if(u=i.body,!u)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");}else if(!u||1!==u.nodeType&&8!==u.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");w(h(n,f),u)};s.Dc=function(t){return!t||1!==t.nodeType&&8!==t.nodeType?n:s.Td(t)};s.Ec=function(t){return(t=s.Dc(t))?t.$data:n};s.b("bindingHandlers",s.c);s.b("bindingEvent",s.i);s.b("bindingEvent.subscribe",s.i.subscribe);s.b("bindingEvent.startPossiblyAsyncContentBinding",s.i.Cb);s.b("applyBindings",s.vc);s.b("applyBindingsToDescendants",s.Oa);s.b("applyBindingAccessorsToNode",s.ib);s.b("applyBindingsToNode",s.ld);s.b("contextFor",s.Dc);s.b("dataFor",s.Ec)}(),function(n){function u(t,u){var e=Object.prototype.hasOwnProperty.call(i,t)?i[t]:n,o;e?e.subscribe(u):(e=i[t]=new s.T,e.subscribe(u),f(t,function(n,u){var f=!(!u||!u.synchronous);r[t]={definition:n,Gd:f};delete i[t];o||f?e.notifySubscribers(n):s.na.zb(function(){e.notifySubscribers(n)})}),o=!0)}function f(n,i){t("getConfig",[n],function(r){r?t("loadComponent",[n,r],function(n){i(n,r)}):i(null,null)})}function t(i,r,u,f){var e,o,h;if(f||(f=s.j.loaders.slice(0)),e=f.shift(),e)if(o=e[i],o){if(h=!1,o.apply(e,r.concat(function(n){h?u(null):null!==n?u(n):t(i,r,u,f)}))!==n&&(h=!0,!e.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else t(i,r,u,f);else u(null)}var i={},r={};s.j={get:function(t,i){var f=Object.prototype.hasOwnProperty.call(r,t)?r[t]:n;f?f.Gd?s.u.G(function(){i(f.definition)}):s.na.zb(function(){i(f.definition)}):u(t,i)},Bc:function(n){delete r[n]},oc:t};s.j.loaders=[];s.b("components",s.j);s.b("components.get",s.j.get);s.b("components.clearCachedDefinition",s.j.Bc)}(),function(){function l(n,i,r,f){function e(){0==--c&&f(o)}var o={},c=2,h=r.template;r=r.viewModel;h?u(i,h,function(t){s.j.oc("loadTemplate",[n,t],function(n){o.template=n;e()})}):e();r?u(i,r,function(i){s.j.oc("loadViewModel",[n,i],function(n){o[t]=n;e()})}):e()}function e(n,i,r){if("function"==typeof i)r(function(n){return new i(n)});else if("function"==typeof i[t])r(i[t]);else if("instance"in i){var u=i.instance;r(function(){return u})}else"viewModel"in i?e(n,i.viewModel,r):n("Unknown viewModel value: "+i)}function h(n){switch(s.a.R(n)){case"script":return s.a.ua(n.text);case"textarea":return s.a.ua(n.value);case"template":if(c(n.content))return s.a.Ca(n.content.childNodes)}return s.a.Ca(n.childNodes)}function c(n){return r.DocumentFragment?n instanceof DocumentFragment:n&&11===n.nodeType}function u(n,t,i){"string"==typeof t.require?o||r.require?(o||r.require)([t.require],function(n){n&&"object"==typeof n&&n.Xd&&n["default"]&&(n=n["default"]);i(n)}):n("Uses require, but no AMD loader is present"):i(t)}function f(n){return function(t){throw Error("Component '"+n+"': "+t);}}var n={},t;s.j.register=function(t,i){if(!i)throw Error("Invalid configuration for "+t);if(s.j.tb(t))throw Error("Component "+t+" is already registered");n[t]=i};s.j.tb=function(t){return Object.prototype.hasOwnProperty.call(n,t)};s.j.unregister=function(t){delete n[t];s.j.Bc(t)};s.j.Fc={getConfig:function(t,i){i(s.j.tb(t)?n[t]:null)},loadComponent:function(n,t,i){var r=f(n);u(r,t,function(t){l(n,r,t,i)})},loadTemplate:function(n,t,u){if(n=f(n),"string"==typeof t)u(s.a.ua(t));else if(t instanceof Array)u(t);else if(c(t))u(s.a.la(t.childNodes));else if(t.element)if(t=t.element,r.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)u(h(t));else if("string"==typeof t){var e=i.getElementById(t);e?u(h(e)):n("Cannot find element with ID "+t)}else n("Unknown element type: "+t);else n("Unknown template value: "+t)},loadViewModel:function(n,t,i){e(f(n),t,i)}};t="createViewModel";s.b("components.register",s.j.register);s.b("components.isRegistered",s.j.tb);s.b("components.unregister",s.j.unregister);s.b("components.defaultLoader",s.j.Fc);s.j.loaders.push(s.j.Fc);s.j.dd=n}(),function(){function n(n,i){var r=n.getAttribute("params");if(r){var r=t.parseBindingsString(r,i,n,{valueAccessors:!0,bindingParams:!0}),r=s.a.Ga(r,function(t){return s.o(t,null,{l:n})}),u=s.a.Ga(r,function(t){var i=t.v();return t.ja()?s.o({read:function(){return s.a.f(t())},write:s.Za(i)&&function(n){t()(n)},l:n}):i});return Object.prototype.hasOwnProperty.call(u,"$raw")||(u.$raw=r),u}return{$raw:{}}}s.j.getComponentNameForNode=function(n){var t=s.a.R(n);if(s.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+n||8>=s.a.W&&n.tagName===t))return t};s.j.tc=function(t,i,r,u){var f,e;if(1===i.nodeType&&(f=s.j.getComponentNameForNode(i),f)){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');e={name:f,params:n(i,r)};t.component=u?function(){return e}:e}return t};var t=new s.ga;9>s.a.W&&(s.j.register=function(n){return function(){return n.apply(this,arguments)}}(s.j.register),i.createDocumentFragment=function(n){return function(){var t=n(),i=s.j.dd;for(var r in i);return t}}(i.createDocumentFragment))}(),function(){function n(n,t,i){if(t=t.template,!t)throw Error("Component '"+n+"' has no template");n=s.a.Ca(t);s.h.va(i,n)}function t(n,t,i){var r=n.createViewModel;return r?r.call(n,t,i):t}var i=0;s.c.component={init:function(r,u,f,e,o){function a(){var n=h&&h.dispose;"function"==typeof n&&n.call(h);c&&c.s();l=h=c=null}var h,l,c,v=s.a.la(s.h.childNodes(r));return s.h.Ea(r),s.a.K.za(r,a),s.o(function(){var e=s.a.f(u()),f,y,p,w;if("string"==typeof e?f=e:(f=s.a.f(e.name),y=s.a.f(e.params)),!f)throw Error("No component name specified");p=s.i.Cb(r,o);w=l=++i;s.j.get(f,function(i){if(l===w){if(a(),!i)throw Error("Unknown component '"+f+"'");n(f,i,r);var u=t(i,y,{element:r,templateNodes:v});i=p.createChildContext(u,{extend:function(n){n.$component=u;n.$componentTemplateNodes=v}});u&&u.koDescendantsComplete&&(c=s.i.subscribe(r,s.i.pa,u.koDescendantsComplete,u));h=u;s.Oa(i,r)}})},null,{l:r}),{controlsDescendantBindings:!0}}};s.h.ea.component=!0}();k={"class":"className","for":"htmlFor"};s.c.attr={update:function(t,i){var r=s.a.f(i())||{};s.a.P(r,function(i,r){r=s.a.f(r);var u=i.indexOf(":"),u="lookupNamespaceURI"in t&&0<u&&t.lookupNamespaceURI(i.substr(0,u)),f=!1===r||null===r||r===n;f?u?t.removeAttributeNS(u,i):t.removeAttribute(i):r=r.toString();8>=s.a.W&&i in k?(i=k[i],f?t.removeAttribute(i):t[i]=r):f||(u?t.setAttributeNS(u,i,r):t.setAttribute(i,r));"name"===i&&s.a.Yc(t,f?"":r)})}},function(){s.c.checked={after:["value","attr"],init:function(t,i,r){function l(){var v=t.checked,h=f(),l,y,p;s.S.Ya()||!v&&(o||s.S.qa())||(l=s.u.G(i),u?(y=a?l.v():l,p=c,c=h,p!==h?v&&(s.a.Na(y,h,!0),s.a.Na(y,p,!1)):s.a.Na(y,h,v),a&&s.Za(l)&&l(y)):(e&&(h===n?h=v:v||(h=n)),s.m.eb(l,r,"checked",h,!0)))}function v(){var r=s.a.f(i()),o=f();u?(t.checked=0<=s.a.A(r,o),c=o):t.checked=e&&o===n?!!r:f()===r}var f=s.xb(function(){return r.has("checkedValue")?s.a.f(r.get("checkedValue")):y?r.has("value")?s.a.f(r.get("value")):t.value:void 0}),e="checkbox"==t.type,o="radio"==t.type;if(e||o){var h=i(),u=e&&s.a.f(h)instanceof Array,a=!(u&&h.push&&h.splice),y=o||u,c=u?f():n;o&&!t.name&&s.c.uniqueName.init(t,function(){return!0});s.o(l,null,{l:t});s.a.B(t,"click",l);s.o(v,null,{l:t});h=n}}};s.m.wa.checked=!0;s.c.checkedValue={update:function(n,t){n.value=s.a.f(t())}}}();s.c["class"]={update:function(n,t){var i=s.a.Db(s.a.f(t()));s.a.Eb(n,n.__ko__cssValue,!1);n.__ko__cssValue=i;s.a.Eb(n,i,!0)}};s.c.css={update:function(n,t){var i=s.a.f(t());null!==i&&"object"==typeof i?s.a.P(i,function(t,i){i=s.a.f(i);s.a.Eb(n,t,i)}):s.c["class"].update(n,t)}};s.c.enable={update:function(n,t){var i=s.a.f(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};s.c.disable={update:function(n,t){s.c.enable.update(n,function(){return!s.a.f(t())})}};s.c.event={init:function(n,t,i,r,u){var f=t()||{};s.a.P(f,function(f){"string"==typeof f&&s.a.B(n,f,function(n){var o,h=t()[f],e;if(h){try{e=s.a.la(arguments);r=u.$data;e.unshift(r);o=h.apply(r,e)}finally{!0!==o&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}!1===i.get(f+"Bubble")&&(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};s.c.foreach={Rc:function(n){return function(){var i=n(),t=s.a.bc(i);return!t||"number"==typeof t.length?{foreach:i,templateEngine:s.ba.Ma}:(s.a.f(i),{foreach:t.data,as:t.as,noChildContext:t.noChildContext,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:s.ba.Ma})}},init:function(n,t){return s.c.template.init(n,s.c.foreach.Rc(t))},update:function(n,t,i,r,u){return s.c.template.update(n,s.c.foreach.Rc(t),i,r,u)}};s.m.Ra.foreach=!1;s.h.ea.foreach=!0;s.c.hasfocus={init:function(n,t,i){function r(r){var u,f;if(n.__ko_hasfocusUpdating=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(e){f=u.body}r=f===n}u=t();s.m.eb(u,i,"hasfocus",r,!0);n.__ko_hasfocusLastValue=r;n.__ko_hasfocusUpdating=!1}var u=r.bind(null,!0),f=r.bind(null,!1);s.a.B(n,"focus",u);s.a.B(n,"focusin",u);s.a.B(n,"blur",f);s.a.B(n,"focusout",f);n.__ko_hasfocusLastValue=!1},update:function(n,t){var i=!!s.a.f(t());n.__ko_hasfocusUpdating||n.__ko_hasfocusLastValue===i||(i?n.focus():n.blur(),!i&&n.__ko_hasfocusLastValue&&n.ownerDocument.body.focus(),s.u.G(s.a.Fb,null,[n,i?"focusin":"focusout"]))}};s.m.wa.hasfocus=!0;s.c.hasFocus=s.c.hasfocus;s.m.wa.hasFocus="hasfocus";s.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.a.fc(n,t())}},function(){function n(n,t,i){s.c[n]={init:function(n,r,u,f,e){var a,c,o={},v,y,h,l;return t&&(f=u.get("as"),l=u.get("noChildContext"),h=!(f&&l),o={as:f,noChildContext:l,exportDependencies:h}),y=(v="render"==u.get("completeOn"))||u.has(s.i.pa),s.o(function(){var f=s.a.f(r()),u=!i!=!f,l=!c,p;(h||u!==a)&&(y&&(e=s.i.Cb(n,e)),u&&((!t||h)&&(o.dataDependency=s.S.o()),p=t?e.createChildContext("function"==typeof f?f:r,o):s.S.qa()?e.extend(null,o):e),l&&s.S.qa()&&(c=s.a.Ca(s.h.childNodes(n),!0)),u?(l||s.h.va(n,s.a.Ca(c)),s.Oa(p,n)):(s.h.Ea(n),v||s.i.ma(n,s.i.H)),a=u)},null,{l:n}),{controlsDescendantBindings:!0}}};s.m.Ra[n]=!1;s.h.ea[n]=!0}n("if");n("ifnot",!1,!0);n("with",!0)}();s.c.let={init:function(n,t,i,r,u){return t=u.extend(t),s.Oa(t,n),{controlsDescendantBindings:!0}}};s.h.ea.let=!0;w={};s.c.options={init:function(n){if("select"!==s.a.R(n))throw Error("options binding applies only to SELECT elements");for(;0<n.length;)n.remove(0);return{controlsDescendantBindings:!0}},update:function(t,i,r){function a(){return s.a.jb(t.options,function(n){return n.selected})}function v(n,t,i){var r=typeof t;return"function"==r?t(n):"string"==r?n[t]:i}function y(n,i){if(o&&e)s.i.ma(t,s.i.H);else if(f.length){var r=0<=s.a.A(f,s.w.M(i[0]));s.a.Zc(i[0],r);o&&!r&&s.u.G(s.a.Fb,null,[t,"change"])}}var h=t.multiple,c=0!=t.length&&h?t.scrollTop:null,u=s.a.f(i()),e=r.get("valueAllowUnset")&&r.has("value"),b=r.get("optionsIncludeDestroyed"),l,f,o,p;i={};f=[];e||(h?f=s.a.Mb(a(),s.w.M):0<=t.selectedIndex&&f.push(s.w.M(t.options[t.selectedIndex])));u&&("undefined"==typeof u.length&&(u=[u]),l=s.a.jb(u,function(t){return b||t===n||null===t||!s.a.f(t._destroy)}),r.has("optionsCaption")&&(u=s.a.f(r.get("optionsCaption")),null!==u&&u!==n&&l.unshift(w)));o=!1;i.beforeRemove=function(n){t.removeChild(n)};u=y;r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(u=function(t,i){y(0,i);s.u.G(r.get("optionsAfterRender"),null,[i[0],t!==w?t:n])});s.a.ec(t,l,function(i,u,h){return h.length&&(f=!e&&h[0].selected?[s.w.M(h[0])]:[],o=!0),u=t.ownerDocument.createElement("option"),i===w?(s.a.Bb(u,r.get("optionsCaption")),s.w.cb(u,n)):(h=v(i,r.get("optionsValue"),i),s.w.cb(u,s.a.f(h)),i=v(i,r.get("optionsText"),h),s.a.Bb(u,i)),[u]},i,u);e||(p=h?f.length&&a().length<f.length:f.length&&0<=t.selectedIndex?s.w.M(t.options[t.selectedIndex])!==f[0]:f.length||0<=t.selectedIndex,p&&s.u.G(s.a.Fb,null,[t,"change"]));(e||s.S.Ya())&&s.i.ma(t,s.i.H);s.a.wd(t);c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}};s.c.options.$b=s.a.g.Z();s.c.selectedOptions={init:function(n,t,i){function r(){var u=t(),r=[];s.a.D(n.getElementsByTagName("option"),function(n){n.selected&&r.push(s.w.M(n))});s.m.eb(u,i,"selectedOptions",r)}function f(){var i=s.a.f(t()),r=n.scrollTop;i&&"number"==typeof i.length&&s.a.D(n.getElementsByTagName("option"),function(n){var t=0<=s.a.A(i,s.w.M(n));n.selected!=t&&s.a.Zc(n,t)});n.scrollTop=r}if("select"!=s.a.R(n))throw Error("selectedOptions binding applies only to SELECT elements");var u;s.i.subscribe(n,s.i.H,function(){u?r():(s.a.B(n,"change",r),u=s.o(f,null,{l:n}))},null,{notifyImmediately:!0})},update:function(){}};s.m.wa.selectedOptions=!0;s.c.style={update:function(i,r){var u=s.a.f(r()||{});s.a.P(u,function(r,u){if(u=s.a.f(u),(null===u||u===n||!1===u)&&(u=""),t)t(i).css(r,u);else if(/^--/.test(r))i.style.setProperty(r,u);else{r=r.replace(/-(\w)/g,function(n,t){return t.toUpperCase()});var f=i.style[r];i.style[r]=u;u===f||i.style[r]!=f||isNaN(u)||(i.style[r]=u+"px")}})}};s.c.submit={init:function(n,t,i,r,u){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");s.a.B(n,"submit",function(i){var r,f=t();try{r=f.call(u.$data,n)}finally{!0!==r&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};s.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.a.Bb(n,t())}};s.h.ea.text=!0,function(){var i,u,f,e,o,t,h;if(r&&r.navigator&&(i=function(n){if(n)return parseFloat(n[1])},u=r.navigator.userAgent,(f=r.opera&&r.opera.version&&parseInt(r.opera.version()))||(h=i(u.match(/Edge\/([^ ]+)$/)))||i(u.match(/Chrome\/([^ ]+)/))||(e=i(u.match(/Version\/([^ ]+) Safari/)))||(o=i(u.match(/Firefox\/([^ ]+)/)))||(t=s.a.W||i(u.match(/MSIE ([^ ]+)/)))||(t=i(u.match(/rv:([^ )]+)/)))),8<=t&&10>t)var c=s.a.g.Z(),l=s.a.g.Z(),v=function(n){var t=this.activeElement;(t=t&&s.a.g.get(t,l))&&t(n)},a=function(n,t){var i=n.ownerDocument;s.a.g.get(i,c)||(s.a.g.set(i,c,!0),s.a.B(i,"selectionchange",v));s.a.g.set(n,l,t)};s.c.textInput={init:function(i,r,u){function c(n,t){s.a.B(i,n,t)}function d(){var t=s.a.f(r());(null===t||t===n)&&(t="");p!==n&&t===p?s.a.setTimeout(d,4):i.value!==t&&(k=!0,i.value=t,k=!1,w=i.value)}function v(){y||(p=i.value,y=s.a.setTimeout(l,4))}function l(){clearTimeout(y);p=y=n;var t=i.value;w!==t&&(w=t,s.m.eb(r(),u,"textInput",t))}var w=i.value,y,p,b=9==s.a.W?v:l,k=!1;t&&c("keypress",l);11>t&&c("propertychange",function(n){k||"value"!==n.propertyName||b(n)});8==t&&(c("keyup",l),c("keydown",l));a&&(a(i,b),c("dragend",v));(!t||9<=t)&&c("input",b);5>e&&"textarea"===s.a.R(i)?(c("keydown",v),c("paste",v),c("cut",v)):11>f?c("keydown",v):4>o?(c("DOMAutoComplete",l),c("dragdrop",l),c("drop",l)):h&&"number"===i.type&&c("keydown",v);c("change",l);c("blur",l);s.o(d,null,{l:i})}};s.m.wa.textInput=!0;s.c.textinput={preprocess:function(n,t,i){i("textInput",n)}}}();s.c.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++s.c.uniqueName.rd;s.a.Yc(n,i)}}};s.c.uniqueName.rd=0;s.c.using={init:function(n,t,i,r,u){var f;return i.has("as")&&(f={as:i.get("as"),noChildContext:i.get("noChildContext")}),t=u.createChildContext(t,f),s.Oa(t,n),{controlsDescendantBindings:!0}}};s.h.ea.using=!0;s.c.value={init:function(t,i,r){var l=s.a.R(t),a="input"==l,u,f,v;if(a&&("checkbox"==t.type||"radio"==t.type))s.ib(t,{checkedValue:i});else{var e=[],o=r.get("valueUpdate"),h=!1,c=null;o&&(e="string"==typeof o?[o]:s.a.wc(o),s.a.Pa(e,"change"));u=function(){c=null;h=!1;var n=i(),u=s.w.M(t);s.m.eb(n,r,"value",u)};s.a.W&&a&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete)&&-1==s.a.A(e,"propertychange")&&(s.a.B(t,"propertychange",function(){h=!0}),s.a.B(t,"focus",function(){h=!1}),s.a.B(t,"blur",function(){h&&u()}));s.a.D(e,function(n){var i=u;s.a.Ud(n,"after")&&(i=function(){c=s.w.M(t);s.a.setTimeout(u,0)},n=n.substring(5));s.a.B(t,n,i)});f=a&&"file"==t.type?function(){var r=s.a.f(i());null===r||r===n||""===r?t.value="":s.u.G(u)}:function(){var e=s.a.f(i()),o=s.w.M(t);null!==c&&e===c?s.a.setTimeout(f,0):(e!==o||o===n)&&("select"===l?(o=r.get("valueAllowUnset"),s.w.cb(t,e,o),o||e===s.w.M(t)||s.u.G(u)):s.w.cb(t,e))};"select"===l?s.i.subscribe(t,s.i.H,function(){v?r.get("valueAllowUnset")?f():u():(s.a.B(t,"change",u),v=s.o(f,null,{l:t}))},null,{notifyImmediately:!0}):(s.a.B(t,"change",u),s.o(f,null,{l:t}))}},update:function(){}};s.m.wa.value=!0;s.c.visible={update:function(n,t){var i=s.a.f(t()),r="none"!=n.style.display;i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}};s.c.hidden={update:function(n,t){s.c.visible.update(n,function(){return!s.a.f(t())})}},function(n){s.c[n]={init:function(t,i,r,u,f){return s.c.event.init.call(this,t,function(){var t={};return t[n]=i(),t},r,u,f)}}}("click");s.ca=function(){};s.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};s.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};s.ca.prototype.makeTemplateSource=function(n,t){if("string"==typeof n){t=t||i;var r=t.getElementById(n);if(!r)throw Error("Cannot find template with ID "+n);return new s.C.F(r)}if(1==n.nodeType||8==n.nodeType)return new s.C.ia(n);throw Error("Unknown template type: "+n);};s.ca.prototype.renderTemplate=function(n,t,i,r){return n=this.makeTemplateSource(n,r),this.renderTemplateSource(n,t,i,r)};s.ca.prototype.isTemplateRewritten=function(n,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(n,t).data("isRewritten")};s.ca.prototype.rewriteTemplate=function(n,t,i){n=this.makeTemplateSource(n,i);t=t(n.text());n.text(t);n.data("isRewritten",!0)};s.b("templateEngine",s.ca);s.kc=function(){function n(n,t,i,r){var o,f,u,e;for(n=s.m.ac(n),o=s.m.Ra,f=0;f<n.length;f++)if(u=n[f].key,Object.prototype.hasOwnProperty.call(o,u))if(e=o[u],"function"==typeof e){if(u=e(n[f].value))throw Error(u);}else if(!e)throw Error("This template engine does not support the '"+u+"' binding within its templates");return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+s.m.vb(n,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return s.kc.Ld(n,t)},i)},Ld:function(r,u){return r.replace(t,function(t,i,r,f,e){return n(e,i,r,u)}).replace(i,function(t,i){return n(i,"<!-- ko -->","#comment",u)})},md:function(n,t){return s.aa.Xb(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&s.ib(u,n,r)})}}}();s.b("__tr_ambtns",s.kc.md),function(){var i,t;s.C={};s.C.F=function(n){if(this.F=n){var t=s.a.R(n);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&n.content&&11===n.content.nodeType?3:4}};s.C.F.prototype.text=function(){var n=1===this.ab?"text":2===this.ab?"value":"innerHTML",t;if(0==arguments.length)return this.F[n];t=arguments[0];"innerHTML"===n?s.a.fc(this.F,t):this.F[n]=t};i=s.a.g.Z()+"_";s.C.F.prototype.data=function(n){if(1===arguments.length)return s.a.g.get(this.F,i+n);s.a.g.set(this.F,i+n,arguments[1])};t=s.a.g.Z();s.C.F.prototype.nodes=function(){var i=this.F,r,u,f;if(0==arguments.length)return r=s.a.g.get(i,t)||{},u=r.lb||(3===this.ab?i.content:4===this.ab?i:n),(!u||r.jd)&&(f=this.text(),f&&f!==r.bb&&(u=s.a.Md(f,i.ownerDocument),s.a.g.set(i,t,{lb:u,bb:f,jd:!0}))),u;r=arguments[0];this.ab!==n&&this.text("");s.a.g.set(i,t,{lb:r})};s.C.ia=function(n){this.F=n};s.C.ia.prototype=new s.C.F;s.C.ia.prototype.constructor=s.C.ia;s.C.ia.prototype.text=function(){if(0==arguments.length){var i=s.a.g.get(this.F,t)||{};return i.bb===n&&i.lb&&(i.bb=i.lb.innerHTML),i.bb}s.a.g.set(this.F,t,{bb:arguments[0]})};s.b("templateSources",s.C);s.b("templateSources.domElement",s.C.F);s.b("templateSources.anonymousTemplate",s.C.ia)}(),function(){function t(n,t,i){var r;for(t=s.h.nextSibling(t);n&&(r=n)!==t;)n=s.h.nextSibling(r),i(r,n)}function e(n,i){if(n.length){var r=n[0],u=n[n.length-1],f=r.parentNode,e=s.ga.instance,o=e.preprocessNode;if(o){if(t(r,u,function(n,t){var f=n.previousSibling,i=o.call(e,n);i&&(n===r&&(r=i[0]||t),n===u&&(u=i[i.length-1]||f))}),n.length=0,!r)return;r===u?n.push(r):(n.push(r,u),s.a.Ua(n,f))}t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||s.vc(i,n)});t(r,u,function(n){1!==n.nodeType&&8!==n.nodeType||s.aa.cd(n,[i])});s.a.Ua(n,f)}}function i(n){return n.nodeType?n:0<n.length?n[0]:null}function o(n,t,u,f,o){o=o||{};var h=(n&&i(n)||u||{}).ownerDocument,c=o.templateEngine||r;if(s.kc.xd(u,c,h),u=c.renderTemplate(u,f,o,h),"number"!=typeof u.length||0<u.length&&"number"!=typeof u[0].nodeType)throw Error("Template engine must return an array of DOM nodes");h=!1;switch(t){case"replaceChildren":s.h.va(n,u);h=!0;break;case"replaceNode":s.a.Xc(n,u);h=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t);}return h&&(e(u,f),o.afterRender&&s.u.G(o.afterRender,null,[u,f[o.as||"$data"]]),"replaceChildren"==t&&s.i.ma(n,s.i.H)),u}function h(n,t,i){return s.O(n)?n():"function"==typeof n?n(t,i):n}var r,u,f;s.gc=function(t){if(t!=n&&!(t instanceof s.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=t};s.dc=function(t,u,f,e,c){if(f=f||{},(f.templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",e){var l=i(e);return s.$(function(){var n=u&&u instanceof s.fa?u:new s.fa(u,null,null,null,{exportDependencies:!0}),r=h(t,n.$data,n),n=o(e,c,r,n,f);"replaceNode"==c&&(e=n,l=i(e))},null,{Sa:function(){return!l||!s.a.Sb(l)},l:l&&"replaceNode"==c?l.parentNode:l})}return s.aa.Xb(function(n){s.dc(t,u,f,n,"replaceNode")})};s.Qd=function(t,i,r,u,f){function l(n,t){s.u.G(s.a.ec,null,[u,n,w,r,p,t]);s.i.ma(u,s.i.H)}function p(n,t){e(t,c);r.afterRender&&r.afterRender(t,n);c=null}function w(n,i){c=f.createChildContext(n,{as:a,noChildContext:r.noChildContext,extend:function(n){n.$index=i;a&&(n[a+"Index"]=i)}});var e=h(t,n,c);return o(u,"ignoreTargetNode",e,c,r)}var c,a=r.as,y=!1===r.includeDestroyed||s.options.foreachHidesDestroyed&&!r.includeDestroyed,v;return y||r.beforeRemove||!s.Pc(i)?s.$(function(){var t=s.a.f(i)||[];"undefined"==typeof t.length&&(t=[t]);y&&(t=s.a.jb(t,function(t){return t===n||null===t||!s.a.f(t._destroy)}));l(t)},null,{l:u}):(l(i.v()),v=i.subscribe(function(n){l(i(),n)},null,"arrayChange"),v.l(u),v)};u=s.a.g.Z();f=s.a.g.Z();s.c.template={init:function(n,t){var i=s.a.f(t()),r;if("string"==typeof i||"name"in i)s.h.Ea(n);else if("nodes"in i){if(i=i.nodes||[],s.O(i))throw Error('The "nodes" option must be a plain, non-observable array.');r=i[0]&&i[0].parentNode;r&&s.a.g.get(r,f)||(r=s.a.Yb(i),s.a.g.set(r,f,!0));new s.C.ia(n).nodes(r)}else if(i=s.h.childNodes(n),0<i.length)r=s.a.Yb(i),new s.C.ia(n).nodes(r);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(t,i,r,f,e){var o=i();i=s.a.f(o);r=!0;f=null;"string"==typeof i?i={}:(o="name"in i?i.name:t,"if"in i&&(r=s.a.f(i["if"])),r&&"ifnot"in i&&(r=!s.a.f(i.ifnot)),r&&!o&&(r=!1));"foreach"in i?f=s.Qd(o,r&&i.foreach||[],i,t,e):r?(r=e,"data"in i&&(r=e.createChildContext(i.data,{as:i.as,noChildContext:i.noChildContext,exportDependencies:!0})),f=s.dc(o,r,i,t)):s.h.Ea(t);e=f;(i=s.a.g.get(t,u))&&"function"==typeof i.s&&i.s();s.a.g.set(t,u,!e||e.ja&&!e.ja()?n:e)}};s.m.Ra.template=function(n){return n=s.m.ac(n),1==n.length&&n[0].unknown||s.m.Id(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"};s.h.ea.template=!0}();s.b("setTemplateEngine",s.gc);s.b("renderTemplate",s.dc);s.a.Kc=function(n,t,i){if(n.length&&t.length)for(var o,r,f,e,u=o=0;(!i||u<i)&&(f=n[o]);++o){for(r=0;e=t[r];++r)if(f.value===e.value){f.moved=e.index;e.moved=f.index;t.splice(r,1);u=r=0;break}u+=r}};s.a.Pb=function(){function n(n,t,i,r,u){for(var o=Math.min,l=Math.max,a=[],c=n.length,f,h=t.length,v=h-c||1,w=c+h+1,y,p,b,e=0;e<=c;e++)for(p=y,a.push(y=[]),b=o(h,e+v),f=l(0,e-1);f<=b;f++)y[f]=f?e?n[e-1]===t[f-1]?p[f-1]:o(p[f]||w,y[f-1]||w)+1:f+1:e+1;for(o=[],l=[],v=[],e=c,f=h;e||f;)h=a[e][f]-1,f&&h===a[e][f-1]?l.push(o[o.length]={status:i,value:t[--f],index:f}):e&&h===a[e-1][f]?v.push(o[o.length]={status:r,value:n[--e],index:e}):(--f,--e,u.sparse||o.push({status:"retained",value:t[f]}));return s.a.Kc(v,l,!u.dontLimitMoves&&10*c),o.reverse()}return function(t,i,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],i=i||[],t.length<i.length?n(t,i,"added","deleted",r):n(i,t,"deleted","added",r)}}();s.b("utils.compareArrays",s.a.Pb),function(){function r(t,i,r,u,f){var e=[],o=s.$(function(){var n=i(r,f,s.a.Ua(e,t))||[];0<e.length&&(s.a.Xc(e,n),u&&s.u.G(u,null,[r,n,f]));e.length=0;s.a.Nb(e,n)},null,{l:t,Sa:function(){return!s.a.kd(e)}});return{Y:e,$:o.ja()?o:n}}var t=s.a.g.Z(),i=s.a.g.Z();s.a.ec=function(u,f,e,o,h,c){function st(n){l={Aa:n,pb:s.ta(b++)};y.push(l);ht||ct.push(l)}function d(n){l=w[n];b!==l.pb.v()&&et.push(l);l.pb(b++);s.a.Ua(l.Y,u);y.push(l)}function g(n,t){if(n)for(var i=0,r=t.length;i<r;i++)s.a.D(t[i].Y,function(r){n(r,i,t[i].Aa)})}var a,k,tt,ot,p,it,rt;f=f||[];"undefined"==typeof f.length&&(f=[f]);o=o||{};var w=s.a.g.get(u,t),ht=!w,y=[],v=0,b=0,ut=[],ft=[],nt=[],et=[],ct=[],l,lt=0;if(ht)s.a.D(f,st);else{for((!c||w&&w._countWaitingForRemove)&&(a=s.a.Mb(w,function(n){return n.Aa}),c=s.a.Pb(a,f,{dontLimitMoves:o.dontLimitMoves,sparse:!0})),a=0;k=c[a];a++)switch(tt=k.moved,ot=k.index,k.status){case"deleted":for(;v<ot;)d(v++);tt===n&&(l=w[v],l.$&&(l.$.s(),l.$=n),s.a.Ua(l.Y,u).length&&(o.beforeRemove&&(y.push(l),lt++,l.Aa===i?l=null:nt.push(l)),l&&ut.push.apply(ut,l.Y)));v++;break;case"added":for(;b<ot;)d(v++);tt!==n?(ft.push(y.length),d(tt)):st(k.value)}for(;b<f.length;)d(v++);y._countWaitingForRemove=lt}s.a.g.set(u,t,y);g(o.beforeMove,et);s.a.D(ut,o.beforeRemove?s.oa:s.removeNode);try{rt=u.ownerDocument.activeElement}catch(at){}if(ft.length)for(;(a=ft.shift())!=n;){for(l=y[a],p=n;a;)if((it=y[--a].Y)&&it.length){p=it[it.length-1];break}for(f=0;v=l.Y[f];p=v,f++)s.h.Wb(u,v,p)}for(a=0;l=y[a];a++){for(l.Y||s.a.extend(l,r(u,e,l.Aa,h,l.pb)),f=0;v=l.Y[f];p=v,f++)s.h.Wb(u,v,p);!l.Ed&&h&&(h(l.Aa,l.Y,l.pb),l.Ed=!0,p=l.Y[l.Y.length-1])}for(rt&&u.ownerDocument.activeElement!=rt&&rt.focus(),g(o.beforeRemove,nt),a=0;a<nt.length;++a)nt[a].Aa=i;g(o.afterMove,et);g(o.afterAdd,ct)}}();s.b("utils.setDomNodeChildrenFromArrayMapping",s.a.ec);s.ba=function(){this.allowTemplateRewriting=!1};s.ba.prototype=new s.ca;s.ba.prototype.constructor=s.ba;s.ba.prototype.renderTemplateSource=function(n,t,i,r){return(t=(9>s.a.W?0:n.nodes)?n.nodes():null)?s.a.la(t.cloneNode(!0).childNodes):(n=n.text(),s.a.ua(n,r))};s.ba.Ma=new s.ba;s.gc(s.ba.Ma);s.b("nativeTemplateEngine",s.ba),function(){s.$a=function(){var n=this.Hd=function(){if(!t||!t.tmpl)return 0;try{if(0<=t.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(r,u,f,e){if(e=e||i,f=f||{},2>n)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=r.data("precompiled");return o||(o=r.text()||"",o=t.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),r.data("precompiled",o)),r=[u.$data],u=t.extend({koBindingContext:u},f.templateOptions),u=t.tmpl(o,r,u),u.appendTo(e.createElement("div")),t.fragments={},u};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){i.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};0<n&&(t.tmpl.tag.ko_code={open:"__.push($1 || '');"},t.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};s.$a.prototype=new s.ca;s.$a.prototype.constructor=s.$a;var n=new s.$a;0<n.Hd&&s.gc(n);s.b("jqueryTmplTemplateEngine",s.$a)}()})})()})(),function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,ko.mapping={})}(function(n,t){function rt(n,t){for(var u,f,r={},i=n.length-1;i>=0;--i)r[n[i]]=n[i];for(i=t.length-1;i>=0;--i)r[t[i]]=t[i];u=[];for(f in r)u.push(r[f]);return u}function y(n,i){var u,r,f;for(r in i)i.hasOwnProperty(r)&&i[r]&&(u=t.getType(n[r]),r&&n[r]&&u!=="array"&&u!=="string"?y(n[r],i[r]):(f=t.getType(n[r])==="array"&&t.getType(i[r])==="array",n[r]=f?rt(n[r],i[r]):i[r]))}function c(n,t){var i={};return y(i,n),y(i,t),i}function p(n,t){for(var f,i=c({},n),e=w.length-1;e>=0;e--)(f=w[e],i[f])&&(i[""]instanceof Object||(i[""]={}),i[""][f]=i[f],delete i[f]);return t&&(i.ignore=u(t.ignore,i.ignore),i.include=u(t.include,i.include),i.copy=u(t.copy,i.copy),i.observe=u(t.observe,i.observe)),i.ignore=u(i.ignore,r.ignore),i.include=u(i.include,r.include),i.copy=u(i.copy,r.copy),i.observe=u(i.observe,r.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function u(i,r){return t.getType(i)!=="array"&&(i=t.getType(i)==="undefined"?[]:[i]),t.getType(r)!=="array"&&(r=t.getType(r)==="undefined"?[]:[r]),n.utils.arrayGetDistinctValues(i.concat(r))}function ut(t,i){var u=n.dependentObservable,r;return n.dependentObservable=function(i,r,u){var f;u=u||{};i&&typeof i=="object"&&(u=i);var s=u.deferEvaluation,o=!1,h=function(i){var f=n.dependentObservable,u,r;return n.dependentObservable=e,u=n.isWriteableObservable(i),n.dependentObservable=f,r=e({read:function(){return o||(n.utils.arrayRemoveItem(t,i),o=!0),i.apply(i,arguments)},write:u&&function(n){return i(n)},deferEvaluation:!0}),it&&(r._wrapper=!0),r};return u.deferEvaluation=!0,f=new e(i,r,u),s||(f=h(f),t.push(f)),f},n.dependentObservable.fn=e.fn,n.computed=n.dependentObservable,r=i(),n.dependentObservable=u,n.computed=n.dependentObservable,r}function l(r,u,e,h,v,y,p){var si=t.getType(n.utils.unwrapObservable(u))==="array",ti,ot,ri,lt,ei,wt,yt,gt,d,it,ni,st,ht;y=y||"";t.isMapped(r)&&(ti=n.utils.unwrapObservable(r)[i],e=c(ti,e));var et={data:u,parent:p||v},ct=function(){return e[h]&&e[h].create instanceof Function},pt=function(t){return ut(o,function(){return n.utils.unwrapObservable(v)instanceof Array?e[h].create({data:t||et.data,parent:et.parent,skip:b}):e[h].create({data:t||et.data,parent:et.parent})})},rt=function(){return e[h]&&e[h].update instanceof Function},ft=function(t,i){var r={data:i||et.data,parent:et.parent,target:n.utils.unwrapObservable(t)};return n.isWriteableObservable(t)&&(r.observable=t),e[h].update(r)},ii=s.get(u);if(ii)return ii;if(h=h||"",si){var ui=[],fi=!1,w=function(n){return n};e[h]&&e[h].key&&(w=e[h].key,fi=!0);n.isObservable(r)||(r=n.observableArray([]),r.mappedRemove=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.remove(function(n){return t(w(n))})},r.mappedRemoveAll=function(t){var i=f(t,w);return r.remove(function(t){return n.utils.arrayIndexOf(i,w(t))!=-1})},r.mappedDestroy=function(n){var t=typeof n=="function"?n:function(t){return t===w(n)};return r.destroy(function(n){return t(w(n))})},r.mappedDestroyAll=function(t){var i=f(t,w);return r.destroy(function(t){return n.utils.arrayIndexOf(i,w(t))!=-1})},r.mappedIndexOf=function(t){var i=f(r(),w),u=w(t);return n.utils.arrayIndexOf(i,u)},r.mappedCreate=function(t){var i,u;if(r.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");return i=ct()?pt(t):t,rt()&&(u=ft(i,t),n.isWriteableObservable(i)?i(u):i=u),r.push(i),i});ei=f(n.utils.unwrapObservable(r),w).sort();wt=f(u,w);fi&&wt.sort();for(var oi=n.utils.compareArrays(ei,wt),at={},bt=n.utils.unwrapObservable(u),kt={},dt=!0,tt=0,vt=bt.length;tt<vt;tt++){if(d=w(bt[tt]),d===undefined||d instanceof Object){dt=!1;break}kt[d]=bt[tt]}for(yt=[],gt=0,tt=0,vt=oi.length;tt<vt;tt++){d=oi[tt];ni=y+"["+tt+"]";switch(d.status){case"added":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=l(undefined,st,e,h,r,ni,v);ct()||(it=n.utils.unwrapObservable(it));ht=k(n.utils.unwrapObservable(u),st,at);it===b?gt++:yt[ht-gt]=it;at[ht]=!0;break;case"retained":st=dt?kt[d.value]:a(n.utils.unwrapObservable(u),d.value,w);it=a(r,d.value,w);l(it,st,e,h,r,ni,v);ht=k(n.utils.unwrapObservable(u),st,at);yt[ht]=it;at[ht]=!0;break;case"deleted":it=a(r,d.value,w)}ui.push({event:d.status,item:it})}r(yt);e[h]&&e[h].arrayChanged&&n.utils.arrayForEach(ui,function(n){e[h].arrayChanged(n.event,n.item)})}else if(nt(u)){if(r=n.utils.unwrapObservable(r),!r){if(ct())return lt=pt(),rt()&&(lt=ft(lt)),lt;if(rt())return ft(lt);r={}}if(rt()&&(r=ft(r)),s.save(u,r),rt())return r;g(u,function(t){var i=y.length?y+"."+t:t;if(n.utils.arrayIndexOf(e.ignore,i)==-1){if(n.utils.arrayIndexOf(e.copy,i)!=-1){r[t]=u[t];return}if(typeof u[t]!="object"&&typeof u[t]!="array"&&e.observe.length>0&&n.utils.arrayIndexOf(e.observe,i)==-1){r[t]=u[t];e.copiedProperties[i]=!0;return}var o=s.get(u[t]),h=l(r[t],u[t],e,t,r,i,r),f=o||h;if(e.observe.length>0&&n.utils.arrayIndexOf(e.observe,i)==-1){r[t]=f();e.copiedProperties[i]=!0;return}n.isWriteableObservable(r[t])?r[t](n.utils.unwrapObservable(f)):(f=r[t]===undefined?f:n.utils.unwrapObservable(f),r[t]=f);e.mappedProperties[i]=!0}})}else switch(t.getType(u)){case"function":rt()?n.isWriteableObservable(u)?(u(ft(u)),r=u):r=ft(u):r=u;break;default:if(n.isWriteableObservable(r))return rt()?(ot=ft(r),r(ot),ot):(ot=n.utils.unwrapObservable(u),r(ot),ot);if(ri=ct()||rt(),r=ct()?pt():n.observable(n.utils.unwrapObservable(u)),rt()&&r(ft(r)),ri)return r}return r}function k(n,t,i){for(var r=0,u=n.length;r<u;r++)if(i[r]!==!0&&n[r]===t)return r;return null}function d(i,r){var u;return r&&(u=r(i)),t.getType(u)==="undefined"&&(u=i),n.utils.unwrapObservable(u)}function a(t,i,r){var u,e,f;for(t=n.utils.unwrapObservable(t),u=0,e=t.length;u<e;u++)if(f=t[u],d(f,r)===i)return f;throw new Error("When calling ko.update*, the key '"+i+"' was not found!");}function f(t,i){return n.utils.arrayMap(n.utils.unwrapObservable(t),function(n){return i?d(n,i):n})}function g(n,i){var r,u;if(t.getType(n)==="array")for(r=0;r<n.length;r++)i(r);else for(u in n)i(u)}function nt(n){var i=t.getType(n);return(i==="object"||i==="array")&&n!==null}function ft(n,i,r){var u=n||"";return t.getType(i)==="array"?n&&(u+="["+r+"]"):(n&&(u+="."),u+=r),u}function et(){var t=[],i=[];this.save=function(r,u){var f=n.utils.arrayIndexOf(t,r);f>=0?i[f]=u:(t.push(r),i.push(u))};this.get=function(r){var u=n.utils.arrayIndexOf(t,r);return u>=0?i[u]:undefined}}function tt(){var n={},t=function(t){var r,i;try{r=t}catch(u){r="$$$"}return i=n[r],i===undefined&&(i=new et,n[r]=i),i};this.save=function(n,i){t(n).save(n,i)};this.get=function(n){return t(n).get(n)}}var it=!0,i="__ko_mapping__",e=n.dependentObservable,v=0,o,s,w=["create","update","key","arrayChanged"],b={},h={include:["_destroy"],ignore:[],copy:[],observe:[]},r=h;t.isMapped=function(t){var r=n.utils.unwrapObservable(t);return r&&r[i]};t.fromJS=function(n){var t,r,u,f;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{if(v++||(o=[],s=new tt),arguments.length==2&&(arguments[1][i]?r=arguments[1]:t=arguments[1]),arguments.length==3&&(t=arguments[1],r=arguments[2]),r&&(t=c(t,r[i])),t=p(t),u=l(r,n,t),r&&(u=r),!--v)while(o.length)f=o.pop(),f&&f();return u[i]=c(u[i],t),u}catch(e){v=0;throw e;}};t.fromJSON=function(i){var r=n.utils.parseJson(i);return arguments[0]=r,t.fromJS.apply(this,arguments)};t.updateFromJS=function(){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};t.updateFromJSON=function(){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};t.toJS=function(u,f){if(r||t.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(t.getType(r.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(t.getType(r.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(t.getType(r.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return f=p(f,u[i]),t.visitModel(u,function(t){return n.utils.unwrapObservable(t)},f)};t.toJSON=function(i,r){var u=t.toJS(i,r);return n.utils.stringifyJson(u)};t.defaultOptions=function(){if(arguments.length>0)r=arguments[0];else return r};t.resetDefaultOptions=function(){r={include:h.include.slice(0),ignore:h.ignore.slice(0),copy:h.copy.slice(0)}};t.getType=function(n){if(n&&typeof n=="object"){if(n.constructor===Date)return"date";if(n.constructor===Array)return"array"}return typeof n};t.visitModel=function(r,u,f){var o,e,s;if(f=f||{},f.visitedObjects=f.visitedObjects||new tt,e=n.utils.unwrapObservable(r),nt(e))f=p(f,e[i]),u(r,f.parentName),o=t.getType(e)==="array"?[]:{};else return u(r,f.parentName);return f.visitedObjects.save(r,o),s=f.parentName,g(e,function(r){var h,c;if((!f.ignore||n.utils.arrayIndexOf(f.ignore,r)==-1)&&(h=e[r],f.parentName=ft(s,e,r),n.utils.arrayIndexOf(f.copy,r)!==-1||n.utils.arrayIndexOf(f.include,r)!==-1||!e[i]||!e[i].mappedProperties||e[i].mappedProperties[r]||!e[i].copiedProperties||e[i].copiedProperties[r]||t.getType(e)==="array"))switch(t.getType(n.utils.unwrapObservable(h))){case"object":case"array":case"undefined":c=f.visitedObjects.get(h);o[r]=t.getType(c)!=="undefined"?c:t.visitModel(h,u,f);break;default:o[r]=u(h,f.parentName)}}),o}}),function(n){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?n(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],n):n(ko,ko.postbox={})}(function(n,t,i){var u,e,r={},f=1;t.subscriptions=r;n.subscribable.call(t);t.topicCache={};t.serializer=n.toJSON;t.publish=function(n,i){n&&(t.topicCache[n]={value:i,serialized:t.serializer(i)},t.notifySubscribers(i,n))};e=t.subscribe;t.subscribe=function(n,u,o,s){var h,c,l;if(n)return typeof o=="boolean"&&(s=o,o=i),h=e.call(t,u,o,n),h.subId=++f,r[f]=h,s&&(c=t.topicCache[n],c!==i&&u.call(o,c.value)),l=h.dispose,h.dispose=function(){delete r[h.subId];l.call(h)},h};t.reset=function(){var n;for(var i in r)r.hasOwnProperty(i)&&(n=r[i],n&&typeof n.dispose=="function"&&n.dispose());t.topicCache={}};t.defaultComparer=function(n,i){return i&&t.serializer(n)===i.serialized};n.subscribable.fn.publishOn=function(n,i,e){var s,o,h;return n&&(typeof i=="function"?e=i:s=i,e=e||t.defaultComparer,u.call(this,n,"publishOn"),o=this.subscribe(function(i){e.call(this,i,t.topicCache[n])||t.publish(n,i)},this),o.id=++f,r[f]=o,h=o.dispose,o.dispose=function(){delete this.postboxSubs[n].publishOn;delete r[o.id];h.call(o)}.bind(this),this.postboxSubs[n].publishOn=o,s||t.publish(n,this())),this};u=function(n,t){var i=this.postboxSubs=this.postboxSubs||{};i[n]=i[n]||{};i[n][t]&&i[n][t].dispose()};n.subscribable.fn.stopPublishingOn=function(n){return u.call(this,n,"publishOn"),this};n.subscribable.fn.subscribeTo=function(r,f,e){var c,s,h,o,l,a=this;return typeof f=="function"?e=f:c=f,r&&n.isWriteableObservable(this)&&(u.call(this,r,"subscribeTo"),h=function(n){a(e?e.call(a,n):n)},o=t.subscribe(r,h),this.postboxSubs[r].subscribeTo=o,l=o.dispose,o.dispose=function(){delete this.postboxSubs[r].subscribeTo;l.call(o)}.bind(this),c&&(s=t.topicCache[r],s!==i&&h(s.value))),this};n.subscribable.fn.unsubscribeFrom=function(n){return u.call(this,n,"subscribeTo"),this};n.subscribable.fn.syncWith=function(n,t,i,r){return this.subscribeTo(n,t).publishOn(n,i,r),this};n.postbox=t});Ellucian=Ellucian||{};Ellucian.DaysOfWeek=Ellucian.DaysOfWeek||{};Ellucian.DaysOfWeek.Resources=Ellucian.DaysOfWeek.Resources||{},function(n,t){var i,g,nt,tt,it,r,h,v,c,rt,y,e,u,p,o,l,w,b,ut,k,s,a,d,f;i=function(n){return new i.prototype.init(n)};typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=i:n.Globalize=i;i.cultures={};i.prototype={constructor:i,init:function(n){return this.cultures=i.cultures,this.cultureSelector=n,this}};i.prototype.init.prototype=i.prototype;i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:[Ellucian.DaysOfWeek.Resources.Sunday,Ellucian.DaysOfWeek.Resources.Monday,Ellucian.DaysOfWeek.Resources.Tuesday,Ellucian.DaysOfWeek.Resources.Wednesday,Ellucian.DaysOfWeek.Resources.Thursday,Ellucian.DaysOfWeek.Resources.Friday,Ellucian.DaysOfWeek.Resources.Saturday],namesAbbr:[Ellucian.DaysOfWeek.Resources.SundayAbbreviationLong,Ellucian.DaysOfWeek.Resources.MondayAbbreviationLong,Ellucian.DaysOfWeek.Resources.TuesdayAbbreviationLong,Ellucian.DaysOfWeek.Resources.WednesdayAbbreviationLong,Ellucian.DaysOfWeek.Resources.ThursdayAbbreviationLong,Ellucian.DaysOfWeek.Resources.FridayAbbreviationLong,Ellucian.DaysOfWeek.Resources.SaturdayAbbreviationLong],namesShort:[Ellucian.DaysOfWeek.Resources.SundayAbbreviationShort,Ellucian.DaysOfWeek.Resources.MondayAbbreviationShort,Ellucian.DaysOfWeek.Resources.TuesdayAbbreviationShort,Ellucian.DaysOfWeek.Resources.WednesdayAbbreviationShort,Ellucian.DaysOfWeek.Resources.ThursdayAbbreviationShort,Ellucian.DaysOfWeek.Resources.FridayAbbreviationShort,Ellucian.DaysOfWeek.Resources.SaturdayAbbreviationShort]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};i.cultures["default"].calendar=i.cultures["default"].calendars.standard;i.cultures.en=i.cultures["default"];i.cultureSelector="en";g=/^0x[a-f0-9]+$/i;nt=/^[+\-]?infinity$/i;tt=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;it=/^\s+|\s+$/g;r=function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1};h=function(n,t){return n.substr(n.length-t.length)===t};v=function(){var e,u,r,i,o,s,n=arguments[0]||{},f=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},f=2),typeof n=="object"||rt(n)||(n={});f<l;f++)if((e=arguments[f])!=null)for(u in e)(r=n[u],i=e[u],n!==i)&&(h&&i&&(y(i)||(o=c(i)))?(o?(o=!1,s=r&&c(r)?r:[]):s=r&&y(r)?r:{},n[u]=v(h,s,i)):i!==t&&(n[u]=i));return n};c=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};rt=function(n){return Object.prototype.toString.call(n)==="[object Function]"};y=function(n){return Object.prototype.toString.call(n)==="[object Object]"};e=function(n,t){return n.indexOf(t)===0};u=function(n){return(n+"").replace(it,"")};p=function(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)};o=function(n,t,i){for(var r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n};l=function(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(u);i=!1}}return f};w=function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t};b=function(n,t,i){function e(n,t){var i,r=n+"";return t>1&&r.length<t?(i=st[t-2]+r,i.substr(i.length-t,t)):r}function ct(){return c||ut?c:(c=ht.test(t),ut=!0,c)}function it(n,t){if(v)return v[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();default:throw"Invalid part value "+t;}}var u=i.calendar,d=u.convert,r,g,rt,nt,tt,p,f,ot,h;if(!t||!t.length||t==="i")return i&&i.name.length?d?r=b(n,u.patterns.F,i):(g=new Date(n.getTime()),rt=s(n,u.eras),g.setFullYear(a(n,u,rt)),r=g.toLocaleString()):r=n.toString(),r;nt=u.eras;tt=t==="s";t=w(u,t);r=[];var o,st=["0","00","000"],c,ut,ht=/([^d]|^)(d|dd)([^d]|$)/g,ft=0,et=k(),v;for(!tt&&d&&(v=d.fromGregorian(n));;){var lt=et.lastIndex,y=et.exec(t),at=t.slice(lt,y?y.index:t.length);if(ft+=l(at,r),!y)break;if(ft%2){r.push(y[0]);continue}p=y[0];f=p.length;switch(p){case"ddd":case"dddd":ot=f===3?u.days.namesAbbr:u.days.names;r.push(ot[n.getDay()]);break;case"d":case"dd":c=!0;r.push(e(it(n,2),f));break;case"MMM":case"MMMM":h=it(n,1);r.push(u.monthsGenitive&&ct()?u.monthsGenitive[f===3?"namesAbbr":"names"][h]:u.months[f===3?"namesAbbr":"names"][h]);break;case"M":case"MM":r.push(e(it(n,1)+1,f));break;case"y":case"yy":case"yyyy":h=v?v[0]:a(n,u,s(n,nt),tt);f<4&&(h=h%100);r.push(e(h,f));break;case"h":case"hh":o=n.getHours()%12;o===0&&(o=12);r.push(e(o,f));break;case"H":case"HH":r.push(e(n.getHours(),f));break;case"m":case"mm":r.push(e(n.getMinutes(),f));break;case"s":case"ss":r.push(e(n.getSeconds(),f));break;case"t":case"tt":h=n.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ";r.push(f===1?h.charAt(0):h);break;case"f":case"ff":case"fff":r.push(e(n.getMilliseconds(),3).substr(0,f));break;case"z":case"zz":o=n.getTimezoneOffset()/60;r.push((o<=0?"+":"-")+e(Math.floor(Math.abs(o)),f));break;case"zzz":o=n.getTimezoneOffset()/60;r.push((o<=0?"+":"-")+e(Math.floor(Math.abs(o)),2)+":"+e(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&r.push(u.eras[s(n,nt)].name);break;case"/":r.push(u["/"]);break;default:throw"Invalid date format pattern '"+p+"'.";}}return r.join("")},function(){var n;n=function(n,t,i){var l=i.groupSizes,c=l[0],a=1,p=Math.pow(10,t),v=Math.round(n*p)/p;isFinite(v)||(v=n);n=v;var r=n+"",u="",e=r.split(/e/i),f=e.length>1?parseInt(e[1],10):0;r=e[0];e=r.split(".");r=e[0];u=e.length>1?e[1]:"";f>0?(u=o(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=o(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));u=t>0?i["."]+(u.length>t?u.slice(0,t):o(u,t)):"";for(var s=r.length-1,y=i[","],h="";s>=0;){if(c===0||c>s)return r.slice(0,s+1)+(h.length?y+h+u:u);h=r.slice(s-c+1,s+1)+(h.length?y+h:"");s-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,s+1)+y+h+u};ut=function(t,i,r){var a,f,v,e,y,l;if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!i||i==="i")return r.name.length?t.toLocaleString():t.toString();i=i||"D";var s=r.numberFormat,u=Math.abs(t),h=-1,c;i.length>1&&(h=parseInt(i.slice(1),10));a=i.charAt(0).toUpperCase();switch(a){case"D":c="n";u=p(u);h!==-1&&(u=o(""+u,h,!0));t<0&&(u="-"+u);break;case"N":f=s;case"C":f=f||s.currency;case"P":f=f||s.percent;c=t<0?f.pattern[0]:f.pattern[1]||"n";h===-1&&(h=f.decimals);u=n(u*(a==="P"?100:1),h,f);break;default:throw"Bad number format specifier: "+a;}for(v=/n|\$|-|%/g,e="";;){if(y=v.lastIndex,l=v.exec(c),e+=c.slice(y,l?l.index:c.length),!l)break;switch(l[0]){case"n":e+=u;break;case"$":e+=s.currency.symbol;break;case"-":/[1-9]/.test(u)&&(e+=s["-"]);break;case"%":e+=s.percent.symbol}}return e}}();k=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};s=function(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0};a=function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},function(){var f,o,h,c,n,i,t;f=function(n,t){if(t<100){var r=new Date,f=s(r),u=a(r,n,f),i=n.twoDigitYearMax;i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i;t+=u-u%100;t>i&&(t-=100)}return t};o=function(n,u,f){var e,s=n.days,o=n._upperDays;return o||(n._upperDays=o=[t(s.names),t(s.namesAbbr),t(s.namesShort)]),u=i(u),f?(e=r(o[1],u),e===-1&&(e=r(o[2],u))):e=r(o[0],u),e};h=function(n,u,f){var h=n.months,c=n.monthsGenitive||n.months,e=n._upperMonths,s=n._upperMonthsGen,o;return e||(n._upperMonths=e=[t(h.names),t(h.namesAbbr)],n._upperMonthsGen=s=[t(c.names),t(c.namesAbbr)]),u=i(u),o=r(f?e[1]:e[0],u),o<0&&(o=r(f?s[1]:s[0],u)),o};c=function(n,t){var f=n._parseRegExp,o,y,e,p,i,b,d;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=w(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],c=[],h=0,a=0,v=k(),u;(u=v.exec(s))!==null;){if(y=s.slice(h,u.index),h=v.lastIndex,a+=l(y,r),a%2){r.push(u[0]);continue}e=u[0];p=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\/)";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);c.push(u[0])}return l(s.slice(h),r),r.push("$"),b=r.join("").replace(/\s+/g,"\\s+"),d={regExp:b,groups:c},f[t]=d};n=function(n,t,i){return n<t||n>i};i=function(n){return n.split("").join(" ").toUpperCase()};t=function(n){for(var r=[],t=0,u=n.length;t<u;t++)r[t]=i(n[t]);return r};d=function(t,i,r){var d,wt,l,ft,et,g,nt,kt,a,dt,tt,at;t=u(t);var s=r.calendar,vt=c(s,i),yt=new RegExp(vt.regExp).exec(t);if(yt===null)return null;var pt=vt.groups,ot=null,w=null,p=null,b=null,it=null,y=0,k,st=0,ht=0,ct=0,rt=null,lt=!1;for(d=0,wt=pt.length;d<wt;d++)if(l=yt[d+1],l){var bt=pt[d],ut=bt.length,v=parseInt(l,10);switch(bt){case"dd":case"d":if(b=v,n(b,1,31))return null;break;case"MMM":case"MMMM":if(p=h(s,l,ut===3),n(p,0,11))return null;break;case"M":case"MM":if(p=v-1,n(p,0,11))return null;break;case"y":case"yy":case"yyyy":if(w=ut<4?f(s,v):v,n(w,0,9999))return null;break;case"h":case"hh":if(y=v,y===12&&(y=0),n(y,0,11))return null;break;case"H":case"HH":if(y=v,n(y,0,23))return null;break;case"m":case"mm":if(st=v,n(st,0,59))return null;break;case"s":case"ss":if(ht=v,n(ht,0,59))return null;break;case"tt":case"t":if(lt=s.PM&&(l===s.PM[0]||l===s.PM[1]||l===s.PM[2]),!lt&&(!s.AM||l!==s.AM[0]&&l!==s.AM[1]&&l!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(ct=v*Math.pow(10,3-ut),n(ct,0,999))return null;break;case"ddd":case"dddd":if(it=o(s,l,ut===3),n(it,0,6))return null;break;case"zzz":if((ft=l.split(/:/),ft.length!==2)||(k=parseInt(ft[0],10),n(k,-12,13))||(et=parseInt(ft[1],10),n(et,0,59)))return null;rt=k*60+(e(l,"-")?-et:et);break;case"z":case"zz":if(k=v,n(k,-12,13))return null;rt=k*60;break;case"g":case"gg":if(g=l,!g||!s.eras)return null;for(g=u(g.toLowerCase()),nt=0,kt=s.eras.length;nt<kt;nt++)if(g===s.eras[nt].name.toLowerCase()){ot=nt;break}if(ot===null)return null}}if(a=new Date,tt=s.convert,dt=tt?tt.fromGregorian(a)[0]:a.getFullYear(),w===null?w=dt:s.eras&&(w+=s.eras[ot||0].offset),p===null&&(p=0),b===null&&(b=1),tt){if(a=tt.toGregorian(w,p,b),a===null)return null}else if((a.setFullYear(w,p,b),a.getDate()!==b)||it!==null&&a.getDay()!==it)return null;return lt&&y<12&&(y+=12),a.setHours(y,st,ht,ct),rt!==null&&(at=a.getMinutes()-(rt+a.getTimezoneOffset()),a.setHours(a.getHours()+parseInt(at/60,10),at%60)),a}}();f=function(n,t,i){var r=t["-"],u=t["+"],f;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":h(n,r)?f=["-",n.substr(0,n.length-r.length)]:h(n,u)&&(f=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":e(n,r)?f=["-",n.substr(r.length)]:e(n,u)&&(f=["+",n.substr(u.length)]);break;case"(n)":e(n,"(")&&h(n,")")&&(f=["-",n.substr(1,n.length-2)])}return f||["",n]};i.prototype.findClosestCulture=function(n){return i.findClosestCulture.call(this,n)};i.prototype.format=function(n,t,r){return i.format.call(this,n,t,r)};i.prototype.localize=function(n,t){return i.localize.call(this,n,t)};i.prototype.parseInt=function(n,t,r){return i.parseInt.call(this,n,t,r)};i.prototype.parseFloat=function(n,t,r){return i.parseFloat.call(this,n,t,r)};i.prototype.culture=function(n){return i.culture.call(this,n)};i.addCultureInfo=function(n,t,i){var r={},u=!1;typeof n!="string"?(i=n,n=this.culture().name,r=this.cultures[n]):typeof t!="string"?(i=t,u=this.cultures[n]==null,r=this.cultures[n]||this.cultures["default"]):(u=!0,r=this.cultures[t]);this.cultures[n]=v(!0,{},r,i);u&&(this.cultures[n].calendar=this.cultures[n].calendars.standard)};i.findClosestCulture=function(n){var r,f,h,l,y,a;if(!n)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if(typeof n=="string"&&(n=n.split(",")),c(n)){for(var i,o=this.cultures,v=n,s=v.length,e=[],t=0;t<s;t++)n=u(v[t]),h=n.split(";"),i=u(h[0]),h.length===1?f=1:(n=u(h[1]),n.indexOf("q=")===0?(n=n.substr(2),f=parseFloat(n),f=isNaN(f)?0:f):f=1),e.push({lang:i,pri:f});for(e.sort(function(n,t){return n.pri<t.pri?1:n.pri>t.pri?-1:0}),t=0;t<s;t++)if(i=e[t].lang,r=o[i],r)return r;for(t=0;t<s;t++){i=e[t].lang;do{if(l=i.lastIndexOf("-"),l===-1)break;if(i=i.substr(0,l),r=o[i],r)return r}while(1)}for(t=0;t<s;t++){i=e[t].lang;for(y in o)if(a=o[y],a.language===i)return a}}else if(typeof n=="object")return n;return r||null};i.format=function(n,t,i){var r=this.findClosestCulture(i);return n instanceof Date?n=b(n,t,r):typeof n=="number"&&(n=ut(n,t,r)),n};i.localize=function(n,t){return this.findClosestCulture(t).messages[n]||this.cultures["default"].messages[n]};i.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=this.findClosestCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=d(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=d(n,f[o],i),r)break}return r||null};i.parseInt=function(n,t,r){return p(i.parseFloat(n,t,r))};i.parseFloat=function(n,t,i){var y,c,l,h,p,k,w,b,d,a,it;typeof t!="number"&&(i=t,t=10);var s=this.findClosestCulture(i),v=NaN,r=s.numberFormat;if(n.indexOf(s.numberFormat.currency.symbol)>-1&&(n=n.replace(s.numberFormat.currency.symbol,""),n=n.replace(s.numberFormat.currency["."],s.numberFormat["."])),n.indexOf(s.numberFormat.percent.symbol)>-1&&(n=n.replace(s.numberFormat.percent.symbol,"")),n=n.replace(/ /g,""),nt.test(n))v=parseFloat(n);else if(!t&&g.test(n))v=parseInt(n,16);else{var u=f(n,r,r.pattern[0]),e=u[0],o=u[1];e===""&&r.pattern[0]!=="(n)"&&(u=f(n,r,"(n)"),e=u[0],o=u[1]);e===""&&r.pattern[0]!=="-n"&&(u=f(n,r,"-n"),e=u[0],o=u[1]);e===""&&r.pattern[0]!=="n-"&&(u=f(n,r,"n-"),e=u[0],o=u[1]);e=e||"+";l=o.indexOf("e");l<0&&(l=o.indexOf("E"));l<0?(c=o,y=null):(c=o.substr(0,l),y=o.substr(l+1));k=r["."];w=c.indexOf(k);w<0?(h=c,p=null):(h=c.substr(0,w),p=c.substr(w+k.length));b=r[","];h=h.split(b).join("");d=b.replace(/\u00A0/g," ");b!==d&&(h=h.split(d).join(""));a=e+h;p!==null&&(a+="."+p);y!==null&&(it=f(y,r,"-n"),a+="e"+(it[0]||"+")+it[1]);tt.test(a)&&(v=parseFloat(a))}return v};i.culture=function(n){return typeof n!="undefined"&&(this.cultureSelector=n),this.findClosestCulture(n)||this.cultures["default"]}}(this);$(document).ready(function(){var n=$('input[name="__RequestVerificationToken"]').val();$.ajaxSetup({headers:{__RequestVerificationToken:n},converters:{"text json":function(n){return $.parseJSON(n,!0)}}})}),function(n){n.expr.pseudos.containsany=n.expr.createPseudo(function(t){return typeof t=="undefined"&&(t=""),function(i){return n(i).text().toLowerCase().indexOf(t.toLowerCase())>=0}})}(jQuery);jsonContentType="application/json, charset=utf-8";browserCookieName="Ellucian.Web.Student__SupportedBrowserCheck";Date.prototype.addHours=function(n){return this.setTime(this.getTime()+n*36e5),this};Date.Today=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())};Date.TodayDateOffset=function(n){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+n)};Date.DateOffset=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)};Date.prototype.addDays=function(n){return this.setDate(this.getDate()+n),this};Date.prototype.toUTCDateExact=function(){var n=moment.utc(this);return new Date(n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second())};Date.Compare=function(n,t){var i=n?n.getTime():null,r=t?t.getTime():null;return i>r?1:i===r?0:-1};String.prototype.format=function(){var t=this,n,i;if(Array.isArray(arguments[0])){for(n=0;n<arguments[0].length;n++)i="{"+n+"}",t=t.replace(i,arguments[0][n]);return t}for(n=0;n<arguments.length;n++)i="{"+n+"}",t=t.replace(i,arguments[n]);return t};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(n,t){var i=t>0?t|0:0;return this.substring(i,i+n.length)===n}});String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1};String.prototype.contains=function(n){return this.indexOf(n)!==-1};String.prototype.includes||(String.prototype.includes=function(n,t){"use strict";if(n instanceof RegExp)throw TypeError("first argument must not be a RegExp");return t===undefined&&(t=0),this.indexOf(n,t)!==-1});Array.prototype.some||(Array.prototype.some=function(n,t){"use strict";var r,u,i;if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof n!="function")throw new TypeError;for(r=Object(this),u=r.length>>>0,i=0;i<u;i++)if(i in r&&n.call(t,r[i],i,r))return!0;return!1});Array.prototype.hasDuplicates=function(){return this.some(hasDuplicates)};Array.prototype.remove=function(n,t){var i=this.slice((t||n)+1||this.length);return this.length=n<0?this.length+n:n,this.push.apply(this,i)};Array.prototype.mergeAll=function(){var n=[];return this.forEach(function(t){n.push.apply(n,t)}),n};Array.prototype.flatMap=function(n){return this.map(function(t){return n(t)}).mergeAll()};Array.prototype.unique=function(n){var t={};return this.forEach(function(i){var r=n(i);t[r]=i}),Object.keys(t).map(function(n){return t[n]})};Array.zip=function(n,t,i){for(var u=[],r=0;r<Math.min(n.length,t.length);r++)u.push(i(n[r],t[r]));return u};Array.prototype.contains=function(n){for(var t=this.length;t--;)if(this[t]==n)return!0;return!1};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,t){function e(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)}var f,i,r,u;if(this==null)throw new TypeError('"this" is null or not defined');if(f=Object(this),i=f.length>>>0,i===0)return!1;for(r=t|0,u=Math.max(r>=0?r:i-Math.abs(r),0);u<i;){if(e(f[u],n))return!0;u++}return!1}}),function(n){var r=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,f=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,e=/(?:^|:|,)(?:\s*\[)+/g,o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:[.,]\d+)?Z?/i,t=/\/Date\((-?\d+)(?:[-\+]\d+)?\)\//i,s=/"(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:[.,](\d+))?Z?"/gi,h=/"\\\/Date\((-?\d+)(?:[-\+]\d+)?\)\\\/"/gi,i=window.JSON&&window.JSON.parse?!0:!1,c=i&&window.JSON.parse('{"x":9}',function(){return"Y"})==="Y",l=function(n,i){if(typeof i=="string"){if(o.test(i))return new Date(i);if(t.test(i))return new Date(parseInt(i.replace(t,"$1")))}return i};n.extend({parseJSON:function(t,o){if(typeof t!="string"||!t)return null;if(t=t.trim(),r.test(t.replace(u,"@").replace(f,"]").replace(e,"")))return c||i&&o!==!0?window.JSON.parse(t,o===!0?l:undefined):(t=o===!0?t.replace(s,"new Date(parseInt('$1',10),parseInt('$2',10)-1,parseInt('$3',10),parseInt('$4',10),parseInt('$5',10),parseInt('$6',10),(function(s){return parseInt(s,10)||0;})('$7'))").replace(h,"new Date($1)"):t,new Function("return "+t)());n.error("Invalid JSON: "+t)}})}(jQuery);var negativeNumberPatterns=["(n)","-n","- n","n-","n -"],negativePercentPatterns=["-n %","-n%","-%n","%-n","%n-","n-%","n%-","-% n","n %-","% n-","% -n","n- %"],positivePercentPatterns=["n %","n%","%n","% n"],negativeCurrencyPatterns=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"],positiveCurrencyPatterns=["$n","n$","$ n","n $"];Globalize.getClosestCultureDateFormat=function(n){var t=n||"d";return Globalize.findClosestCulture().calendars.standard.patterns[t]};ko.dirtyFlag=function(n,t){var i=function(){},r=ko.observable(ko.toJSON(n)),u=ko.observable(t);return i.isDirty=ko.computed(function(){return u()||r()!==ko.toJSON(n)}),i.reset=function(){r(ko.toJSON(n));u(!1)},i};transitionEvent=function(){var n,i=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(i.style[n]!==undefined)return t[n]};ko.subscribable.fn.subscribeChanged=function(n){var t,i=this.subscribe(function(n){t=n},undefined,"beforeChange"),r=this.subscribe(function(i){n(t,i)});return{previousSubscription:i,latestSubscription:r,dispose:function(){i.dispose();r.dispose()}}};ko.bindingHandlers.slide={update:function(n,t,i){var u=t(),f=ko.utils.unwrapObservable(u),r=i().duration||400;f===!0?$(n).slideDown(r,function(){$(n).css("overflow","")}):$(n).slideUp(r)}};ko.bindingHandlers.jqAccordion={init:function(n,t){var i=ko.utils.unwrapObservable(t())||{};ko.utils.domNodeDisposal.addDisposeCallback(n,function(){$(n).accordion("destroy")});$(n).accordion(i)}};ko.bindingHandlers.jqTabs={update:function(n,t,i){if(ko.utils.unwrapObservable(i().jqTabsDestroy)===!0)$(n).tabs("destroy");else{var r=ko.utils.unwrapObservable(t());setTimeout(function(){$(n).tabs("destroy").tabs(r);$(n).show();$(n).css("visibility","visible")},0)}}};ko.bindingHandlers.photo={update:function(n,t){n.onerror=function(){n.src=defaultPhotoUrl};n.src=ko.unwrap(t())}};ko.bindingHandlers.readOnlyInput={update:function(n,t){var i=ko.utils.unwrapObservable(t());i?$(n).attr("readonly","readonly"):$(n).removeAttr("readonly")}};ko.bindingHandlers.jqProgressBar={init:function(n,t){var i=ko.utils.unwrapObservable(t())||{};ko.utils.domNodeDisposal.addDisposeCallback(n,function(){$(n).multiprogressbar("destroy")});$(n).multiprogressbar(i)}};ko.bindingHandlers.skipBindings={init:function(){return{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.skipBindings=!0;ko.observableArray.fn.pushAll=function(n){var t=this();return this.valueWillMutate(),ko.utils.arrayPushAll(t,n),this.valueHasMutated(),this};ko.observableArray.fn.replaceAll=function(n){var t=this();return this.valueWillMutate(),this.removeAll(),ko.utils.arrayPushAll(t,n),this.valueHasMutated(),this};ko.bindingHandlers.date={update:function(n,t,i){var s=t(),e=ko.utils.unwrapObservable(s),o=i().format||"d",u="",f,r;switch(o){case"m":u="M";break;case"s":u="S";break;case"y":u="Y";break;default:u=o}if(f="",e)try{if(r=e,typeof r.getMonth!="function"&&(r=parseIsoDate(e)),r)switch(u){case"g":f=Globalize.format(r,"d")+" "+Globalize.format(r,"t");break;case"G":f=Globalize.format(r,"d")+" "+Globalize.format(r,"T");break;default:f=Globalize.format(r,u)}}catch(h){}$(n).is("input")?$(n).val(f):$(n).text(f)}};ko.bindingHandlers.currency={update:function(n,t,i){var s=t(),r=ko.utils.unwrapObservable(s),e,u,o,f;r&&isNaN(r)&&(r=Globalize.parseFloat(r));e=i().precision;isNaN(e)&&(e=2);u=parseInt(i().negativePattern);o=Globalize.findClosestCulture();o.numberFormat.currency.pattern[0]=u&&!isNaN(u)&&u<=negativeCurrencyPatterns.length?negativeCurrencyPatterns[u]:negativeCurrencyPatterns[0];f="";try{r===undefined||r===null||isNaN(r)||(f=parseFloat(r),f=Globalize.format(f,"c"+e,o))}catch(h){}$(n).text(f)}};ko.bindingHandlers.decimal={update:function(n,t,i){var e=t(),u=ko.utils.unwrapObservable(e),f=i().precision,r;isNaN(f)&&(f=2);r="";try{u!==undefined&&u!==null&&(r=isNaN(u)?Globalize.parseFloat(u):parseFloat(u),isNaN(r)||(r=Globalize.format(r,"n"+f)))}catch(o){}$(n).text(r)}};ko.bindingHandlers.percentage={update:function(n,t,i){var e=t(),u=ko.utils.unwrapObservable(e),f=i().precision,r;isNaN(f)&&(f=2);r="";try{u!==undefined&&u!==null&&(r=isNaN(u)?Globalize.parseFloat(u):parseFloat(u),isNaN(r)||(r=r>1?r/100:r,r=Globalize.format(r,"p"+f)))}catch(o){}$(n).text(r.replace(" ",""))}};ko.bindingHandlers.phone={update:function(n,t){var u=t(),i=ko.utils.unwrapObservable(u),r="tel:";if($(n).is("a")){try{i!==undefined&&i!==null&&(r+=i.replace(/\D/g,""),$(n).attr("href",r))}catch(f){}$(n).text(i)}}};ko.bindingHandlers.mailto={update:function(n,t){var r,i;$(n).is("a")&&(r=ko.utils.unwrapObservable(t().email),$(n).attr("href","mailto:"+r),t().label!==null&&(i=ko.utils.unwrapObservable(t().label),$(n).attr("aria-label",i),$(n).attr("title",i),$(n).attr("alt",i)))}};ko.bindingHandlers.externalLink={update:function(n,t){if($(n).is("a")){var i=ko.utils.unwrapObservable(t()),r=ko.utils.unwrapObservable(i.href),u=ko.utils.unwrapObservable(i.label);u&&r&&$(n).attr("href",r).attr("target","_blank").html(u+"<span class='offScreen'>"+screenReaderExternalLinkMessage+"<\/span>")}}};ko.bindingHandlers.panel={init:function(n,t){var f=ko.utils.unwrapObservable(t())||{},y,p,e;if($(n).is("div,button,tr")){var o=f.contentId?f.contentId:null,h=f.description?f.description:null,r=f.contentId?f.contentId+"-panel":null,u=f.parentId?f.parentId:"main-content",c=f.backLinkLabel?f.backLinkLabel:panelBackLinkString,l=f.backLinkText?f.backLinkText:panelBackTextString,b="<table class='panel-table'><tbody><\/tbody><\/table>",w=f.stickyElement?f.stickyElement:!1;if(r!==null&&typeof r!="undefined"&&h!==null&&typeof h!="undefined"&&o!==null&&typeof o!="undefined"&&u!==null&&typeof u!="undefined"&&c!==null&&typeof c!="undefined"&&l!==null&&typeof l!="undefined"){var s="#"+o,a=$('[id="'+o+'"]'),v=0;if(a.length>1)do $(a[v]).remove(),v++;while(v<a.length-1);$(n).is("div")&&$(n).attr("role","button");$(n).attr("tabindex","0");$(n).addClass("panel-controller");$(n).attr("aria-controls",r);y="<div id='"+r+"' class='panel-wrapper'><div id='"+r+"-back-link' class='panel-back-link-container' role='button' tabindex='0'> <h2 class='esg-h2--no-margin panel-back-link'><span class='esg-icon__container'> <svg class='esg-icon esg-icon--small esg-icon--left'> <use xlink:href='#icon-arrow'><\/use> <\/svg> <\/span> <span class='esg-icon__label'> "+c+"<\/span><\/h2><p>"+l+"<\/p><\/div><\/div>";p="<span id='"+r+"-description' class='hide-content'>"+h+"<\/span>";$(n).is("tr")?($(n).parentsUntil("table").append(y),$(n).parentsUntil("table").append(p)):($(n).append(y),$(n).append(p));$("#"+r).attr("aria-labelledby",r+"-description");$("#"+r).attr("aria-hidden",!0);$("#"+r).attr("role","dialog");e=u==="main-content";$(s).addClass("panel-content");$(n).on("click",function(){var o,t,c,h,l,i;$("#"+r).append($(s));o="#"+f.contentId;$(o).is("tr")&&$(o).parent().length>0&&($(o).wrap(b),$(".panel-table tbody").filter(function(){return $(this).children().length<1}).parent().remove());$("#"+r+" "+s).show();t="#"+$(this).attr("aria-controls");e?($(t).css("top","0px"),$(t).css("left","0px")):(c=$("#"+u).position(),$(t).css("top",c.top),$(t).css("left",c.left),$(n).is("tr")||$(t).css("width",$("#"+u).css("width")),$(t+" div.panel-back-link-container").addClass("inner-back-link"));$("#"+u).parent().hasClass("panel-wrapper")&&($(t).attr("position","fixed"),$(t).css("top","0px"));$(t).prependTo("#"+u);h=$("#"+u).height();h-=e?$("#page-description").height():0;l=$(t).height()-$(t+" div.panel-back-link-container").height();i=0;h>l?(i=h+$(t+" div.panel-back-link-container").height()-1,$(t).css("height",i+"px")):(i=l+$(t+" div.panel-back-link-container").height()-1,$(t).css("height",i+"px"));$(t).slideToggle("slow").promise().done(function(){if(e)$("#"+u).children().not("#"+r).hide();else{var n=$("#"+u).parent();$("#body").children().not(n).hide()}$(t).attr("aria-hidden",!1);$("#"+u).css("height",$(t).height()+1+"px");$("#"+r+" "+s).trigger("focus")});w||$(window).scrollTop(0);w&&$("#"+u).parent().css("min-height",$(t).children(".panel-back-link-container").height()+$(t).children(".panel-table").height()+150+"px")});$(n).on("keypress",function(t){var i=t.which;(i===13||i===32)&&$(n).trigger("click")});$("#"+r+" div.panel-back-link-container").on("click",function(){if($(this).parent().attr("aria-hidden")==="false"){$(this).parent().slideToggle("slow").promise().done(function(){$("#"+u).remove("#"+r);$("#"+u).trigger("focus")});e?$("#"+u).css("height","auto"):$("#"+u).css("height","auto");$(this).parent().attr("aria-hidden",!0);$("#"+u).children().not("#"+r).not(".panel-wrapper").not("script").show();var n=$("#"+r+" div.multi-accordion-expanded");if(n.length>0)for(i=0;i<n.length;i++)$(n[i]).trigger("click")}});$("#"+r+" div.panel-back-link-container").on("keypress",function(n){var t=n.which;(t===13||t===32)&&$("#"+r+" div.panel-back-link-container").trigger("click")})}}}};ko.bindingHandlers.multiAccordion={init:function(n,t){var u=ko.utils.unwrapObservable(t())||{},r=u.contentId?u.contentId.replace(/(:|;|\.|\,|\!|\?|\@|\#|\$|\%|\^|\&|\*|\(|\)|\[|\]|\{|\}|\\|\/)/g,"\\$1"):null,f=u.expanded?u.expanded===!0?!0:!1:!1,e=u.inactive||!1,i;if(r!==null&&typeof r!="undefined"){$(n).attr("tabindex","0");$(n).addClass("multi-accordion-controller");$(n).attr("aria-controls",r);$("#"+r).attr("aria-labelledby",$(n).attr("id"));$(n).is("tr")?$(n).hasClass("multi-accordion-expanded")?($(n).find(".expand-details").attr("aria-expanded","true"),i=$(n).find(".esg-icon--down"),$(i).attr("class","esg-icon esg-icon--small esg-icon--up")):($(n).find(".expand-details").attr("aria-expanded","false"),i=$(n).find(".esg-icon--up"),$(i).attr("class","esg-icon esg-icon--small esg-icon--down")):($(n).attr("role","button"),f?($(n).find(".expand-details").attr("aria-expanded","false"),i=$(n).find(".esg-icon--up"),$(i).attr("class","esg-icon esg-icon--small esg-icon--down"),$(n).addClass("multi-accordion-expanded")):($(n).addClass("multi-accordion-collapsed"),$(n).find(".expand-details").attr("aria-expanded","false"),i=$(n).find(".esg-icon--up"),$(i).attr("class","esg-icon esg-icon--small esg-icon--down"),$("#"+r).hide()));$(n).on("click",function(){$(n).hasClass("multi-accordion-expanded")?$(n).is("tr")||($(n).find(".expand-details").attr("aria-expanded","false"),i=$(n).find(".esg-icon--up"),$(i).attr("class","esg-icon esg-icon--small esg-icon--down"),$(n).removeClass("multi-accordion-expanded"),$(n).attr("aria-expanded",!1),$(n).addClass("multi-accordion-collapsed")):$(n).is("tr")||($(n).find(".expand-details").attr("aria-expanded","true"),i=$(n).find(".esg-icon--down"),$(i).attr("class","esg-icon esg-icon--small esg-icon--up"),$(n).removeClass("multi-accordion-collapsed"),$(n).attr("aria-expanded",!0),$(n).addClass("multi-accordion-expanded"),$("#"+r).trigger("focus"));$(n).is("tr")?$(n).hasClass("multi-accordion-expanded")?($(n).find(".expand-details").attr("aria-expanded","false"),i=$(n).find(".esg-icon--up"),$(i).attr("class","esg-icon esg-icon--small esg-icon--down"),$(n).removeClass("multi-accordion-expanded"),$(n).attr("aria-expanded",!1),$(n).addClass("multi-accordion-collapsed"),$(n).find("button.expand-details").attr("aria-expanded",!1),$(n).next().find(".accordion-table-wrapper").slideToggle(function(){$(n).next().toggle()})):($(n).hasClass("multi-accordion-collapsed")||!$(n).hasClass("multi-accordion-expanded"))&&($(n).next().find(".accordion-table-wrapper").hide(),$(n).next().toggle(),$(n).next().find(".accordion-table-wrapper").slideToggle(),$(n).find(".expand-details").attr("aria-expanded","true"),i=$(n).find(".esg-icon--down"),$(i).attr("class","esg-icon esg-icon--small esg-icon--up"),$(n).removeClass("multi-accordion-collapsed"),$(n).attr("aria-expanded",!0),$(n).addClass("multi-accordion-expanded"),$(n).find("button.expand-details").attr("aria-expanded",!0),$("#"+r).trigger("focus")):$("#"+r).slideToggle("slow")});$(n).on("keypress",function(t){var i=t.which;(i===13||i===32)&&$(n).trigger("click")});e&&($(n).off().css("cursor","default"),$(n).removeAttr("role aria-controls tabindex"),$(".arrow",n).replaceWith("<span class='arrow no-arrow'><\/span>"))}}};ko.bindingHandlers.accordionMaster={init:function(n,t){var r=ko.utils.unwrapObservable(t())||{},u=r.expandMessage?r.expandMessage:null,f=r.collapseMessage?r.collapseMessage:null;$(n).on("click",function(){var e=$(".multi-accordion-controller").length,o=$(".multi-accordion-expanded").length,t,r;if(o<e){if(t=document.querySelectorAll(".multi-accordion-collapsed"),t.length>0)for(i=0;i<t.length;i++)$("#"+$(t[i]).attr("aria-controls")).slideToggle("slow"),$(t[i]).children(".expand-details").attr("aria-expanded","true"),replaceArrow=$(t[i]).find(".esg-icon--down"),$(replaceArrow).attr("class","esg-icon esg-icon--small esg-icon--up"),$(t[i]).addClass("multi-accordion-expanded"),$(t[i]).attr("aria-expanded",!0),$(t[i]).removeClass("multi-accordion-collapsed");$("#aria-announcements").length>0&&$("#aria-announcements").text(u)}if(o===e){if(r=document.querySelectorAll(".multi-accordion-expanded"),r.length>0)for(i=0;i<r.length;i++)$("#"+$(r[i]).attr("aria-controls")).slideToggle("slow"),$(t[i]).children(".expand-details").attr("aria-expanded","false"),replaceArrow=$(t[i]).find(".esg-icon--up"),$(replaceArrow).attr("class","esg-icon esg-icon--small esg-icon--down"),$(r[i]).removeClass("multi-accordion-expanded"),$(r[i]).attr("aria-expanded",!1),$(r[i]).addClass("multi-accordion-collapsed");$("#aria-announcements").length>0&&$("#aria-announcements").text(f)}$(n).trigger("focus")});$(n).on("keypress",function(t){var i=t.which,r=$(n).is("button"),u=$(n).is("input[type='button']"),f=$(n).is("input[type='submit']");r||u||f||(i===13||i===32)&&$(n).trigger("click")});$("body").on("click",function(){var t=$(".multi-accordion-controller").length,i=$(".multi-accordion-expanded").length;i<t?$(n).val(expandAllLabel):$(n).val(collapseAllLabel);$(n).attr("aria-label",$(n).val())})},update:function(n,t){var i=ko.utils.unwrapObservable(t())||{},f=i.reset?i.reset:null,r=$(".multi-accordion-controller").length,u=$(".multi-accordion-expanded").length;u<r?($(n).val(expandAllLabel),$(n).attr("aria-label",$(n).val())):($(n).val(collapseAllLabel),$(n).attr("aria-label",$(n).val()))}};ko.bindingHandlers.hover={update:function(n,t){var u=ko.utils.unwrapObservable(t())||{},e=u.reset?u.reset:null,i=$(n).position().top,r=$(n).css("width"),f=0;$("#proxy-banner").length&&(f+=$("#proxy-banner").outerHeight(!0)+"px");$(window).scroll(function(){r=$(n).css("width");var t=$(window).scrollTop();t>=i&&($(n).css("width",r),$(n).addClass("floating"),$(n).css("top",f));t<i&&($(n).removeClass("floating"),$(n).css("width","auto"),$(n).css("top",i))});$(window).on("resize",function(){$(n).css("width",r)})}};ko.bindingHandlers.stick={init:function(n,t){var r=ko.utils.unwrapObservable(t())||{},e=r.uniqueId?r.uniqueId:"stick",u="phantom-"+e,i,f,o;$("<div id='"+u+"' class='phantom-sticky-bar'><\/div>").insertAfter($(n));i=$("#"+u);i.hide();ko.utils.domNodeDisposal.addDisposeCallback(n,function(){i.remove();$(window).off("scroll.actionbar touchmove.actionbar")});f=$("#proxy-banner");o=f.length},update:function(n,t){var r=ko.utils.unwrapObservable(t())||{},u=$("#phantom-"+r.uniqueId),i=$(n),f=$("#proxy-banner"),h=i.position(),e=f.length,c=r.ignoreProxy===!1?r.ignoreProxy:!0,o=!1,s=r.constrainToParent?r.constrainToParent:!1;e&&i.is(f)?o=!0:!e||i.is(f)||r.mobile?e&&!i.is(f)&&r.mobile&&i.css("margin-top",110):i.css("margin-top",66);heightAdjustment=r.mobile?100:66;$(window).on("resize",debounce(function(){i.hasClass("stick-content")?i.css("width",u.outerWidth()):e||i.is(f)||i.css("width","")}));$(window).on("scroll.actionbar touchmove.actionbar",debounce(function(){var a,v;if(!e||c||o){var t=$(window).scrollTop(),l=$(n).parent().position().top+heightAdjustment,y=l+2*heightAdjustment+i.parent().height(),p=i.outerWidth();!s&&t>=h.top+heightAdjustment?(u.css("height",i.height()),i.addClass("stick-content"),i.css("width",p),u.show()):s&&t>=l&&t<=y&&!i.hasClass("stick-content")?(u.css("height",i.height()),i.addClass("stick-content"),i.css("width",p),u.show(),!e||f.hasClass("hide-content")||o||f.addClass("hide-content")):(t<=l||t>=y)&&i.hasClass("stick-content")&&s?(e&&!o&&(a=r.uniqueId.split("-"),v=a[a.length-1],v&&v==="0"&&t<=l&&f.removeClass("hide-content")),i.removeClass("stick-content"),i.css("width",u.outerWidth()),u.hide()):!s&&t<h.top+heightAdjustment&&(i.removeClass("stick-content"),i.css("width","auto"),u.hide())}},10))}};ko.bindingHandlers.tooltip={init:function(n,t){var u=ko.utils.unwrapObservable(t())||{},s=u.message?u.message:null,c=u.position?u.position:"top",d=u.preventParentClickOnMobile?u.preventParentClickOnMobile:!1,l=u.zIndex?parseInt(u.zIndex):!1,g={messageObservable:ko.isObservable(s)?s:ko.observable(s)},h,r,k;window.noOfTooltips=window.noOfTooltips+1||0;var f="tooltip-"+window.noOfTooltips,i=n,a=$(n).find("svg");if(a.length>0)for(h=0;h<a.length;h++)$(a[h]).attr("focusable","false");if(s===null)console.warn("Tooltip message is null for: "+$(i)[0].outerHTML);else{$('<div id="'+f+'" class="esg-popover esg-popover--hidden" role="tooltip"><div class="esg-popover__arrow"><\/div><div class="esg-popover__content" data-bind="text: messageObservable"><\/div><\/div>').appendTo("body");ko.applyBindings(g,document.getElementById(f));r=$("#"+f);l&&!isNaN(l)&&$(r).css("z-index",l.toString());$(i).is("button")||$(i).is("a")||$(i).is("input")||$(i).hasClass("menu-item")||$(i).attr("tabIndex","0");$(i).attr("aria-describedby",f);var e=!1,w=$(r).outerHeight(),v=$(r).outerWidth(),b=$(i).outerHeight(),y=Math.round(b/2),nt=$("#"+f+" .esg-popover__content").height(),tt=$("#"+f+" .esg-popover__content").css("line-height"),it=parseInt(tt.replace("px","")),rt=function(){return nt/it>1?!0:!1},ut=function(){var r=5,t=$(i).offset().top,n;return o()==="esg-popover--right"||o()==="esg-popover--left"?(n=t+y-w/2,Math.round(n)):o()==="esg-popover--bottom"?(n=t+b+r,Math.round(n)):(n=t-w-r,Math.round(n))},ft=function(){var s=10,f=v+s,r=Math.round($(i).offset().left),n=Math.round(r+y-v/2),h=Math.round(r-y),o=$(i).attr("rel"),t,u;return typeof o!=typeof undefined&&o!==!1&&o.indexOf("menu")>=0?80:c.toLowerCase()==="right"?(t=Math.round(r+$(i).outerWidth()+s),f+t>$(document).width()?(e=!0,t=n,t<0&&(t=h)):e=!1,t):c.toLowerCase()==="left"?(u=Math.round(r-v),u<0?(e=!0,u=n):e=!1,u):(f+n>$(document).width()&&(n=$(document).width()-f),n<0&&(n=h),e=!1,n)},o=function(){return e===!0?"esg-popover--top":"esg-popover--"+c.toLowerCase()};$(i).closest(".ui-dialog").length>0&&(k=parseInt($(i).closest(".ui-dialog").css("z-index"),10),r.css("z-index",k+1));var p=function(){$(".esg-popover").removeClass("fade-in");$(".esg-popover").addClass("esg-popover--hidden fade-out")},et=function(){r.removeClass("esg-popover--hidden fade-out");r.addClass("fade-in")},ot=function(){r.removeClass("fade-in");r.addClass("esg-popover--hidden fade-out")};$(i).on("mouseenter focus touchstart click",function(n){if($(r).addClass(o),rt()===!0&&o()==="esg-popover--top"){var t=$("#"+f+" .esg-popover__content").innerHeight();$("#"+f+" .esg-popover__arrow").attr("style","top: "+parseInt(t+6)+"px;")}return p(),et(),$(r).css({left:ft,top:ut}),n.type==="touchstart"&&d===!0?(n.stopPropagation(),!1):void 0});$(i).on("mouseleave blur",ot);$(document).off("touchstart",p);$(document).on("touchstart",p);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.remove()})}},update:function(){}};ko.bindingHandlers.popover={init:function(n,t){var u=ko.utils.unwrapObservable(t())||{},s=u.messages?u.messages:[],c=u.position?u.position:"top",d=u.preventParentClickOnMobile?u.preventParentClickOnMobile:!1,l=u.zIndex?parseInt(u.zIndex):!1,g={messagesObservable:ko.isObservable(s)?s:ko.observable(s)},h,r,k;window.numberOfPopovers=window.numberOfPopovers+1||0;var f="popover-"+window.numberOfPopovers,i=n,a=$(n).find("svg");if(a.length>0)for(h=0;h<a.length;h++)$(a[h]).attr("focusable","false");if(s){$('<div id="'+f+'" class="esg-popover esg-popover--hidden" role="tooltip"><div class="esg-popover__arrow"><\/div><div class="esg-popover__content" data-bind="foreach: { data: messagesObservable, as: \'messageLine\' }"><div class="esg-popover__text" data-bind="text: messageLine.text, css: messageLine.cssClass"><\/div><\/div><\/div>').appendTo("body");ko.applyBindings(g,document.getElementById(f));r=$("#"+f);l&&!isNaN(l)&&$(r).css("z-index",l);$(i).is("button")||$(i).is("a")||$(i).is("input")||$(i).hasClass("menu-item")||$(i).attr("tabIndex","0");$(i).attr("aria-describedby",f);var e=!1,w=$(r).outerHeight(),v=$(r).outerWidth(),b=$(i).outerHeight(),y=Math.round(b/2),nt=$("#"+f+" .esg-popover__content").height(),tt=$("#"+f+" .esg-popover__content").css("line-height"),it=parseInt(tt.replace("px","")),rt=function(){return nt/it>1?!0:!1},ut=function(){var r=5,t=$(i).offset().top,n;return o()==="esg-popover--right"||o()==="esg-popover--left"?(n=t+y-w/2,Math.round(n)):o()==="esg-popover--bottom"?(n=t+b+r,Math.round(n)):(n=t-w-r,Math.round(n))},ft=function(){var s=10,f=v+s,r=Math.round($(i).offset().left),n=Math.round(r+y-v/2),h=Math.round(r-y),o=$(i).attr("rel"),t,u;return typeof o!=typeof undefined&&o!==!1&&o.indexOf("menu")>=0?80:c.toLowerCase()==="right"?(t=Math.round(r+$(i).outerWidth()+s),f+t>$(document).width()?(e=!0,t=n,t<0&&(t=h)):e=!1,t):c.toLowerCase()==="left"?(u=Math.round(r-v),u<0?(e=!0,u=n):e=!1,u):(f+n>$(document).width()&&(n=$(document).width()-f),n<0&&(n=h),e=!1,n)},o=function(){return e===!0?"esg-popover--top":"esg-popover--"+c.toLowerCase()};$(i).closest(".ui-dialog").length>0&&(k=parseInt($(i).closest(".ui-dialog").css("z-index"),10),r.css("z-index",k+1));var p=function(){$(".esg-popover").removeClass("fade-in");$(".esg-popover").addClass("esg-popover--hidden fade-out")},et=function(){r.removeClass("esg-popover--hidden fade-out");r.addClass("fade-in")},ot=function(){r.removeClass("fade-in");r.addClass("esg-popover--hidden fade-out")};$(i).on("mouseenter focus touchstart click",function(n){if($(r).addClass(o),rt()===!0&&o()==="esg-popover--top"){var t=$("#"+f+" .esg-popover__content").innerHeight();$("#"+f+" .esg-popover__arrow").attr("style","top: "+parseInt(t+6)+"px;")}return p(),et(),$(r).css({left:ft,top:ut}),n.type==="touchstart"&&d===!0?(n.stopPropagation(),!1):void 0});$(i).on("mouseleave blur",ot);$(document).off("touchstart",p);$(document).on("touchstart",p);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.remove()})}else console.warn("Popover message is null or undefined for: "+$(i)[0].outerHTML)},update:function(){}};ko.bindingHandlers.noParentBubbling={update:function(n){$(n).on("click",function(n){n.stopPropagation()})}};ko.bindingHandlers.enterKey={init:function(n,t,i,r){var u=t();$(n).on("keypress",function(t){var i=t.which?t.which:t.keyCode;return i===13?($(n).trigger("blur"),$(n).trigger("focus"),u.call(r),!1):!0})}};ko.bindingHandlers.treatAsLink={init:function(n){$(n).on("keypress",function(t){var i=t.which;(i===13||i===32)&&$(n).trigger("click")})}};ko.bindingHandlers.toggleCollapsibleRow={init:function(n,t){var r=ko.utils.unwrapObservable(t())||{},u=r.isTable,i=r.isOpen||!1;i&&$(n).nextUntil(".collapsible").slideToggle();$(n).on("click",function(){u===!0?i===!1?($(n).next().toggle(),$(n).next().find(".collapsible-item").slideToggle(function(){$(n).next().toggle();i=!0})):$(n).next().find(".collapsible-item").slideToggle(function(){$(n).next().toggle();i=!1}):$(n).nextUntil(".collapsible").slideToggle();var t=$(n).find(".esg-icon--up");t.length===1?$(t).attr("class","esg-icon esg-icon--small esg-icon--down"):(t=$(n).find(".esg-icon--down"),$(t).attr("class","esg-icon esg-icon--small esg-icon--up"));$(n).find(".expand-details").attr("aria-expanded")==="true"?$(n).find(".expand-details").attr("aria-expanded","false"):$(n).find(".expand-details").attr("aria-expanded","true")})}};ko.bindingHandlers.mask={createMask:function(n){var r=ko.bindingHandlers.mask.maskOptions.maskChar,u=ko.bindingHandlers.mask.maskOptions.unmaskStart,f=ko.bindingHandlers.mask.maskOptions.unmaskEnd,s=ko.bindingHandlers.mask.maskOptions.maskMin,e="",o="",t,i;if(!n||n.length<=s)return n;for(t=0;t<Math.abs(u);t++)e+=r;for(i=Math.abs(f);i<n.length;i++)o+=r;return"{0}{1}{2}".format(e,n.slice(u,f),o)},maskOptions:{maskChar:"*",maskMin:0,unmaskStart:0,unmaskEnd:0},setMaskOptions:function(n){n.maskChar&&n.maskChar!==""&&(ko.bindingHandlers.mask.maskOptions.maskChar=n.maskChar);n.unmaskStart&&n.unmaskStart!==""&&(ko.bindingHandlers.mask.maskOptions.unmaskStart=n.unmaskStart);n.unmaskEnd&&n.unmaskEnd!==""&&(ko.bindingHandlers.mask.maskOptions.unmaskEnd=n.unmaskEnd);n.unmaskEnd&&n.maskMin!==""&&(ko.bindingHandlers.mask.maskOptions.maskMin=n.maskMin)},init:function(n,t,i){var r=$(n),u=i().textInput;ko.bindingHandlers.mask.setMaskOptions(ko.utils.unwrapObservable(t()));r.val(ko.bindingHandlers.mask.createMask(u()));r.on("mouseenter focusin",function(){r.val(u())});r.on("mouseleave",function(){r.is(":focus")||r.val(ko.bindingHandlers.mask.createMask(u()))});r.on("focusout",function(){r.val(ko.bindingHandlers.mask.createMask(u()))});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){r.off()})},update:function(n,t){ko.bindingHandlers.mask.setMaskOptions(ko.utils.unwrapObservable(t()))}};tableFilters=function(){function n(){function r(n,t){if(typeof n=="undefined"&&(n=null),typeof t=="undefined"&&(t=null),typeof n=="string"&&typeof t=="string")return isNumber(n)===!0&&isNumber(t)===!0?Number(n)-Number(t):moment(n).isValid()&&moment(t).isValid()?moment(n)-moment(t):n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"});if(typeof n=="number"&&typeof t=="number")return n-t;if(typeof n=="object"&&typeof t=="object")return moment(n).isValid()&&moment(t).isValid()?moment(n)-moment(t):(n=JSON.stringify(n),t=JSON.stringify(t),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"}));if(typeof n=="number"||typeof t=="number"){if(isNullOrEmpty(n)===!0||isNullOrEmpty(t)===!0)return isNullOrEmpty(n)===!0?n=Number.MIN_VALUE:isNullOrEmpty(t)===!0&&(t=Number.MIN_VALUE),Number(n)-Number(t);if(typeof n=="string"||typeof t=="string")return typeof n=="number"?n=n.toString():typeof t=="number"&&(t=t.toString()),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"});if(n instanceof Date||t instanceof Date)return n instanceof Date&&(n=n.valueOf()),t instanceof Date&&(t=t.valueOf()),Number(n)-Number(t);if(typeof n=="object"||typeof t=="object")return n=JSON.stringify(n),t=JSON.stringify(t),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"})}else if(n instanceof Date||t instanceof Date){if(isNullOrEmpty(n)===!0||isNullOrEmpty(t)===!0)return isNullOrEmpty(n)===!0?n=moment(1700,1,1):isNullOrEmpty(t)===!0&&(t=moment(1700,1,1)),moment(n)-moment(t);if(typeof n=="string"||typeof t=="string")return n instanceof Date?n=n.toString():t instanceof Date&&(t=t.toString()),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"});if(typeof n=="object"||typeof t=="object")return n=JSON.stringify(n),t=JSON.stringify(t),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"})}else if(typeof n=="string"||typeof t=="string"){if(isNullOrEmpty(n)===!0||isNullOrEmpty(t)===!0)return isNullOrEmpty(n)===!0&&(n=""),isNullOrEmpty(t)===!0&&(t=""),n.toLowerCase().localeCompare(t.toLowerCase(),Globalize.findClosestCulture().name,{sensitivity:"base"})}else return n<t?-1:n>t?1:0}function t(n){var u,t,f,e;typeof n!="undefined"&&n!==null&&(u=n.sortField(),t=n.sortDirection(),typeof u!="undefined"&&u!==null&&typeof t!="undefined"&&t!==null)&&(f=u.split(";"),e=n(),e.sort(function(n,u){for(var s,h,o=0,e=0;e<f.length&&e<i;e++)if(s=ko.utils.unwrapObservable(n[f[e]]),h=ko.utils.unwrapObservable(u[f[e]]),t==="asc"?o=r(s,h):t==="desc"&&(o=r(h,s)),o!==0)break;return o}),n(e))}var i=3,u=["Cannot have more than "+i+" nested fields for sorting"],n=ko.observable(),f=ko.computed(function(){return n()+"both.png"}),e=ko.computed(function(){return n()+"up.png"}),o=ko.computed(function(){return n()+"down.png"});return ko.bindingHandlers.sortOn={init:function(t,r,f,e,o){try{var l=ko.unwrap(r()),h=l.fieldName,c=l.displayAs,s=o.contents;if(n(o.imagePath),typeof h=="undefined"||h===null)return;if(typeof s=="undefined"||s===null)return;if((typeof c=="undefined"||c===null)&&(c=h),h.split(";").length>i)throw new Error(u[0]+" "+h);var v=o.isMobile,y=l.defaultField,a=l.defaultDirection;s.sortOptions.push({sortField:h,displayAs:c,sortDirection:"ascending"});s.sortOptions.push({sortField:h,displayAs:c,sortDirection:"descending"});(isNullOrEmpty(v)||v===!1)&&$(t).addClass("sortable");typeof y!="undefined"&&y!==null&&y===!0&&((typeof a=="undefined"||a===null)&&(a="asc"),ko.bindingHandlers.sortOn.sortMeNow(t,h,a,s,v));$(t).on("click",function(){try{if($(t).removeClass("sortable"),$(t).removeClass("sortable-asc"),$(t).removeClass("sortable-desc"),s.sortField()===h)s.sortDirection()==="asc"?($(t).addClass("sortable-desc"),s.sortDirection("desc")):($(t).addClass("sortable-asc"),s.sortDirection("asc"));else{var n=$(t).siblings(".sortable-asc, .sortable-desc");$(n).removeClass("sortable-asc");$(n).removeClass("sortable-desc");$(n).addClass("sortable");$(t).addClass("sortable-asc");s.sortDirection("asc");s.sortField(h)}}catch(i){console.error(i.message)}})}catch(p){console.error(p.message)}},sortMeNow:function(n,t,i,r,u){try{u===!1&&$(n).children(".sortable-column-img").remove();var f=null;i==="asc"?(u===!1&&$(n).addClass("sortable-asc"),f=ko.utils.arrayFirstDeprecated(r.sortOptions(),function(n){return n.sortField===t&&n.sortDirection==="ascending"}),r.selectedSortOption(f)):(u===!1&&$(n).addClass("sortable-desc"),f=ko.utils.arrayFirstDeprecated(r.sortOptions(),function(n){return n.sortField===t&&n.sortDirection==="descending"}),r.selectedSortOption(f))}catch(e){console.error(e.message)}}},ko.bindingHandlers.sortable={init:function(n,i,r,u,f){var s;try{var o=ko.unwrap(i()),c=o.isMobile,e=o.contents,l=o.imagePath;return typeof e.sortField=="undefined"&&(e.sortField=ko.observable()),typeof e.sortDirection=="undefined"&&(e.sortDirection=ko.observable()),typeof e.sortOptions=="undefined"&&(e.sortOptions=ko.observableArray([]),e.selectedSortOption=ko.observable()),e.sortField.getSubscriptionsCount()===0&&e.sortField.subscribe(function(){t(e)}),e.sortDirection.getSubscriptionsCount()===0&&e.sortDirection.subscribe(function(){t(e)}),e.selectedSortOption.getSubscriptionsCount()===0&&e.selectedSortOption.subscribe(function(){e.selectedSortOption().sortDirection==="ascending"?e.sortDirection("asc"):e.sortDirection("desc");e.sortField(e.selectedSortOption().sortField)}),s=f.createChildContext(f.$rawData,null,function(n){ko.utils.extend(n,i())}),ko.applyBindingsToDescendants(s,n),{controlsDescendantBindings:!0}}catch(h){console.error(h.message)}},update:function(n,i,r){var e,s;try{var f=ko.unwrap(i()),o=f.isMobile,u=f.contents;o===!0?($(n).prev("").remove("#mobile-sorting-template-id"),e="<div id='placeholder-for-sorting-template'><\/div>",$(n).before(e),s=ko.renderTemplate("mobile-sorting-template",i(),{},$(n).prev("#placeholder-for-sorting-template"),"replaceNode")):$(n).prev("").remove("#mobile-sorting-template-id");r().hasOwnProperty("dynamicCollection")&&(typeof u=="undefined"||u===null||isNullOrEmpty(u.sortField())||isNullOrEmpty(u.sortDirection())||t(u))}catch(h){console.debug(h)}}},{sort:t}}return ko.bindingHandlers.dynamicCollection={init:function(n,t){try{var r=arguments;ko.computed({read:function(){ko.utils.unwrapObservable(t())},owner:this,disposeWhenNodeIsRemoved:n})}catch(i){console.error(i)}}},{sorting:n()}}();ko.bindingHandlers.let={init:function(n,t,i,r,u){var f=u.extend(t);return ko.applyBindingsToDescendants(f,n),{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.let=!0;ko.bindingHandlers.clickOutside={init:function(n,t){var i=function(i){if(!n.contains(i.target)){var r=ko.utils.unwrapObservable(t());typeof r=="function"?r():typeof r=="object"&&(typeof r.callback=="function"&&r.arguments?r.callback.apply(this,r.arguments):typeof r.callback=="function"&&r.callback())}};document.addEventListener("click",i);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){document.removeEventListener("click",i)})}};ko.bindingHandlers.autoResize={init:function(n){autosize(n);$(n).on("keydown keyup input paste propertychange click submit mouseenter",function(){autosize(n)})},update:function(n){autosize(n)}};ko.bindingHandlers.readMoreLink={config:{maxChars:100,moreText:"Read more...",lessText:"Read less"},toggleMoreOrLess:function(n){var t=ko.bindingHandlers.readMoreLink.config;$(n).off("click",".morelink");$(n).on({click:function(){var n=$(this);return n.hasClass("less")?(n.removeClass("less"),n.html(t.moreText)):(n.addClass("less"),n.html(t.lessText)),n.prev().toggle(),!1}},".morelink")},contentUpdate:function(n){var i=ko.bindingHandlers.readMoreLink.config,f=$(n),t,r,e,o,s,h;if(!f.hasClass("shortened")&&(f.addClass("shortened"),t=f.html(),r=0,t.length>i.maxChars)){var c=/(<([^>]*)>((.|[\r\n\t])*?)<.*\/[^>]*>)/ig,u=t.match(c),l=t.search(c);if(u!=null&&u!=undefined&&u.length>0){for(e=l,o=0;o<u.length;o++)e+=u[o].length;r=e>i.maxChars?e:i.maxChars;s=t.substr(0,r);h=t.substr(r,t.length-r)}else s=t.substr(0,i.maxChars),h=t.substr(i.maxChars,t.length-i.maxChars);r<t.length&&(f.html(s+'<span class="morecontent"><span>'+h+'<\/span> <a href="#" class="morelink">'+i.moreText+"<\/a><\/span>"),$(".morecontent span").hide())}},init:function(n,t){var i=ko.utils.unwrapObservable(t())||{};i&&$.extend(ko.bindingHandlers.readMoreLink.config,i);ko.bindingHandlers.readMoreLink.toggleMoreOrLess(n);ko.bindingHandlers.readMoreLink.contentUpdate(n)},update:function(){}};ko.utils.arrayFirstDeprecated=function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return n[r];return null};planMapping={DegreePlan:{create:function(n){return new DegreePlan(n.data)}},Terms:{create:function(n){return new Term(n.data)}},PlannedCourses:{create:function(n){return new Course(n.data)}},CompletedCourses:{create:function(n){return new Course(n.data)}},RequisiteWarnings:{create:function(n){return new requisiteModel(n.data)}},CorequisiteCourseWarnings:{create:function(n){return new corequisiteCourseModel(n.data)}},CorequisiteSectionWarnings:{create:function(n){return new corequisiteSectionModel(n.data)}},PlannedSectionsWithNoMeetingTimes:{create:function(n){return new Course(n.data)}},StudentWaivers:{update:function(n){return UpdatePetitionsWaivers(n)}},StudentPetitions:{update:function(n){return UpdatePetitionsWaivers(n)}},StudentConsents:{update:function(n){return UpdatePetitionsWaivers(n)}},DropReasonsConfiguration:{create:function(n){return new DropReasonsConfigurationModel(n.data)}},copy:["DegreePlanDto"]};Ellucian=Ellucian||{};Ellucian.ScreenSizes=Ellucian.ScreenSizes||{};Ellucian.ScreenSizes=Object.freeze({xxsmall:320,xsmall:420,small:768,medium:992,tablets:1025,large:1200,xlarge:1440,xxlarge:2e3});BaseViewModel=function(n){var t=this,i;this.mobileScreenWidth=n||480;this.isMobile=ko.observable(!1);i=ko.observable(0);this.screenIsSmallerThan=function(n){var t=!1,r,u;for(r in Ellucian.ScreenSizes)if(n===r){t=!0;break}if(!t)throw"Please provide a valid screen query size from Ellucian.ScreenSizes";return(u=Ellucian.ScreenSizes[n],i()<Ellucian.ScreenSizes[n])?!0:!1};this.checkForMobile=function(n,r){var f=n,e="inner",u;"innerWidth"in n||(e="client",f=r.documentElement||r.body);u=f[e+"Width"];u<t.mobileScreenWidth?t.isMobile(!0):t.isMobile(!1);i(u)};this.isMobile.subscribe(function(n){n===!0?t.changeToMobile():t.changeToDesktop()});this.changeToMobile=function(){};this.changeToDesktop=function(){};t.loadingMessage=ko.observable(personProxyLoadingThrobberMessage);t.proxySelectionDialogIsLoading=ko.observable(!1);t.proxySelectionDialogIsDisplayed=ko.observable(!1);this.ProxySubjects=ko.observableArray();t.selectedProxySubject=ko.observable(null);t.changeProxySubject=function(){hideProxyDialog=!1;t.getProxySubjects()};t.updateViewModelWithProxySubjectData=function(){t.proxySelectionDialogIsLoading(!1);t.proxySelectionDialogIsDisplayed(!hideProxyDialog&&t.ProxySubjects().length>1);showOrHideElement(t.ProxySubjects(),$("#changeProxyUser-link"));showOrHideElement(t.ProxySubjects(),$("#changeProxyUser-opsLink"));t.proxySelectionDialogIsDisplayed()?setFocus("input.buttonless"):setFocus("#topOfForm")};this.getProxySubjects=function(){var n=Ellucian.Storage.session.getItem("Ellucian.proxySubjects");n?(ko.mapping.fromJS(n,{},t.ProxySubjects),t.updateViewModelWithProxySubjectData()):$.ajax({url:getProxySubjectsActionUrl,type:"GET",contentType:jsonContentType,dataType:"json",beforeSend:function(){t.proxySelectionDialogIsLoading(!0)},success:function(n){account.handleInvalidSessionResponse(n)||(Ellucian.Storage.session.setItem("Ellucian.proxySubjects",n.ProxySubjects),ko.mapping.fromJS(n,{},t))},error:function(n){n.status!=0&&$("#notificationHost").notificationCenter("addNotification",{message:proxySelectionUnableToLoadSubjectsMessage,type:"error"})},complete:function(){t.updateViewModelWithProxySubjectData()}})};t.cancelProxySelectionDialog=function(){t.proxySelectionDialogIsDisplayed(!1);t.selectedProxySubject(null)};t.changingUserMessage=ko.observable(personProxyChangingThrobberMessage);t.changingProxyUsers=ko.observable(!1);t.saveProxySelectionDialog=function(){var i={subjectJson:ko.toJSON(t.selectedProxySubject())},n=homeUrl;t.selectedProxySubject().Id()==currentUserId&&(n+="?hideProxyDialog=true");$.ajax({url:setProxySubjectActionUrl,type:"PUT",contentType:jsonContentType,data:JSON.stringify(i),dataType:"json",beforeSend:function(){t.changingUserMessage(personProxyChangingThrobberMessage.format(t.selectedProxySubject().FullName()));t.changingProxyUsers(!0)},complete:function(){window.location.href=n}})};t.saveProxySelectionEnabled=ko.computed(function(){return t.selectedProxySubject()});t.selectedProxySubject.subscribe(function(){t.selectedProxySubject()&&makeAnnouncement(proxySelectionUserSelectedMessage.format(t.selectedProxySubject().FullName()))});t.verifyingPasswordMessage=ko.observable(verifyingPasswordMessage);t.verifyingPasswordAltText=ko.observable(verifyingPasswordAltText);t.verifyingPassword=ko.observable(!1);t.userPassword=ko.observable();t.verifyPasswordMessage=ko.observable();t.verifyPasswordDialogIsDisplayed=ko.observable(!1);t.showVerifyPasswordDialog=function(){t.verifyPasswordDialogIsDisplayed(!0)};t.cancelVerifyPasswordDialog=function(){t.verifyPasswordDialogIsDisplayed(!1);t.verifyPasswordMessage(null);t.userPassword(null)};t.verifyPasswordButtonEnabled=ko.computed(function(){return t.userPassword()&&t.userPassword()!==""});t.submitVerifyPasswordDialog=function(){var n={passwordJson:ko.toJSON(t.userPassword())};$.ajax({url:reauthenticateUrl,type:"POST",contentType:jsonContentType,data:JSON.stringify(n),dataType:"json",beforeSend:function(){t.verifyPasswordDialogIsDisplayed(!1);t.verifyingPassword(!0)},success:function(n){account.handleInvalidSessionResponse(n)||(t.verifyingPassword(!1),t.verifyingPasswordSuccessFunction(),t.verifyPasswordMessage(null),t.userPassword(null))},error:function(n){n.status!=0&&t.verifyPasswordMessage(JSON.parse(n.responseText));t.verifyingPassword(!1);t.verifyPasswordDialogIsDisplayed(!0)}})};t.verifyingPasswordSuccessFunction=function(){};t.saveProxySelectionButton={id:"save-proxy-selection-dialog-button",isPrimary:!0,title:Ellucian.Proxy.ButtonLabels.saveProxySelectionDialogButtonLabel,callback:t.saveProxySelectionDialog,enabled:t.saveProxySelectionEnabled};t.cancelProxySelectionButton={id:"cancel-proxy-selection-dialog-button",isPrimary:!1,title:Ellucian.Proxy.ButtonLabels.cancelProxySelectionDialogButtonLabel,callback:t.cancelProxySelectionDialog};t.verifyPasswordDialogButton={id:"verify-password-dialog-button",isPrimary:!0,title:Ellucian.SharedComponents.ButtonLabels.buttonTextVerifyPassword,callback:t.submitVerifyPasswordDialog,enabled:t.verifyPasswordButtonEnabled};t.cancelPasswordDialogButton={id:"cancel-dialog-button",title:Ellucian.SharedComponents.ButtonLabels.buttonTextCancel,callback:t.cancelVerifyPasswordDialog};$(document).ready(function(){var n=0;$(window).on("resize",function(){clearTimeout(n);n=setTimeout(function(){t.checkForMobile(window,document)},100)})})},function(n,t){typeof define=="function"&&define.amd?define([],t):typeof module=="object"&&module.exports?module.exports=t():n.resourceManager=t()}(this,function(){function e(t,i){return n[t]?(i&&i.length>0&&n[t].formatParams(i),n[t].result):(n[t]=new r,f(t,i).then(function(r){n[t].rawString(r);n[t].formatParams(i);return}),n[t].result)}function u(n,t){return f(n).then(function(n){return n.format(t)})}function f(n){var t=i.getItem(n);return t?Promise.resolve(t):o(n).then(function(){return i.getItem(n)})}function o(n){var r=n.split(".")[0],u=typeof getResourceUrl!="undefined"?getResourceUrl+"/"+r:"/"+r;return t[r]?t[r]:(t[r]=Promise.resolve($.ajax(u)).then(function(n){for(var t in n)i.setItem(r+"."+t,n[t]);return}).catch(function(n){console.error(n)}),t[r])}var i=window.sessionStorage,n,r,t;return window.Ellucian&&window.Ellucian.Storage&&window.Ellucian.Storage.session&&(i=window.Ellucian.Storage.session),ko.bindingHandlers.resx=ko.bindingHandlers.resx||{update:function(n,t){var i=ko.utils.unwrapObservable(t()),r=Array.isArray(i)?i[0]:i,f=Array.isArray(i)&&i.length>1?i.slice(1):[];r&&u(r,f).then(function(t){$(n).text(t)})}},n={},r=function(){var n=this;n.rawString=ko.observable();n.formatParams=ko.observable();n.result=ko.pureComputed(function(){return n.rawString()?n.formatParams()&&n.formatParams().length>0?n.rawString().format.apply(n.rawString(),n.formatParams()):n.rawString():null})},t={},{get:function(n,t){return u(n,t)},getObservable:function(n,t){return e(n,t)}}});Ellucian=Ellucian||{};Ellucian.Student=Ellucian.Student||{};Ellucian.Student.Textbooks=Ellucian.Student.Textbooks||{};Ellucian.Student.Textbooks.SectionTextbooksViewModel=function(n){var t=this;this.TextbooksBySection=ko.observableArray([]);this.HasBooksToDisplay=ko.observable(!1);ko.mapping.fromJS(n,{},t)};Ellucian=Ellucian||{};Ellucian.Planning=Ellucian.Planning||{};Ellucian.Student=Ellucian.Student||{};Ellucian.Student.BasePlanViewModel=function(n,t,r,u){var f=this,h,c,l,v;BaseViewModel.call(f);f.selectedTab=ko.observable("list");f.setSelectedTab=function(n){f.selectedTab(n)};this.degreePlanChanged=ko.observable(!1).publishOn("degreePlanChanged");this.isPageLoading=ko.observable(!0);var o=[],y="preview-normal-cal-item",p="preview-warning-cal-item",w="preview-error-cal-item",s="pre_",a=null,e={courseId:null,sectionId:null,termId:null,courseCreditsFreeform:!1,courseFreeformMin:0,courseFreeformMax:0,courseStaticCredits:0,courseNonTerm:!1},b={chosenCredits:null,chosenTerm:null};this.eventCalendarAfterRender=function(){f.calendarHeightFix()};this.calendarHeightFix=function(){var n=$("*[id*=plan-calendar]:visible").height();$(".schedule-list").height(n)};this.changeToDesktop=function(){f.calendarHeightFix()};this.planningTerms=ko.observableArray().publishOn("planningTerms");this.updatePlanningTerms=function(n){f.planningTerms.removeAll();for(var t=0;t<n.length;t++)f.planningTerms.push(new Term(n[t]))};this.availablePlanningTerms=ko.observableArray().publishOn("availablePlanningTerms");this.updateAvailablePlanningTerms=function(n){f.availablePlanningTerms.removeAll();for(var t=0;t<n.length;t++)f.availablePlanningTerms.push(new Term(n[t]))};this.Notification=ko.observable({Type:ko.observable(""),Message:ko.observable("")});this.isShowingSchedule=!0;typeof n=="undefined"&&(n=!1);this.isProxyUser=ko.observable(n).publishOn("isProxyUser");this.searchUrl=ko.observable(t);this.searchAsync=ko.observable(!1);this.DegreePlan=ko.observable().syncWith("degreePlan").extend({rateLimit:{timeout:500,method:"notifyWhenChangesStop"}});this.DegreePlan.subscribe(function(){f.currentTermCode.valueHasMutated()});this.catalogResult=ko.observable(null).publishOn("catalogResult");this.catalogResultsDisplayed=ko.observable(!1).publishOn("catalogResultDisplayed");this.isLoading=ko.observable(!1).syncWith("isLoading",!0);this.LoadingMessage=ko.observable("").syncWith("LoadingMessage",!0);this.currentTermCode=ko.observable(null);f.currentTermCode.subscribeChanged(function(n,t){f.isShowingSchedule&&(n==null||n!=t)&&f.ResetToNoCoursesOpen();typeof f.DegreePlan().Terms!="undefined"?f.currentTerm(ko.utils.arrayFirstDeprecated(f.DegreePlan().Terms(),function(n){return n.Code()==f.currentTermCode()})):f.currentTerm(null);f.checkForMobile(window,document);f.calendarHeightFix()});this.currentTerm=ko.observable(null);this.FirstTerm=ko.computed(function(){return typeof f.DegreePlan()=="undefined"||typeof f.DegreePlan().Terms=="undefined"||f.DegreePlan().Terms().length<1?"":f.DegreePlan().Terms()[0].Code()});this.LastTerm=ko.computed(function(){return typeof f.DegreePlan()=="undefined"||typeof f.DegreePlan().Terms=="undefined"||f.DegreePlan().Terms().length<1?"":f.DegreePlan().Terms()[f.DegreePlan().Terms().length-1].Code()});this.termEligibility=ko.observableArray();this.hasRegistrationOverride=ko.observable();this.currentTermAddMessage=ko.computed(function(){if(f.currentTermCode()==null)return"";var n=ko.utils.arrayFirstDeprecated(f.termEligibility(),function(n){return n.Term==f.currentTermCode()});return n?n.Message:null});this.canRegister=ko.computed(function(){if(f.currentTermCode()==null)return!1;var n=ko.utils.arrayFirstDeprecated(f.termEligibility(),function(n){return n.Term==f.currentTermCode()});return forceEnableRegistrationButtons===!0||f.hasRegistrationOverride()===!0||(n?n.AllowRegistration:!1)});this.canSkipWaitlist=ko.computed(function(){if(f.currentTermCode()==null)return!1;var n=ko.utils.arrayFirstDeprecated(f.termEligibility(),function(n){return n.Term==f.currentTermCode()});return n?n.AllowSkippingWaitlist:!1}).publishOn("userCanSkipWaitlist");this.addingTerm=ko.observable();this.removingTerm=ko.observable();this.removingCourseId=ko.observable();this.removingCourseTitle=ko.observable();this.removingCourseTerm=ko.observable();this.removingCourseTermTitle=ko.observable();this.removingCourseSectionId=ko.observable();this.AdvisingNotes=ko.observable("");this.removeCourseDialogIsOpen=ko.observable(!1);this.ShowRemoveCourseDialog=function(n,t,i){f.removeCourseDialogIsOpen(!0);i?(f.removingCourseTerm(""),f.removingCourseTermTitle(Ellucian.Student.PlanViewModelMessages.removeNonTermSectionLabel)):(f.removingCourseTerm(t.Code()),f.removingCourseTermTitle(t.Description()));f.removingCourseId(n.Id());f.removingCourseTitle(n.CourseTitleDisplay());f.removingCourseSectionId(null);n.Section!=null&&typeof n.Section!="function"&&f.removingCourseSectionId(n.Section.Id())};this.CancelRemoveCourse=function(){f.removeCourseDialogIsOpen(!1);f.removingCourseId(null);f.removingCourseTitle("");f.removingCourseTerm(null);f.removingCourseTermTitle("");f.removingCourseSectionId(null)};this.commitRemoveCourse=function(){f.removingCourseId()!=""&&f.removingCourseId()!=null&&(typeof Ellucian.Student.PlanViewModelMessages.removingCourseProcessing=="string"&&(f.removingCourseSectionId()?f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.removingCourseProcessing.format(Ellucian.Student.PlanViewModelMessages.SectionString)):f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.removingCourseProcessing.format(Ellucian.Student.PlanViewModelMessages.CourseString))),f.isLoading(!0),f.removeCourseDialogIsOpen(!1),r.removeCourse(f.DegreePlan().PersonId(),f.removingCourseId(),f.removingCourseTerm(),f.removingCourseSectionId(),ko.mapping.toJSON(ko.utils.unwrapObservable(f.DegreePlan).DegreePlanDto)).then(function(n){f.degreePlanChanged(!0);f.repositorySuccessHandler(n)}).catch(function(n){f.repositoryErrorHandler(n)}).then(h,h))};h=function(){f.removingCourseId(null);f.removingCourseTitle("");f.removingCourseTerm(null);f.removingCourseTermTitle("");f.removingCourseSectionId(null);f.updateCompleted()};this.canApprove=ko.computed(function(){if(Ellucian.Student.HasStudentPlanning){var n=f.isProxyUser();return!n}return!1});this.canSaveAdvisingNotes=ko.pureComputed(function(){return f.AdvisingNotes()===undefined||f.AdvisingNotes()===null||f.AdvisingNotes().trim()===""?!1:!0});this.canEdit=ko.computed(function(){var n=f.isProxyUser();return!n}).publishOn("canEdit");this.showRegister=ko.computed(function(){if(f.currentTerm()==null)return!1;var n=f.isProxyUser();return!n&&(f.currentTerm().AllowRegistration()===!0||forceEnableRegistrationButtons===!0)&&f.currentTerm().IsTermCompleted()===!1});this.userCanDrop=ko.computed(function(){if(f.currentTerm()==null)return!1;var n=f.isProxyUser();return!n&&f.currentTerm().IsTermCompleted()===!1});this.canSubmitForApproval=ko.computed(function(){if(Ellucian.Student.HasStudentPlanning){var n=ko.utils.unwrapObservable(f.DegreePlan);if(n!=null)return n.AdviseByOfficeFlag()&&!f.isProxyUser()?!0:n.StudentHasAdvisor()&&!f.isProxyUser()}return!1});this.showEventTitleAsLinks=ko.observable(!0);this.OpenDropDialog=ko.observable(!1);this.DropSection=ko.observable();this.DropOtherSections=ko.observableArray();this.DropMessage=ko.computed(function(){var t="",n=f.DropSection();return n!==null&&typeof n!="undefined"&&(t=stringDroppingSectionMessage+ko.utils.unwrapObservable(n.DropTitleDisplay)+" ("+ko.utils.unwrapObservable(n.CreditsCeusDisplay)+")"),t});this.showAddAuthorizationDialog=ko.observable(!1);this.authorizationSectionWrapper=ko.observable({authorizationSection:ko.observable(),authorizationAction:ko.observable()});this.authorizationCode=ko.observable();this.authorizationCodeFieldHasFocus=ko.observable(!1);this.showAddAuthorizationDialog.subscribe(function(n){n===!0?setTimeout(function(){f.authorizationCodeFieldHasFocus(!0)},100):f.authorizationCodeFieldHasFocus(!1)});this.canSubmitAuthorizationCode=ko.computed(function(){return f.authorizationCode()&&f.authorizationCode().length>0?!0:!1});this.submissionErrorMessage=ko.observable();this.submittingAuthorizationCode=ko.observable(!1);this.submittingAuthorizationCodesFromDrop=ko.observable(!1);this.submitAuthorizationCode=function(){return f.submittingAuthorizationCode(!0),u.submitAuthorizationCode(f.DegreePlan().PersonId(),f.authorizationSectionWrapper().authorizationSection().Section.Id(),f.authorizationCode()).then(function(){f.showAddAuthorizationDialog(!1);var n=[];n.push({plannedCourse:f.authorizationSectionWrapper().authorizationSection(),action:f.authorizationSectionWrapper().authorizationAction()});f.authorizationCode(null);f.RegisterSections(n)}).catch(function(n){f.submissionErrorMessage(n);f.authorizationCodeFieldHasFocus(!0)}).then(f.submitAuthorizationComplete,f.submitAuthorizationComplete)};this.cancelAuthorizationCode=function(){f.showAddAuthorizationDialog(!1);f.submissionErrorMessage(null)};this.submitAuthorizationComplete=function(){f.submittingAuthorizationCode(!1);f.submittingAuthorizationCodesFromDrop(!1)};this.IsRegistrationPaymentRequired=ko.observable(!1);this.queuedRepaints={};this.RepaintAvailableSections=function(n){typeof n!="undefined"&&(n.Id()in f.queuedRepaints&&clearTimeout(f.queuedRepaints[n.Id()]),f.queuedRepaints[n.Id()]=setTimeout(function(){f.RemoveAvailableSectionsOnCalendar(n);f.ShowAvailableSectionsOnCalendar(n);delete f.queuedRepaints[n.Id()]},50))};this.ResetToNoCoursesOpen=function(){if(f.currentTerm()!=null)for(var n=0;n<f.currentTerm().PlannedCourses().length;n++)f.currentTerm().PlannedCourses()[n].DisplayingAvailableSections()&&(f.currentTerm().PlannedCourses()[n].DisplayingAvailableSections(!1),f.RemoveAvailableSectionsOnCalendar(f.currentTerm().PlannedCourses()[n]));$(".availSections").hide();typeof prevTerm!="undefined"&&typeof prevTerm.PlannedCourses=="function"&&ko.utils.arrayForEach(prevTerm.PlannedCourses(),function(n){n.DisplayingAvailableSections&&(n.DisplayingAvailableSections(!1),f.RemoveAvailableSectionsOnCalendar(n))})};this.getAvailableSections=function(n,t){var i,e,s,u,r,h,l,a,v,y,p;if(f.currentTermCode()=="NonTermPlaceholder"){f.currentTerm().availableSectionsRetrieved(!0);return}for(i={},i.TermCode=f.currentTermCode(),e=[],s=f.currentTerm().PlannedCourses(),u=0;u<s.length;u++)r=s[u],e[u]=r.HasSection()||r.HasRegisteredSection()?{CourseId:r.Id(),SectionId:r.Section.Id()}:{CourseId:r.Id()};i.PlannedCourses=e;h=ko.utils.arrayFilter(f.currentTerm().locationFilters(),function(n){return n.Selected()==!0});i.Location=h?h.map(function(n){return n.Value()}).join(","):null;l=ko.utils.arrayFilter(f.currentTerm().facultyFilters(),function(n){return n.Selected()==!0});i.Faculty=l?l.map(function(n){return n.Value()}).join(","):null;a=ko.utils.arrayFirstDeprecated(f.currentTerm().availabilityFilters(),function(n){return n.Selected()==!0});i.AvailableOnly=a?a.Value():null;v=ko.utils.arrayFilter(f.currentTerm().dayOfWeekFilters(),function(n){return n.Selected()==!0});i.Day=v?v.map(function(n){return n.Value()}).join(","):null;y=ko.utils.arrayFirstDeprecated(f.currentTerm().timeOfDayFilters(),function(n){return n.Selected()==!0});i.TimeCategory=y?y.Value():null;p=ko.utils.arrayFirstDeprecated(f.currentTerm().topicFilters(),function(n){return n.Selected()==!0});i.Topic=p?p.Value():null;$.ajax({url:getAvailableSectionsActionUrl,data:JSON.stringify(i),type:"POST",contentType:jsonContentType,dataType:"json",beforeSend:function(){typeof Ellucian.Student.PlanViewModelMessages.getAvailableSections=="string"&&f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.getAvailableSections);f.isLoading(!0)},success:function(i){var s,h,u,e,r;if(!account.handleInvalidSessionResponse(i)){for(r=0;r<i.AvailableSectionResults.length;r++)for(s=i.AvailableSectionResults[r],h=ko.utils.arrayFilter(f.currentTerm().PlannedCourses(),function(n){return n.Id()==s.CourseId}),u=0;u<h.length;u++)h[u].AvailableSections(s.AvailableSections);for(f.allSections=ko.observableArray(),r=0;r<i.AvailableSectionResults.length;r++)ko.utils.arrayPushAll(f.allSections(),i.AvailableSectionResults[r].AvailableSections);for(f.currentTerm().availabilityFilters.removeAll(),r=0;r<i.Availability.length;r++)f.currentTerm().availabilityFilters.push(new Filter(i.Availability[r]));for(f.currentTerm().locationFilters.removeAll(),r=0;r<i.Locations.length;r++)e=ko.utils.arrayFirstDeprecated(f.allSections(),function(n){return n.Location==i.Locations[r].Value}),e&&f.currentTerm().locationFilters.push(new Filter(i.Locations[r]));for(f.currentTerm().dayOfWeekFilters.removeAll(),r=0;r<i.DaysOfWeek.length;r++)f.currentTerm().dayOfWeekFilters.push(new Filter(i.DaysOfWeek[r]));for(f.currentTerm().timeOfDayFilters.removeAll(),r=0;r<i.TimeOfDay.length;r++)f.currentTerm().timeOfDayFilters.push(new Filter(i.TimeOfDay[r]));for(f.currentTerm().topicFilters.removeAll(),r=0;r<i.Topics.length;r++)e=ko.utils.arrayFirstDeprecated(f.allSections(),function(n){return n.TopicCode==i.Topics[r].Value}),e&&f.currentTerm().topicFilters.push(new Filter(i.Topics[r]));for(f.currentTerm().facultyFilters.removeAll(),r=0;r<i.Faculty.length;r++)f.currentTerm().facultyFilters.push(new Filter(i.Faculty[r]));if(f.currentTerm().availableSectionsRetrieved(!0),typeof n!="undefined")f.exposeAvailableSections(n,t);else for(r=0;r<o.length;r++)o[r]!=null&&f.exposeAvailableSections(o[r],t)}},error:function(n){n.status==409?c():$("#notificationHost").notificationCenter("addNotification",{message:Ellucian.Student.PlanViewModelMessages.unableToGetAvailableSections.format(f.currentTermCode()),type:"error"})},complete:function(){f.isLoading(!1)}})};this.CommitDrop=function(){var n=[];ko.utils.arrayForEach(f.dropDialogDropSections(),function(t){t.selected()&&n.push({plannedCourse:t.plannedCourse,action:"Drop",dropReason:t.dropReason()})});var t=ko.utils.arrayFilter(f.dropDialogAddSections(),function(n){return n.selected()&&n.requiresAuthorization===!0&&!isNullOrEmpty(n.authorizationCode())}),i=ko.utils.arrayFilter(f.dropDialogAddSections(),function(n){return n.selected()&&n.requiresAuthorization===!1}),r=[],e=[];t.length>0&&ko.utils.arrayForEach(t,function(t){f.authorizationSectionWrapper().authorizationSection(t);f.submittingAuthorizationCodesFromDrop(!0);var i=u.submitAuthorizationCode(f.DegreePlan().PersonId(),f.authorizationSectionWrapper().authorizationSection().plannedCourse().Section.Id(),f.authorizationSectionWrapper().authorizationSection().authorizationCode()).then(function(){n.push({plannedCourse:t.plannedCourse(),action:"Add"});t.authorizationCode(null)}).catch(function(){var n=Ellucian.Student.AddAuthorization.Resources.SubmitAuthorizationCodeFormattedErrorMessage.format(t.text);e.push(n)}).then(f.submitAuthorizationComplete,f.submitAuthorizationComplete);r.push(i)});i.length>0&&ko.utils.arrayForEach(i,function(t){n.push({plannedCourse:t.plannedCourse(),action:"Add"})});Promise.all(r).then(function(){f.RegisterSections(n,e);f.OpenDropDialog(!1)})};this.CancelDropSection=function(){f.DropOtherSections([]);f.OpenDropDialog(!1)};this.currentTermEvents=function(){var v=[],u=f.currentTerm(),r,s,a,e,n,o,i,h,l;if(u!==null)for(r=0;r<u.PlannedCourses().length;r++)if(s=u.PlannedCourses()[r],ko.utils.unwrapObservable(s.IsDropped)!==!0){var y=u.PlannedCourses()[r],t=u.PlannedCourses()[r].Section,c=ko.utils.unwrapObservable(u.PlannedCourses()[r].AcademicHistory),p=!1;if(t!=null&&typeof t!="function"&&ko.utils.unwrapObservable(c.Section)==null)for((t.MeetingTimeConflict()||!t.IsActive()||t.Available()!=null&&t.Available()<=0)&&(p=!0),e=0;e<t.PlannedMeetings().length;e++)for(n=t.PlannedMeetings()[e],o=0;o<n.Days().length;o++)n.StartTimeHour()==0&&n.EndTimeHour()==0||(i=new Date,i.setDate(i.getDate()-(i.getDay()-n.Days()[o])),i.setHours(n.StartTimeHour(),n.StartTimeMinute()),h=new Date(i),h.setHours(n.EndTimeHour(),n.EndTimeMinute()),l={title:t.FormattedDisplay(),allDay:!1,start:i,end:h,className:p?"planned-conflict-cal-item":"planned-cal-item",sectionId:t.Id(),allowRemove:f.canEdit()&&!(u.PlannedCourses()[r].SectionWaitlistStatus()=="Active"||u.PlannedCourses()[r].SectionWaitlistStatus()=="PermissionToRegister")?!0:!1,course:y,section:t,credits:s.Credits(),gradingType:s.GetGradingType(),allowAdding:!1,showEventTitleAsLink:ko.utils.unwrapObservable(f.showEventTitleAsLinks)},v.push(l));if(a=ko.utils.unwrapObservable(c.Section),a&&a.PlannedMeetings&&a.PlannedMeetings().length>0)for(t=c.Section,e=0;e<t.PlannedMeetings().length;e++)for(n=t.PlannedMeetings()[e],o=0;o<n.Days().length;o++)n.StartTimeHour()==0&&n.EndTimeHour()==0||(i=new Date,i.setDate(i.getDate()-(i.getDay()-n.Days()[o])),i.setHours(n.StartTimeHour(),n.StartTimeMinute()),h=new Date(i),h.setHours(n.EndTimeHour(),n.EndTimeMinute()),l={id:c.Section.Id(),title:ko.unwrap(t.FormattedDisplay),allDay:!1,start:i,end:h,className:"registered-cal-item",sectionId:c.Section.Id(),allowRemove:!1,course:y,section:t,credits:ko.unwrap(s.Credits),gradingType:ko.unwrap(s.GetGradingType),allowAdding:!1,showEventTitleAsLink:ko.utils.unwrapObservable(f.showEventTitleAsLinks)},v.push(l))}return v};this.ShowAvailableSections=function(n,t){f.currentTerm().availableSectionsRetrieved()?f.exposeAvailableSections(n,t):(a=document.activeElement,f.getAvailableSections(n,t),a.focus())};this.exposeAvailableSections=function(n){var t=$(".availSections[data-course='"+n.Id()+"']");n.DisplayingAvailableSections()?(t.slideUp(50),n.DisplayingAvailableSections(!1),o[n.Id()]=null,setTimeout(function(){f.RemoveAvailableSectionsOnCalendar(n)},65)):(t.slideDown(50),n.DisplayingAvailableSections(!0),o[n.Id()]=n,setTimeout(function(){f.ShowAvailableSectionsOnCalendar(n)},130))};this.MouseOverAvailableSection=function(n,t,i){var r;i.target?r=i.target:i.srcElement&&(r=i.srcElement);n?f.HighlightAvailableSectionsOnCalendar(t.Id,!0):f.HighlightAvailableSectionsOnCalendar(t.Id,!1)};this.AddSectionToPlan=function(n,t){var i,r;if(n!=null&&(i=n.Course,typeof i=="undefined"&&(i=n),t!=null)){if(showSectionDetails({course:i,section:t,allowAdding:!0,addTerms:null,addCallback:f.commitAddSection,creditsOverride:null,studentId:f.DegreePlan().PersonId(),canSkipWaitlist:f.canSkipWaitlist()}),e.sectionId=t.Id,e.sectionNumber=t.Number,e.termId=f.currentTermCode(),r=n.IsNonTermSection(),(t.TermId===null||t.TermId==="")&&(r=!0),e.courseNonTerm=r,isCourseOrSectionVariableCredit(ko.mapping.toJS(t))){var u=t.VariableCreditIncrement,o=t.MinimumCredits,s=t.MaximumCredits;u!=null?e.courseCreditsFreeform=!1:(e.courseCreditsFreeform=!0,e.courseFreeformMin=o,e.courseFreeformMax=s)}else e.courseCreditsFreeform=!1,e.courseStaticCredits=isNullOrEmpty(t.MinimumCredits)?-1:t.MinimumCredits;e.courseId=i.Id();e.courseSectionId=t.Id}};c=function(){r.get(f.DegreePlan().PersonId()).then(function(n){f.degreePlanChanged(!0);f.repositorySuccessHandler(n)}).catch(function(n){$("#notificationHost").notificationCenter("addNotification",{message:n,type:"error"})}).then(f.updateCompleted,f.updateCompleted)};this.commitAddSection=function(n){var n=$.extend({},b,n),t,i;if(e.courseId!=null){if(e.courseCreditsFreeform){if(t=n.chosenCredits,t===null||t===""||t===undefined){alert(Ellucian.Student.PlanViewModelMessages.specifyCredits);focusAddingSection();return}if(!isNumber(t)){alert(Ellucian.Student.PlanViewModelMessages.specifyCreditsRange.format(e.courseFreeformMin,e.courseFreeformMax));focusAddingSection();return}if(t>e.courseFreeformMax||t<e.courseFreeformMin){alert(Ellucian.Student.PlanViewModelMessages.specifyCreditsRange.format(e.courseFreeformMin,e.courseFreeformMax));focusAddingSection();return}}i=isNullOrEmpty(n.chosenCredits)?e.courseStaticCredits:n.chosenCredits;e.courseNonTerm&&(e.termId="");f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.updatingMessage);f.ajaxBeforeSendHandler();closeSectionDetails();r.addSection(f.DegreePlan().PersonId(),e.courseId,e.termId,e.sectionId,n.chosenGradingType,i,ko.mapping.toJSON(f.DegreePlan().DegreePlanDto)).then(function(n){e.courseId=null;e.sectionId=null;e.sectionNumber=null;e.termId=null;f.degreePlanChanged(!0);f.repositorySuccessHandler(n)}).catch(function(n){e.courseId=null;e.sectionId=null;e.sectionNumber=null;e.termId=null;f.repositoryErrorHandler(n)}).then(f.updateCompleted,f.updateCompleted)}};this.PlannedCourseCredits=function(){var n,t;if(f.currentTerm()!=null)for(n=f.currentTerm().PlannedCourses(),i=0;i<n.length;i++)t=n[i];return 0};this.HighlightAvailableSectionsOnCalendar=function(n,t){var i=s+n,r=$("div[data-previewid = '"+i+"']");$.each(r,function(n,i){t?$(i).addClass("preview-fullopacity-cal-item"):$(i).removeClass("preview-fullopacity-cal-item")})};this.ShowAvailableSectionsOnCalendar=function(n){var a=[],b=n,h=n.PagedAvailableSections(),u,e,i,o,r,l,v;if(h.length>0)for(u=0;u<h.length;u++){var c=y,t=h[u];if(t!=null&&typeof t!="function")for(t.WaitlistAvailable===!0&&(t.Waitlisted>0||t.Available!==null&&t.Available===0&&t.Capacity!==null)?c=p:t.Available!=null&&t.Available<=0&&(c=w),e=0;e<t.PlannedMeetings.length;e++)if(i=t.PlannedMeetings[e],i.StartTime!=null&&i.EndTime!=null)for(o=0;o<i.Days.length;o++)r=new Date,r.setDate(r.getDate()-(r.getDay()-i.Days[o])),r.setHours(i.StartTimeHour,i.StartTimeMinute),l=new Date(r),l.setHours(i.EndTimeHour,i.EndTimeMinute),v={id:s+t.Id,title:t.FormattedDisplay,allDay:!1,start:r,end:l,className:c,sectionId:t.Id,allowRemove:!1,course:n,section:t,allowAdding:!0,showEventTitleAsLink:ko.utils.unwrapObservable(f.showEventTitleAsLinks)},a.push(v)}ko.utils.arrayForEach(a,function(n){setTimeout(function(){$(".schedule-calendar").fullCalendar("renderEvent",n)},10)})};this.RemoveAvailableSectionsOnCalendar=function(n){for(var t,r=[],u=n.Course,i=0;i<n.AvailableSections().length;i++)t=n.AvailableSections()[i],t!=null&&typeof t!="function"&&r.push(s+t.Id);ko.utils.arrayForEach(r,function(n){$(".schedule-calendar").fullCalendar("removeEvents",function(t){return t.id!=undefined?t.id==n:!1})})};this.RemoveSectionClickHandler=function(n){f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.updatingMessage);f.ajaxBeforeSendHandler();r.removeSection(f.DegreePlan().PersonId(),n.sectionId,ko.mapping.toJSON(f.DegreePlan().DegreePlanDto)).then(function(n){f.degreePlanChanged(!0);f.repositorySuccessHandler(n)}).catch(function(n){f.repositoryErrorHandler(n)}).then(f.updateCompleted,f.updateCompleted)};this.SectionDetailsClickHandler=function(n){n!==null&&(n.allowAdding?f.AddSectionToPlan(n.course,n.section):showSectionDetails({course:n.course,section:n.section,allowAdding:n.allowAdding,creditsOverride:n.credits,gradingTypeOverride:n.gradingType,addCallback:null,addTerms:null,studentId:f.DegreePlan().PersonId(),canSkipWaitlist:f.canSkipWaitlist()}))};this.RegisterAllHandler=function(){var r=[],t,i,n;for(f.dropDialogDropSections([]),f.dropDialogUnavailableDropSections([]),t=[],n=0;n<f.notRegisteredPlannedCourses().length;n++)dropDialogAddSection=new BulkSectionsToDropOrAdd("Add",f.notRegisteredPlannedCourses()[n],null,null,f.isProxyUser()),t.push(dropDialogAddSection);if(f.dropDialogAddSections(t),f.atLeastOneSectionToAddRequiresAuthorizationCode())f.dropDialogAddSections.sort(function(n,t){return n.requiresAuthorization===t.requiresAuthorization?0:n.requiresAuthorization?-1:1}),f.OpenDropDialog(!0);else{for(i=f.notRegisteredPlannedCourses(),n=0;n<i.length;n++)r.push({plannedCourse:i[n],action:"Add"});f.RegisterSections(r)}};this.RegisterSectionHandler=function(n,t){var o,c,u,e,i;if(t=="Drop"){f.DropSection(n);o=f.VerifyCorequisiteSections();f.DropOtherSections(o);var r=f.registeredPlannedCourses(),s=[],h=[];for(i=0;i<r.length;i++)c=f.DropOtherSections.indexOf(r[i])>=0,dropDialogDropSection=new BulkSectionsToDropOrAdd("Drop",r[i],c,n,f.isProxyUser()),dropDialogDropSection.isAvailableForDrop?s.push(dropDialogDropSection):h.push(dropDialogDropSection);for(f.dropDialogDropSections(s),f.dropDialogUnavailableDropSections(h),u=f.notRegisteredPlannedCourses(),e=[],i=0;i<u.length;i++)dropDialogAddSection=new BulkSectionsToDropOrAdd("Add",u[i],null,null,f.isProxyUser()),e.push(dropDialogAddSection);f.dropDialogAddSections(e);f.dropDialogAddSections.sort(function(n,t){return n.requiresAuthorization===t.requiresAuthorization?0:n.requiresAuthorization?-1:1});f.OpenDropDialog(!0)}else n.RequiresAddAuthorizationCode()&&t!=="RemoveFromWaitlist"?(f.authorizationSectionWrapper().authorizationSection(n),f.authorizationSectionWrapper().authorizationAction(t),f.showAddAuthorizationDialog(!0)):f.RegisterSections([{plannedCourse:n,action:t}])};this.registeredPlannedCourses=ko.computed(function(){var i,n,t;if(f.currentTerm()===null||typeof f.currentTerm().PlannedCourses=="undefined")return[];for(i=[],n=0;n<f.currentTerm().PlannedCourses().length;n++)t=ko.utils.unwrapObservable(f.currentTerm().PlannedCourses()[n].AcademicHistory),t===null||t.HasSection()!==!0||t.IsCompletedCredit()||i.push(f.currentTerm().PlannedCourses()[n]);return i}).extend({throttle:10});this.notRegisteredPlannedCourses=ko.computed(function(){var i,r,t,n;if(f.currentTerm()==null||typeof f.currentTerm().PlannedCourses=="undefined")return[];for(i=[],r=f.currentTerm().PlannedCourses(),t=0;t<r.length;t++)n=r[t],ko.utils.unwrapObservable(n.AcademicHistory.HasSection)===!1&&ko.utils.unwrapObservable(n.AcademicHistory.IsCompletedCredit)===!1&&ko.utils.unwrapObservable(n.Section)!=null&&i.push(n);return i}).extend({throttle:10});this.dropDialogDropSections=ko.observableArray();this.dropDialogUnavailableDropSections=ko.observableArray();this.dropDialogAddSections=ko.observableArray();this.hasDropSections=ko.pureComputed(function(){return f.dropDialogDropSections()&&f.dropDialogDropSections().length>0?!0:!1});this.hasUnavailableDropSections=ko.pureComputed(function(){return f.dropDialogUnavailableDropSections()&&f.dropDialogUnavailableDropSections().length>0?!0:!1});this.hasAddSections=ko.pureComputed(function(){return f.dropDialogAddSections()&&f.dropDialogAddSections().length>0?!0:!1});this.isAddingWithoutDropping=ko.pureComputed(function(){return!f.hasDropSections()&&f.hasAddSections()?!0:!1});this.showDropsAndAddsSeparator=ko.pureComputed(function(){return!f.isAddingWithoutDropping()&&f.showSelectDropReasonHeader()?!0:!1});this.numberOfSelectedItemsToAddDrop=ko.computed(function(){return ko.utils.arrayFilter(f.dropDialogDropSections(),function(n){return n.selected()}).length+ko.utils.arrayFilter(f.dropDialogAddSections(),function(n){return n.selected()}).length});this.droppedSectionsWithoutDropReason=ko.computed(function(){return ko.utils.arrayFilter(f.dropDialogDropSections(),function(n){return n.selected()&&n.dropReasonToValidate()===!0})});this.addedSectionsWithoutAuthorizationCodeWhenRequired=ko.computed(function(){return ko.utils.arrayFilter(f.dropDialogAddSections(),function(n){return n.selected()&&n.requiresAuthorization===!0&&isNullOrEmpty(n.authorizationCode())})});this.addDropDialogTitle=ko.pureComputed(function(){return f.isAddingWithoutDropping()?Ellucian.DegreePlans.Resources.UiRegisterButtonLabel:Ellucian.DegreePlans.Resources.UiDropTitle});this.dropDialogButtonLabel=ko.computed(function(){return f.isAddingWithoutDropping()?Ellucian.DegreePlans.Resources.UiIndividualRegisterButtonLabel:Ellucian.DegreePlans.Resources.DropDialogDrop});this.VerifyCorequisiteSections=function(){for(var i,s,n,l,h,r,u,e,a,o=f.DropSection().AcademicHistory.Section.Id(),c=[],t=0;t<f.registeredPlannedCourses().length;t++)if(o!==f.registeredPlannedCourses()[t].AcademicHistory.Section.Id()&&(i=f.registeredPlannedCourses()[t],i.AcademicHistory.Section!=null&&(s=i.AcademicHistory.Section,n=ko.utils.unwrapObservable(s.SectionCorequisites),n!=null&&n.indexOf(o)!==-1))){for(l=s.SectionCorequisitesNumberNeeded(),h=0,r=0;r<n.length;r++)for(u=0;u<f.registeredPlannedCourses().length;u++)e=f.registeredPlannedCourses()[u],e.AcademicHistory.HasSection()===!0&&o!==e.AcademicHistory.Section.Id()&&(a=e.AcademicHistory.Section.Id(),a===n[r]&&(h+=1));h<l&&c.push(ko.utils.unwrapObservable(i))}return c};this.RegisterSections=function(n,t){var e,i;if(n.length>0){for(e=[],i=0;i<n.length;i++){var u=ko.utils.unwrapObservable(n[i].plannedCourse),o=n[i].action,s=null;n[i].action=="Drop"&&(s=n[i].dropReason);var h=ko.utils.unwrapObservable(u.Section),c=h==null?u.AcademicHistory.Section.Id():h.Id(),l=u.Credits();o=="Add"&&(u.GradingType()==Ellucian.Course.SectionDetails.stringAuditGradingCode||u.GradingType()==Ellucian.Course.SectionDetails.stringPassFailGradingCode)&&(o=u.GradingType());e.push({SectionId:c,Credits:l,Action:o,DropReasonCode:s})}f.ajaxBeforeSendHandler(stringRegistrationMessage);r.register(f.DegreePlan().PersonId(),e).then(function(n){f.LoadingMessage(stringRegistrationCompleteMessage);f.CompleteRegistration(n,t)}).catch(function(n){f.repositoryErrorHandler(n)}).then(null,f.updateCompleted)}else t&&t.length>0&&f.repositorySuccessHandler(null,t)};this.CompleteRegistration=function(n,t){r.completeRegistration(f.DegreePlan().PersonId(),n).then(function(n){f.degreePlanChanged(!0);f.repositorySuccessHandler(n,t)}).catch(function(n){$("#notificationHost").notificationCenter("addNotification",{message:n,type:"error"})}).then(f.updateCompleted,f.updateCompleted)};this.Details=function(n){showCourseOrSectionDetails({course:n,allowAdding:!1,addTerms:null,addCallback:null,creditsOverride:null,canSkipWaitlist:f.canSkipWaitlist()})};this.ajaxBeforeSendHandler=function(){f.LoadingMessage(Ellucian.Student.PlanViewModelMessages.updatingMessage);f.isLoading(!0)};this.updateCompleted=function(){f.CheckIfPaymentRequired();f.currentTermCode.valueHasMutated();f.isLoading(!1)};this.SelectPreviousTerm=function(){var n=ko.utils.arrayFirstDeprecated(f.DegreePlan().Terms(),function(n){return n.Code()==f.currentTermCode()}),t=f.DegreePlan().Terms().indexOf(n)-1;f.currentTermCode(f.DegreePlan().Terms()[t].Code())};this.SelectNextTerm=function(){var n=ko.utils.arrayFirstDeprecated(f.DegreePlan().Terms(),function(n){return n.Code()==f.currentTermCode()}),t=f.DegreePlan().Terms().indexOf(n)+1;f.currentTermCode(f.DegreePlan().Terms()[t].Code())};this.ShowScheduleTerm=function(n){$("#schedplan-schedule-tablink").trigger("click");setTimeout(function(){f.currentTermCode(n)},5)};this.removeTermDialogIsOpen=ko.observable(!1);this.ShowRemoveTermDialog=function(n){f.removeTermDialogIsOpen(!0);typeof n!="undefined"?f.removingTerm(n):f.removingTerm(f.currentTerm())};this.CommitRemoveTerm=function(){var t=null,n;if(f.removingTerm()!=null){if(f.currentTermCode()===f.removingTerm().Code())for(n=0;n<f.DegreePlan().Terms().length;n++)f.DegreePlan().Terms()[n].Code()===f.removingTerm().Code()&&(t=n+1<f.DegreePlan().Terms().length?f.DegreePlan().Terms()[n+1].Code():f.DegreePlan().Terms()[n-1].Code());typeof stringRemovingTermProcessing=="string"&&f.LoadingMessage(stringRemovingTermProcessing);f.isLoading(!0);f.removeTermDialogIsOpen(!1);r.removeTerm(f.DegreePlan().PersonId(),f.removingTerm().Code(),ko.mapping.toJSON(f.DegreePlan().DegreePlanDto)).then(function(n){if(f.degreePlanChanged(!0),t!=null){var i=ko.utils.arrayFirstDeprecated(f.DegreePlan().Terms(),function(n){return n.Code()==t});f.currentTermCode(i.Code())}f.repositorySuccessHandler(n);f.removingTerm(null)}).catch(function(n){f.repositoryErrorHandler(n)}).then(f.updateCompleted,f.updateCompleted)}};this.CancelRemoveTerm=function(){f.removeTermDialogIsOpen(!1);f.addingTerm(null)};this.addTermDialogIsOpen=ko.observable(!1);this.ShowAddTermDialog=function(){var n=f.DegreePlan().UnplannedTerms();try{n.length==1?($("#addTermId").attr("selectedIndex",0),$("#schedplan-addtermformaddbutton").trigger("click")):f.addTermDialogIsOpen(!0)}catch(t){$("#notificationHost").notificationCenter("addNotification",{message:Ellucian.Student.PlanViewModelMessages.noTermsCanBeAdded,type:"error"})}};this.CommitAddTerm=function(){f.addingTerm()!=null&&(typeof stringAddingTermProcessing=="string"&&f.LoadingMessage(stringAddingTermProcessing),f.isLoading(!0),f.addTermDialogIsOpen(!1),r.addTerm(f.DegreePlan().PersonId(),f.addingTerm(),ko.mapping.toJSON(f.DegreePlan().DegreePlanDto)).then(function(n){f.repositorySuccessHandler(n);f.addingTerm(null);for(var t=0;t<f.DegreePlan().Terms().length;t++)if(f.DegreePlan().Terms()[t]!==null&&f.DegreePlan().Terms()[t].Code()===n.TermToShow){f.currentTermCode(f.DegreePlan().Terms()[t].Code());break}f.isShowingSchedule?f.ShowScheduleTerm(f.currentTermCode()):f.ScrollToTerm(!0)}).catch(function(n){f.repositoryErrorHandler(n)}).then(f.updateCompleted,f.updateCompleted))};this.CancelAddTerm=function(){f.addTermDialogIsOpen(!1);f.addingTerm(null)};this.RequisiteWarningLinkHandler=function(n){var t=f.searchUrl();if(requisiteModel.prototype.isPrototypeOf(n)?t+="?requirement="+encodeURIComponent(n.RequisiteId())+"&requirementText="+encodeURIComponent(n.DisplayText()):corequisiteCourseModel.prototype.isPrototypeOf(n)?t+="?CourseIds="+encodeURIComponent(n.Id())+"&requirementText="+encodeURIComponent(n.DisplayMessage()):corequisiteSectionModel.prototype.isPrototypeOf(n)&&(t+="?SectionIds="+encodeURIComponent(n.SectionIds())+"&requirementText="+encodeURIComponent(n.DisplayMessage())),f.searchAsync())$.ajax({url:t,type:"GET",contentType:jsonContentType,dataType:"json",success:function(n){account.handleInvalidSessionResponse(n)||(f.catalogResult(n),f.catalogResultsDisplayed(!0),advisingTabsViewModelInstance.activeTabId("advising-catalog"))},error:function(n){n.status!=0&&$("#notificationHost").notificationCenter("addNotification",{message:"Unable to retrieve search results.",type:"error"})},complete:function(){}});else{window.location=t;return}return!1};this.CheckIfPaymentRequired=function(){paymentRequiredActionUrl!==""&&f.isProxyUser()===!1?$.ajax({url:paymentRequiredActionUrl,type:"GET",contentType:jsonContentType,dataType:"json",success:function(n){account.handleInvalidSessionResponse(n)||(n.length>0?f.IsRegistrationPaymentRequired(!0):f.IsRegistrationPaymentRequired(!1))},error:function(){f.IsRegistrationPaymentRequired(!1)}}):f.IsRegistrationPaymentRequired(!1)};this.ImmediatePayment=function(){if(immediatePaymentActionUrl){var n=f.currentTermCode(),t=f.selectedTab(),i=window.location.href,r={ReturnUrl:i,TermId:n,SelectedTab:t};ko.utils.postJson(immediatePaymentActionUrl,{model:r,__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()})}};this.toggleSectionFilters=function(n){!n.availableSectionsRetrieved()&&n.PlannedCourses().length>0&&f.getAvailableSections();n.showingFilters(!n.showingFilters())};this.filterClickHandler=function(n){n.Selected(!n.Selected());f.ResetToNoCoursesOpen();f.getAvailableSections()};this.clearDialogTerms=ko.observableArray();this.clearTermSelected=ko.computed(function(){if(typeof f.clearDialogTerms()=="undefined"||f.clearDialogTerms().length===0)return!1;for(var n=0;n<f.clearDialogTerms().length;n++)if(f.clearDialogTerms()[n].selected())return!0;return!1});this.clearPlannedTermDialogIsOpen=ko.observable(!1);this.ShowClearPlannedTermDialog=function(){f.removingCourseTerm(f.currentTermCode());f.removingCourseTermTitle(f.currentTerm().Description());f.clearDialogTerms.push({termCode:f.currentTermCode(),description:f.currentTerm().Description(),selected:ko.observable(!0)});f.clearPlannedTermDialogIsOpen(!0)};this.ShowClearPlannedTermsDialog=function(){var n,t;for(f.DegreePlan().ClearableTerms().length==1&&(f.removingCourseTerm(f.DegreePlan().ClearableTerms()[0].Code()),f.removingCourseTermTitle(f.DegreePlan().ClearableTerms()[0].Description())),n=0;n<f.DegreePlan().ClearableTerms().length;n++)t=f.DegreePlan().ClearableTerms()[n],f.clearDialogTerms.push({termCode:f.DegreePlan().ClearableTerms()[n].Code(),description:f.DegreePlan().ClearableTerms()[n].Description(),selected:ko.observable(!0)});f.clearPlannedTermDialogIsOpen(!0)};this.CancelClearPlannedTerms=function(){f.clearPlannedTermDialogIsOpen(!1);f.removingCourseTerm(null);f.removingCourseTermTitle("");f.clearDialogTerms([])};this.CommitClearPlannedCourses=function(){for(var r,i=[],t=f.clearDialogTerms(),n=0;n<t.length;n++)r=t[n],t[n].selected()&&i.push(t[n].termCode);f.clearDialogTerms([]);f.ClearPlannedCourses(i);f.clearPlannedTermDialogIsOpen(!1)};this.ClearPlannedCourses=function(n){n.length>0&&(typeof stringClearPlannedCourseProcessing=="string"&&f.LoadingMessage(stringClearPlannedCourseProcessing),f.isLoading(!0),f.clearPlannedTermDialogIsOpen(!1),r.clearPlan(f.DegreePlan().PersonId(),n,ko.mapping.toJSON(ko.utils.unwrapObservable(f.DegreePlan).DegreePlanDto)).then(function(n){f.degreePlanChanged(!0);f.repositorySuccessHandler(n)}).catch(function(n){f.repositoryErrorHandler(n)}).then(l,l))};l=function(){f.removingCourseTerm(null);f.removingCourseTermTitle("");f.updateCompleted()};this.atLeastOneSectionToAddRequiresAuthorizationCode=ko.pureComputed(function(){var n=ko.utils.arrayFilter(f.dropDialogAddSections(),function(n){return n.requiresAuthorization===!0});return n.length>0});this.dropDialogAddSectionsHeadingCss=ko.pureComputed(function(){return f.atLeastOneSectionToAddRequiresAuthorizationCode()?"esg-col-sm-6":"esg-col-sm-12"});this.dropDialogDropSectionsHeadingCss=ko.pureComputed(function(){return f.DropReasonsConfiguration&&f.DropReasonsConfiguration.PromptForDropReason()?"esg-col-sm-6":"esg-col-sm-12"});this.showSelectDropReasonHeader=ko.pureComputed(function(){if(f.dropDialogDropSections()&&f.dropDialogDropSections().length>0){var n=ko.utils.arrayFilter(f.dropDialogDropSections(),function(n){return n&&n.plannedCourse&&n.plannedCourse().Section&&n.plannedCourse().Section.ShowDropReasonDropdown()===!0?!0:!1});return n.length>0}return!1});this.dropSectionButtonEnabled=ko.computed(function(){return f.droppedSectionsWithoutDropReason().length>0||f.addedSectionsWithoutAuthorizationCodeWhenRequired().length>0||f.numberOfSelectedItemsToAddDrop()===0?!1:!0});this.ModifiedAdvisingContacts=ko.observableArray();v={create:function(n){return new function(){this.selected=ko.observable("");this.toggle=function(){this.selected()===""?this.selected("esg-icon__container--fill"):this.selected("")};ko.mapping.fromJS(n.data,{},this)}}};this.selected=ko.observable("");this.toggle=function(){this.selected()===""?this.selected("esg-icon__container--fill"):this.selected("")};this.RefreshRegistrationEligibility=function(n){return typeof refreshingRegistrationEligibility=="string"&&f.LoadingMessage(refreshingRegistrationEligibility),f.isLoading(!0),f.termEligibility.removeAll(),isNullOrEmpty(n)&&(n=typeof f.DegreePlan()!="undefined"?f.DegreePlan().PersonId():""),r.refreshRegistrationEligibility(n).then(function(n){var t=n.RegistrationEligibility,r,i;if(ko.mapping.fromJS(n,planMapping,f),Ellucian.Student.HasStudentPlanning&&ko.mapping.fromJS(f.DegreePlan().AdvisingContacts(),v,f.ModifiedAdvisingContacts),!account.handleInvalidSessionResponse(n)){for(t.Notifications.length>0&&$("#notificationHost").notificationCenter("addNotification",t.Notifications),r=[],i=0;i<t.Terms.length;i++)r.push(t.Terms[i]);f.termEligibility(r);f.hasRegistrationOverride(t.HasRegistrationOverride)}}).catch(function(){$("#notificationHost").notificationCenter("addNotification",{message:Ellucian.RegistrationEligibility.Resources.UnableToDetermineRegistrationEligibility,type:"error"})}).then(f.updateCompleted,f.updateCompleted)};this.studentPetitionsWaiversInstance=new StudentPetitionsWaiversViewModel;this.repositorySuccessHandler=function(n,t){var i,e,r,u;if(n){for(i=f.currentTermCode(),e=!0,r=0;r<n.Terms.length;r++)i===n.Terms[r].Code&&(e=!1);e===!0&&(i=n.TermToShow,f.currentTermCode(i));ko.mapping.fromJS(n,planMapping,f.DegreePlan);f.isMobile.valueHasMutated();setTimeout(function(){var n,t;if($("#notificationHost").notificationCenter("reset"),f.DegreePlan().Notifications().length>0)for(n=0;n<f.DegreePlan().Notifications().length;n++)t=ko.toJS(f.DegreePlan().Notifications()[n]),$("#notificationHost").notificationCenter("addNotification",t)},350);u=ko.utils.arrayFirstDeprecated(f.DegreePlan().Terms(),function(n){return n.Code()==i});typeof u!="undefined"&&u!==null&&f.currentTermCode(u.Code());Ellucian.Student.HasStudentPlanning&&(f.updateEvaluations(!0),f.updatePlanningTerms(f.DegreePlan().AvailableSamplePlanTerms()),f.updateAvailablePlanningTerms(f.DegreePlan().AvailablePlanningTerms()))}t&&t.length>0&&setTimeout(function(){for(var n=0;n<t.length;n++)$("#notificationHost").notificationCenter("addNotification",{message:t[n],type:"error"})},350)};this.repositoryErrorHandler=function(n){n.hasOwnProperty("isStale")&&n.isStale===!0&&c(n.message);var t=n.hasOwnProperty("message")?n.message:n;$("#notificationHost").notificationCenter("addNotification",{message:t,type:"error"})};this.addTermButton={id:"schedplan-addtermformaddbutton",title:Ellucian.DegreePlans.Resources.UiAddTermPopupButtonText,isPrimary:!0,callback:f.CommitAddTerm};this.addTermCancelButton={id:"schedplan-addtermformcancelbutton",title:Ellucian.DegreePlans.Resources.UiAddTermCancelButtonText,isPrimary:!1,callback:f.CancelAddTerm};this.clearTermButton={id:"dp-clearterm-remove",title:Ellucian.DegreePlans.Resources.RemoveItemButtonText,isPrimary:!0,callback:f.CommitClearPlannedCourses};this.clearTermCancelButton={id:"dp-clearterm-cancel",title:Ellucian.DegreePlans.Resources.RemoveItemCancelButtonText,enabled:f.clearTermSelected,isPrimary:!1,callback:f.CancelClearPlannedTerms};this.dropSectionButton={id:"dp-dropsection-commit",title:f.dropDialogButtonLabel,enabled:f.dropSectionButtonEnabled,isPrimary:!0,callback:f.CommitDrop};this.dropSectionCancelButton={id:"dp-dropsection-cancel",title:Ellucian.DegreePlans.Resources.DropDialogCancel,isPrimary:!1,callback:f.CancelDropSection};this.removeTermButton={id:"dp-removeterm-remove",title:Ellucian.DegreePlans.Resources.RemoveItemButtonText,isPrimary:!0,callback:f.CommitRemoveTerm};this.removeTermCancelButton={id:"dp-removeterm-cancel",title:Ellucian.DegreePlans.Resources.RemoveItemCancelButtonText,isPrimary:!1,callback:f.CancelRemoveTerm};this.submitAuthorizationCodeButton={id:"dp-submit-authorization-code",title:Ellucian.DegreePlans.Resources.SubmitAuthorizationCodeButtonLabel,enabled:f.canSubmitAuthorizationCode,isPrimary:!0,callback:f.submitAuthorizationCode};this.cancelAuthorizationCodeButton={id:"dp-cancel-authorization-code",title:Ellucian.SharedComponents.ButtonLabels.buttonTextCancel,isPrimary:!1,callback:f.cancelAuthorizationCode};this.removeCourseRemoveButton={id:"schedplan-removecourse-remove",title:Ellucian.DegreePlans.Resources.RemoveItemButtonText,isPrimary:!0,callback:f.commitRemoveCourse};this.removeCourseCancelButton={id:"schedplan-removecourse-cancel",title:Ellucian.DegreePlans.Resources.RemoveItemCancelButtonText,isPrimary:!1,callback:f.CancelRemoveCourse}};Ellucian.Student.PlanningPlanViewModel=function(n,t,i,r){var u=this;Ellucian.Student.BasePlanViewModel.call(u,n,t,i,r);this.samplePlanLoaded=ko.observable(!1).subscribeTo("samplePlanLoaded");this.samplePlanLoaded.subscribe(function(n){n===!0&&(i.removeSessionKeys(u.DegreePlan().PersonId()),u.degreePlanChanged(!0))});this.ScrollToTerm=function(n){var t=$("#dp-plans").css("overflow-y")==="hidden";$(".dp-termouter").each(function(){var i,f,r;if(u.DegreePlan()===null||typeof u.DegreePlan()=="undefined")return!1;i=$(this).find(".dp-termlisting").children(":first");f=i.text();f===u.currentTerm().Description()&&(i=i.parent(),t===!0?(r=$("#dp-plans").scrollLeft()+$(this).position().left-$("#scroll-left").outerWidth(!0),$("#dp-plans").animate({scrollLeft:r},u.ToggleScrollButtons)):(r=$("#dp-plans").scrollTop()+$(this).position().top,$("#dp-plans").animate({scrollTop:r},u.ToggleScrollButtons)),n===!0&&(this.FocusInTerm=function(n){if(n!==null)try{var t=!1,i=n.parent().next().children();i.length>0&&(i.first().find(".dp-planneditemlink").first().focus(),t=!0);t||n.focus()}catch(r){}}))})};u.tabWrapperClass=ko.pureComputed(function(){var n="esg-col-sm-12";return u.showArchivedPlans()===!0&&(n="esg-col-sm-6"),n});u.showArchivedPlans=ko.observable(!1);Ellucian.Student.HasStudentPlanning&&(this.planArchiveInstance=new planArchiveViewModel(!n),this.getDegreePlanArchives=function(){$.ajax({url:getPlanArchivesUrl+"?degreePlanId="+u.DegreePlan().Id(),type:"GET",contentType:jsonContentType,dataType:"json",beforeSend:function(){u.planArchiveInstance.isLoading(!0);u.planArchiveInstance.isLoaded(!1);u.planArchiveInstance.archives.removeAll()},success:function(n){account.handleInvalidSessionResponse(n)||u.planArchiveInstance.archives.pushAll(n)},error:function(n){n.status!=0&&$("#notificationHost").notificationCenter("addNotification",{message:Ellucian.DegreePlans.Resources.PlanArchiveErrorMessage,type:"error"})},complete:function(){u.planArchiveInstance.isLoading(!1);u.planArchiveInstance.isLoaded(!0)}})},this.ShowPlanArchivePanel=ko.observable(!1),this.ShowArchivePanelAction=ko.observable(!0),this.showSplitPanel=function(){u.planArchiveInstance.isLoaded()!==!0&&u.getDegreePlanArchives();u.showArchivedPlans(!0)},this.hideSplitPanel=function(){u.showArchivedPlans(!1)});this.isReviewRequestDisable=ko.computed(function(){var n=ko.utils.unwrapObservable(u.DegreePlan);return n!=null&&n.AdviseByOfficeFlag()&&!u.isProxyUser()&&n.IsReviewRequestDisabled()?!0:!1});this.requestReview=function(){u.LoadingMessage(Ellucian.Student.PlanViewModelMessages.requestingReviewMessage);u.isLoading(!0);i.requestReview(u.DegreePlan().PersonId(),ko.mapping.toJSON(u.DegreePlan().DegreePlanDto)).then(function(n){u.repositorySuccessHandler(n)}).catch(function(n){u.repositoryErrorHandler(n)}).then(u.updateCompleted,u.updateCompleted)};this.updateEvaluations=ko.observable().syncWith("updateEvaluations");this.UpdateCourse=function(n){if(n!==null&&!isNullOrEmpty(n.newTerm)){if(n.oldTerm===n.newTerm){closeCourseDetails();return}typeof stringUpdatingCourseProcessing=="string"&&u.LoadingMessage(stringUpdatingCourseProcessing);closeCourseDetails();u.isLoading(!0);i.updateCourse(u.DegreePlan().PersonId(),n.courseId,n.oldTerm,n.newTerm,ko.mapping.toJSON(u.DegreePlan().DegreePlanDto)).then(function(n){u.degreePlanChanged(!0);u.repositorySuccessHandler(n)}).catch(function(n){u.repositoryErrorHandler(n)}).then(u.updateCompleted,u.updateCompleted)}};this.AddAdvisingNoteFromStudent=function(n){if(Ellucian.Student.HasStudentPlanning&&!isNullOrEmpty(n)){var t=null;try{t=u.DegreePlan().DegreePlanDto;(typeof t=="undefined"||t==="")&&(t=null)}catch(r){t=null}typeof stringAddingAdvisingNote=="string"&&u.LoadingMessage(stringAddingAdvisingNote);u.isLoading(!0);i.submitNote(u.DegreePlan().PersonId(),n,"STUDENT",ko.mapping.toJSON(t)).then(function(n){ko.mapping.fromJS(n,planMapping,u.DegreePlan);u.AdvisingNotes("");$("#advising-notes-compose-box").trigger("focus");$("#notificationHost").notificationCenter("addNotification",{message:Ellucian.Student.PlanViewModelMessages.YourMessageHasBeenSavedText,type:"success",flash:!0})}).catch(function(n){u.repositoryErrorHandler(n)}).then(u.updateCompleted,u.updateCompleted)}};this.scrollingTimelineWait=!1;this.ScrollTerms=function(n){if(u.scrollingTimelineWait!==!0){u.scrollingTimelineWait=!0;setTimeout(function(){u.scrollingTimelineWait=!1},205);var t=$(".dp-termwrapper").children(".dp-termouter:first-child").outerWidth(!0);n=="left"?$("#dp-plans").animate({scrollLeft:$("#dp-plans").scrollLeft()-t},"fast",u.ToggleScrollButtons):n=="right"&&$("#dp-plans").animate({scrollLeft:$("#dp-plans").scrollLeft()+t},"fast",u.ToggleScrollButtons)}};this.LeftScrollEnabled=ko.observable(!0);this.RightScrollEnabled=ko.observable(!0);this.ToggleScrollButtons=function(){var n=!0,t=!0,i,r;$("#dp-plans").HasScrollBar()===!1&&(n=!1,t=!1);var f=$("#dp-plans").scrollLeft()+$("#scroll-left").outerWidth(!0),e=$("#dp-plans").width()-$("#scroll-right").outerWidth(!0),o=$(".dp-termwrapper").children(".dp-termouter:first-child").position().left;o>=f&&(n=!1);i=$(".dp-termwrapper").children(".dp-termouter:last-child").position().left;r=i+$(".dp-termwrapper").children(".dp-termouter:last-child").width();r<=e&&(t=!1);u.LeftScrollEnabled(n);u.RightScrollEnabled(t)};this.draggableItems="Course";this.ProcessCourseDrop=function(n,t){if(n){var i={courseId:n.Id(),oldTerm:n.TermCode(),newTerm:t.Code()};u.UpdateCourse(i)}};this.ProcessDragEnter=function(n,t,i){var f=!1,r=!1,e=!1;return ko.utils.arrayFirstDeprecated(u.availablePlanningTerms(),function(n){return n.Code()===i.Code()&&(r=!0),r}),t.IsPlanned()===!0&&t.HasSection()===!1&&t.IsProtected()===!1&&(e=!0),e===!0&&r===!0&&(f=!0),f};this.ScrollTermHover=function(n,t,i){u.ScrollTerms(i)};this.firstTermWithCourse=ko.computed({read:function(){if(u.DegreePlan()){var n=0;return ko.utils.arrayFirstDeprecated(u.DegreePlan().Terms(),function(t,i){if(t.Code()===u.currentTermCode())return n=i,!0}),ko.utils.arrayFirstDeprecated(u.DegreePlan().Terms().slice(n,u.DegreePlan().Terms().length),function(n){return ko.utils.arrayFirstDeprecated(n.PlannedCourses(),function(n){if(n.IsPlanned()===!0&&n.HasSection()===!1&&n.IsProtected()===!1)return n})})}},deferEvaluation:!0});this.firstDraggableCourse=ko.computed({read:function(){if(u.firstTermWithCourse())return ko.utils.arrayFirstDeprecated(u.firstTermWithCourse().PlannedCourses(),function(n){if(n.IsPlanned()===!0&&n.HasSection()===!1&&n.IsProtected()===!1)return n})},deferEvaluation:!0});this.getDragCourseMarkTopPx=function(n){return-5+50*n};this.getDragCourseMarkLeftPx=function(n){var t=0,i=0;return ko.utils.arrayFirstDeprecated(u.DegreePlan().Terms(),function(n,t){if(n.Code()===u.currentTermCode())return i=t,!0}),ko.utils.arrayFirstDeprecated(u.DegreePlan().Terms().slice(i,u.DegreePlan().Terms().length),function(i,r){if(i.Code()===n)return t=r,!0}),41+293*t};this.hideCoachMark=ko.observable(!0);this.showCoachMarkOnce=!0;this.checkCoachMarkShown=function(){if(this.showCoachMarkOnce===!0)this.showCoachMarkOnce=!1;else return!0};this.dismissCoachMark=function(){u.hideCoachMark(!1);var n={preferencesJson:ko.toJSON({HasViewedTimelineDragCoachmark:!0})};return u.saveCoachMarkStatus(n),!0};this.getCoachMarkStatus=function(){$.ajax({url:getHasViewedCoachmark,type:"GET",contentType:jsonContentType,dataType:"json",success:function(n){u.processCoachMarkResponse(n)},error:function(){u.hideCoachMark(!0)}})};this.saveCoachMarkStatus=function(n){$.ajax({url:saveHasViewedCoachmark,type:"POST",contentType:jsonContentType,dataType:"json",data:JSON.stringify(n),success:function(n){u.processCoachMarkResponse(n)},error:function(){u.hideCoachMark(!0)}})};this.processCoachMarkResponse=function(n){n!==null&&n.HasViewedTimelineDragCoachmark!==null&&u.hideCoachMark(n.HasViewedTimelineDragCoachmark==="true")}};$.fn.HasScrollBar=function(){var n=$(this)[0],t;return n?(t=!1,(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth)&&(t=!0),t):!1};BulkSectionsToDropOrAdd=function(n,t,i,r,u){var f=this;this.selected=ko.observable(n=="Drop"&&(i||r==t));this.plannedCourse=ko.observable(t);this.title=t.TitleDisplay();this.message=i?Ellucian.Course.SectionDetails.stringCoreqFormatString.format(r.DropTitleDisplay()):"";this.id=n+t.TitleDisplay();this.labelId="label"+t.TitleDisplay();n=="Drop"?(this.text=t.DropTitleDisplay(),this.creditsCeusText=Ellucian.Course.SectionDetails.stringCreditsCeusFormatString.format(t.AcademicHistory.CreditsCeusDisplay()),this.isAvailableForDrop=t.CanDropSection()):n=="Add"&&(this.text=t.TitleDisplay(),this.creditsCeusText=Ellucian.Course.SectionDetails.stringCreditsCeusFormatString.format(t.CreditsCeusDisplay()),this.requiresAuthorization=!!t.RequiresAddAuthorizationCode(),this.canBeSelected=!u||u&&!t.RequiresAddAuthorizationCode(),this.authorizationCode=ko.observable(),this.requiredAuthorizationMissing=ko.computed(function(){return f.selected()===!0&&f.requiresAuthorization&&isNullOrEmpty(f.authorizationCode())?!0:!1}),this.authorizationCodeId="dp-authorization-code-"+t.Section.Id(),this.authorizationCodeLabel="dp-authorization-code-label-"+t.Section.Id());this.dropReason=ko.observable(null);this.dropReasonToValidate=ko.computed(function(){return f.selected()===!0&&t.Section.RequireDropReason()&&isNullOrEmpty(f.dropReason())&&n=="Drop"?!0:!1});this.selected.subscribe(function(){f.selected()===!1&&f.dropReason(null)})};Ellucian.Student.PlanViewModel=function(n,t,i,r){return Ellucian.Student.HasStudentPlanning?new Ellucian.Student.PlanningPlanViewModel(n,t,i,r):new Ellucian.Student.BasePlanViewModel(!1,t,i,r)};forceEnableRegistrationButtons=!1;this.planViewModelInstance=new Ellucian.Student.PlanViewModel;documentReady=function(){var t,n,i,r;if(typeof result!="undefined"&&result!==null&&result!==""&&(planViewModelInstance.DegreePlan(ko.mapping.fromJS(result,planMapping)),t=document.getElementById("print-schedule-body"),t!==null)){if(!isNullOrEmpty(result.TermToShow))for(n=0;n<planViewModelInstance.DegreePlan().Terms().length;n++)if(planViewModelInstance.DegreePlan().Terms()[n]!==null&&planViewModelInstance.DegreePlan().Terms()[n].Code()===result.TermToShow){planViewModelInstance.currentTermCode(planViewModelInstance.DegreePlan().Terms()[n].Code());break}ko.applyBindings(planViewModelInstance,t)}i=document.getElementById("print-schedule-books");i!==null&&(r=new Ellucian.Student.Textbooks.SectionTextbooksViewModel(books),ko.applyBindings(r,i))};$(document).ready(function(){documentReady()})